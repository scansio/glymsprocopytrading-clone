"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[25214],{625214:(t,e,i)=>{i.d(e,{linking:()=>v});var s=i(290484),a=i(650151),o=i(735566),n=i(820028),r=(i(931924),i(477786)),h=i(388741),l=i(68777),d=i(900210);var u=i(62802),c=i(588948),b=i(17957),_=i(388130),y=i(776734);var m=i(736800),S=i(296538),p=i(912445);const g=(0,o.getLogger)("Linking");class w{constructor(t,e,i){this.watchedSymbols=new n.WatchedValue([]),this.watchedSymbol=new n.WatchedValue,this.seriesShortSymbol=new n.WatchedValue,this.proSymbol=new n.WatchedValue,this.ensuredProSymbol=new n.WatchedValue,this.watchedInterval=new n.WatchedValue,this.watchedIntraday=new n.WatchedValue,this.watchedSeconds=new n.WatchedValue,this.watchedTicks=new n.WatchedValue,this.watchedDataFrequencyResolution=new n.WatchedValue,this.watchedRange=new n.WatchedValue,this.watchedSupportedResolutions=new n.WatchedValue,this.watchedSupportedChartStyles=new n.WatchedValue,this.symbolNamesList=new n.WatchedValue,this._chartWidgetCollection=null,this._chartWidgetBindingState=0,this._activeChartWidget=null,this._linkingGroupCharts=null,this._boundChartWidget=null,this._watchedSymbolListenerBound=this._watchedSymbolListener.bind(this),this._watchedIntervalListenerBound=this._watchedIntervalListener.bind(this),this._setGroupSymbolCancellationToken={cancelled:!1},this._muted=!1,this.updateBoundChartWidget=()=>{const t=this._chartToBind();t!==this._boundChartWidget&&(null===t?this.unbindFromChartWidget():this.bindToChartWidget(t))},this._updateAllGroupChartWidgets=()=>{this._destroySymbolIntervalPropertySubscriptions?.();const t=(0,a.ensureNotNull)(this._linkingGroupCharts).value(),e=[],i=[];for(const s of t){const t=s.symbolWV().spawn(),a=s.resolutionWV().spawn();t.subscribe(this._updateSymbolByProperty.bind(this,s)),a.subscribe(this._updateIntervalByProperty.bind(this,s)),e.push(t),i.push(a)}this._destroySymbolIntervalPropertySubscriptions=()=>{e.forEach((t=>t.destroy())),i.forEach((t=>t.destroy())),this._destroySymbolIntervalPropertySubscriptions=void 0};const s=this.watchedSymbol.value();t.length>1&&this._needApplySymbol(s)&&!this._muted&&this._setGroupSymbol(s);const o=this.watchedInterval.value();t.length>1&&this._needApplyInterval(o)&&!this._muted&&this._setGroupInterval(o),this.updateBoundChartWidget()},this._groupIndex=t;const s=(t,e)=>{t.subscribe((t=>{i()===this&&e.setValue(t)}),{callWithLast:!0})};s(this.watchedSymbols,e.watchedSymbols),s(this.watchedSymbol,e.watchedSymbol),s(this.seriesShortSymbol,e.seriesShortSymbol),s(this.proSymbol,e.proSymbol),s(this.ensuredProSymbol,e.ensuredProSymbol),s(this.watchedInterval,e.watchedInterval),s(this.watchedIntraday,e.watchedIntraday),s(this.watchedSeconds,e.watchedSeconds),s(this.watchedTicks,e.watchedTicks),s(this.watchedDataFrequencyResolution,e.watchedDataFrequencyResolution),s(this.watchedRange,e.watchedRange),s(this.watchedSupportedResolutions,e.watchedSupportedResolutions),s(this.watchedSupportedChartStyles,e.watchedSupportedChartStyles),s(this.symbolNamesList,e.symbolNamesList),
this.watchedSymbol.subscribe((t=>{this._boundChartWidget&&this._boundChartWidget.hasModel()&&this.mainSeries().symbolSameAsCurrent(t)||this.proSymbol.setValue(t)}),{callWithLast:!0})}mute(t){this._muted=t}bindToChartWidgetCollection(t){this.unbindFromChartWidgetCollection(),this._chartWidgetCollection=t,this._activeChartWidget=t.activeChartWidget.spawn(),this._activeChartWidget.subscribe(this.updateBoundChartWidget),this._linkingGroupCharts=t.linkingGroupsCharts(this._groupIndex).spawn(),this._linkingGroupCharts.subscribe(this._updateAllGroupChartWidgets),this.updateBoundChartWidget(),this._updateAllGroupChartWidgets();const e=function(t){const e=(0,l.combine)((()=>t.getAll().filter((t=>t.isVisible()&&t.hasModel())).map((t=>(0,d.createWVFromGetterAndSubscription)((()=>t.model().mainSeries().symbol()),t.model().mainSeries().symbolResolved()).ownership()))),t.chartModels().weakReference(),t.layout.weakReference());return(0,l.accumulate)((t=>t),e.ownership())}(t);e.subscribe((t=>{this.watchedSymbols.setValue(t)})),this.watchedSymbols.setValue(e.value())}unbindFromChartWidgetCollection(){this.unbindFromChartWidget(),this._chartWidgetCollection=null,this._activeChartWidget?.destroy(),this._activeChartWidget=null,this._linkingGroupCharts?.destroy(),this._linkingGroupCharts=null,this._destroySymbolIntervalPropertySubscriptions?.()}bindToChartWidget(t){if(this.unbindFromChartWidget(),this._boundChartWidget=t,t.hasModel())return void this._onChartModelCreated(t.model());t.modelCreated().subscribe(this,this._onChartModelCreated,!0),this._chartWidgetBindingState=1;const e=t.mainSeriesProperties().childs();this.watchedSymbol.setValue(e.symbol.value()),this.watchedInterval.setValue(e.interval.value()),this._boundChartWidget.linkingGroupIndex().subscribe(this.updateBoundChartWidget)}unbindFromChartWidget(){const t=this._boundChartWidget;if(null!==t){switch(this._chartWidgetBindingState){case 1:t.modelCreated().unsubscribeAll(this);break;case 2:this.watchedSymbol.unsubscribe(this._watchedSymbolListenerBound);const e=this.mainSeries().dataEvents();e.symbolResolved().unsubscribeAll(this),e.symbolError().unsubscribeAll(this),this.mainSeries().onIntervalChanged().unsubscribeAll(this),this.watchedInterval.unsubscribe(this._watchedIntervalListenerBound),delete this.watchedSymbol.writeLock}t.linkingGroupIndex().unsubscribe(this.updateBoundChartWidget),this._boundChartWidget=null,this._chartWidgetBindingState=0}}boundChartWidget(){return this._boundChartWidget}mainSeries(){if(!this._boundChartWidget)throw new Error("ChartWidget is undefined");return this._boundChartWidget.model().mainSeries()}_watchedSymbolListener(t){this._needApplySymbol(t)&&!this._muted&&this._setGroupSymbol(t)}_updateSymbolByProperty(t,e){const i=this._symbolLock();i&&this._needApplySymbol(e)&&!this._muted&&this._setGroupSymbol(e),(i||t===this._boundChartWidget)&&this.watchedSymbol.setValue(e)}_watchedIntervalListener(t){const e=r.Interval.normalize(t);e&&this._needApplyInterval(e)&&!this._muted&&this._setGroupInterval(e)}_updateIntervalByProperty(t,e){
const i=this._intervalLock(),s=r.Interval.normalize(e);i&&s&&this._needApplyInterval(s)&&!this._muted&&this._setGroupInterval(s),(i||t===this._boundChartWidget)&&this.watchedInterval.setValue(s??e)}_updateSeriesSymbolInfo(){this.seriesShortSymbol.setValue((0,a.ensureNotNull)(this._boundChartWidget).getSymbol(!0));const t=this.mainSeries().symbolInfo();if(t){const e=t.pro_name||!1;this.proSymbol.setValue(e||this.watchedSymbol.value()),this.ensuredProSymbol.setValue(this.proSymbol.value()),t.aliases&&this.symbolNamesList.setValue(t.aliases);let i=(0,S.allChartStyles)();((0,h.isCloseBasedSymbol)(t)||this.mainSeries().intervalObj().value().is1Tick())&&(i=i.filter((t=>(0,h.isSingleValueBasedStyle)(t)))),"hlc"===t.visible_plots_set&&(i=i.filter((t=>(0,h.isHLCBasedStyle)(t)||(0,h.isSingleValueBasedStyle)(t)))),this.watchedSupportedChartStyles.setValue(i),this.watchedIntraday.setValue(!!t.has_intraday),this.watchedSeconds.setValue(!!t.has_seconds),this.watchedTicks.setValue(!(0,h.isCloseBasedSymbol)(t)&&!!t["is-tickbars-available"]),this.watchedRange.setValue(!(0,h.isCloseBasedSymbol)(t));const s=t.data_frequency?t.data_frequency:void 0;this.watchedDataFrequencyResolution.setValue(s)}else this.watchedIntraday.setValue(!1),this.watchedSeconds.setValue(!1),this.watchedTicks.setValue(!1),this.watchedRange.setValue(!1),this.mainSeries().isFailed()&&this.ensuredProSymbol.setValue(this.proSymbol.value())}_onChartModelCreated(t){if(!this._boundChartWidget)throw new Error("ChartWidget is undefined");this._chartWidgetBindingState=2,this.watchedSymbol.setValue(this._boundChartWidget.symbolWV().value()),this.watchedSymbol.subscribe(this._watchedSymbolListenerBound);const e=t.mainSeries().dataEvents();e.symbolResolved().subscribe(this,this._updateSeriesSymbolInfo),e.symbolError().subscribe(this,this._updateSeriesSymbolInfo),t.mainSeries().onIntervalChanged().subscribe(this,this._updateSeriesSymbolInfo),this._updateSeriesSymbolInfo(),this.watchedInterval.setValue(this._boundChartWidget.resolutionWV().value()),this.watchedInterval.subscribe(this._watchedIntervalListenerBound),this._boundChartWidget.readOnly()&&(this.watchedSymbol.writeLock=!0)}_chartToBind(){const t=this._chartWidgetCollection;return null===t?null:t.activeChartWidget.value().linkingGroupIndex().value()===this._groupIndex?t.activeChartWidget.value():null!==this._boundChartWidget&&this._boundChartWidget.linkingGroupIndex().value()===this._groupIndex?this._boundChartWidget:t.getAll().find((t=>t.linkingGroupIndex().value()===this._groupIndex))??null}_symbolLock(){return!!this._chartWidgetCollection?.lock.symbol.value()}_intervalLock(){return!!this._chartWidgetCollection?.lock.interval.value()}_chartsForLock(t){return(0===t?this._symbolLock():this._intervalLock())?(0,a.ensureNotNull)(this._linkingGroupCharts).value():this._boundChartWidget?[this._boundChartWidget]:[]}_setGroupSymbol(t){this.mute(!0),this._setGroupSymbolCancellationToken.cancelled=!0;const e=this._setGroupSymbolCancellationToken={cancelled:!1};(0,
a.ensureNotNull)(this._chartWidgetCollection).setSymbol(t,this._groupIndex,(0,a.ensureNotNull)(this._boundChartWidget)).finally((()=>{if(this._boundChartWidget&&!e.cancelled){const e=this._boundChartWidget.model().mainSeries();e.symbolSameAsCurrent(t)||(this.watchedSymbol.setValue(e.symbol()),this.proSymbol.setValue(e.proSymbol()))}})),this.mute(!1)}_needApplySymbol(t){const e=this._chartsForLock(0),i=e.find((e=>e.hasModel()&&e.model().mainSeries().symbolInfo()&&e.model().mainSeries().symbolSameAsResolved(t)));if(i){const t=i.model().mainSeries();if(e.every((e=>t.symbolSameAsResolved(e.symbolWV().value()))))return!1}return e.some((e=>e.symbolWV().value()!==t))}_setGroupInterval(t){this.mute(!0),(0,a.ensureNotNull)(this._chartWidgetCollection).setResolution(t,this._groupIndex).finally((()=>{if(this._boundChartWidget){const e=this._boundChartWidget.resolutionWV().value();r.Interval.isEqual(e,t)||this.watchedInterval.setValue(e)}})),this.mute(!1)}_needApplyInterval(t){return this._chartsForLock(1).some((e=>!r.Interval.isEqual(e.resolutionWV().value(),t)))}}const v=new class{constructor(){this._watchedSymbols=new n.WatchedValue([]),this._watchedSymbol=new n.WatchedValue,this._seriesShortSymbol=new n.WatchedValue,this._proSymbol=new n.WatchedValue,this._ensuredProSymbol=new n.WatchedValue,this._watchedInterval=new n.WatchedValue,this._watchedIntraday=new n.WatchedValue,this._watchedSeconds=new n.WatchedValue,this._watchedTicks=new n.WatchedValue,this._watchedDataFrequencyResolution=new n.WatchedValue,this._watchedRange=new n.WatchedValue,this._watchedSupportedResolutions=new n.WatchedValue,this._watchedSupportedChartStyles=new n.WatchedValue([]),this._symbolNamesList=new n.WatchedValue,this._chartWidgetCollection=null,this._onSymbolLinkBound=this._onSymbolLink.bind(this),this._searchCharts=null,this._searchChartsLoadDebounced=null,this._selfEmit=!1,this._preventFeedBySymbol=!1,this._feedBySymbolDebounceCounter=0,this._linkingGroups=new Map,this._activeLinkingGroup=new n.WatchedValue,this._activeLinkingGroupIndex=null,this._updateLinkingGroups=()=>{(0,a.ensureNotNull)(this._chartWidgetCollection).allLinkingGroups().value().forEach((t=>this._linkingGroup(t))),this._linkingGroups.forEach((t=>t.updateBoundChartWidget()))},this._activeLinkingGroup.setValue(this._linkingGroup(null));const t=(t,e)=>{t.subscribe((t=>e().setValue(t)),{callWithLast:!0})};t(this._watchedSymbols,(()=>this._activeLinkingGroup.value().watchedSymbols)),t(this._watchedSymbol,(()=>this._activeLinkingGroup.value().watchedSymbol)),t(this._seriesShortSymbol,(()=>this._activeLinkingGroup.value().seriesShortSymbol)),t(this._proSymbol,(()=>this._activeLinkingGroup.value().proSymbol)),t(this._ensuredProSymbol,(()=>this._activeLinkingGroup.value().ensuredProSymbol)),t(this._watchedInterval,(()=>this._activeLinkingGroup.value().watchedInterval)),t(this._watchedIntraday,(()=>this._activeLinkingGroup.value().watchedIntraday)),t(this._watchedSeconds,(()=>this._activeLinkingGroup.value().watchedSeconds)),
t(this._watchedTicks,(()=>this._activeLinkingGroup.value().watchedTicks)),t(this._watchedDataFrequencyResolution,(()=>this._activeLinkingGroup.value().watchedDataFrequencyResolution)),t(this._watchedRange,(()=>this._activeLinkingGroup.value().watchedRange)),t(this._watchedSupportedResolutions,(()=>this._activeLinkingGroup.value().watchedSupportedResolutions)),t(this._watchedSupportedChartStyles,(()=>this._activeLinkingGroup.value().watchedSupportedChartStyles)),t(this._symbolNamesList,(()=>this._activeLinkingGroup.value().symbolNamesList));const e=t=>{this._watchedSymbol.setValue(t.watchedSymbol.value()),this._seriesShortSymbol.setValue(t.seriesShortSymbol.value()),this._proSymbol.setValue(t.proSymbol.value()),this._ensuredProSymbol.setValue(t.ensuredProSymbol.value()),this._watchedInterval.setValue(t.watchedInterval.value()),this._watchedIntraday.setValue(t.watchedIntraday.value()),this._watchedSeconds.setValue(t.watchedSeconds.value()),this._watchedTicks.setValue(t.watchedTicks.value()),this._watchedDataFrequencyResolution.setValue(t.watchedDataFrequencyResolution.value()),this._watchedRange.setValue(t.watchedRange.value()),this._watchedSupportedResolutions.setValue(t.watchedSupportedResolutions.value()),this._watchedSupportedChartStyles.setValue(t.watchedSupportedChartStyles.value()),this._symbolNamesList.setValue(t.symbolNamesList.value())};this._activeLinkingGroup.subscribe(e),e(this._activeLinkingGroup.value()),(0,p.setMuteLinkingGroup)(((t,e)=>{this._linkingGroup(t).mute(e)}))}get symbols(){return this._watchedSymbols}get symbol(){return this._watchedSymbol}get proSymbol(){return this._proSymbol.readonly()}get ensuredProSymbol(){return this._ensuredProSymbol.readonly()}get symbolNamesList(){return this._symbolNamesList.readonly()}get seriesShortSymbol(){return this._seriesShortSymbol.readonly()}get interval(){return this._watchedInterval}get intraday(){return this._watchedIntraday.readonly()}get seconds(){return this._watchedSeconds.readonly()}get ticks(){return this._watchedTicks.readonly()}get range(){return this._watchedRange.readonly()}get supportedResolutions(){return this._watchedSupportedResolutions.readonly()}get supportedChartStyles(){return this._watchedSupportedChartStyles.readonly()}get preventFeedBySymbol(){return this._preventFeedBySymbol}get dataFrequencyResolution(){return this._watchedDataFrequencyResolution.readonly()}activeLinkingGroup(){return this._activeLinkingGroup.readonly()}getChartWidget(){return this.activeLinkingGroup().value().boundChartWidget()}bindToChartWidgetCollection(t){this._chartWidgetCollection?.onAboutToBeDestroyed.unsubscribeAll(this),this._unbindFromChartWidgetCollection(),this._chartWidgetCollection=t,this._chartWidgetCollection.onAboutToBeDestroyed.subscribe(this,this._unbindFromChartWidgetCollection),this._chartWidgetCollection.allLinkingGroups().subscribe(this._updateLinkingGroups),this._updateLinkingGroups(),this._activeLinkingGroupIndex=t.activeLinkingGroup().spawn(),this._activeLinkingGroupIndex.subscribe((t=>{
this._activeLinkingGroup.setValue(this._linkingGroup(t))}),{callWithLast:!0}),this._linkingGroups.forEach((e=>e.bindToChartWidgetCollection(t)))}bindToSearchCharts(t){this.unbindFromSearchCharts(),this._searchCharts=t,t.onSearchBySymbol.subscribe(this,this._onSearchBySymbol),t.loadingSymbol.subscribe((t=>{!1===t&&(this._feedBySymbolDebounceCounter=0)})),this._watchedSymbol.subscribe(this._onSymbolLinkBound)}unbindFromSearchCharts(){this._searchCharts&&(this._searchCharts.onSearchBySymbol.unsubscribe(this,this._onSearchBySymbol),this._watchedSymbol.unsubscribe(this._onSymbolLinkBound),this._searchCharts=null)}setPreventFeedBySymbol(t){this._preventFeedBySymbol=t}setSymbolAndLogInitiator(t,e,i,s=!1){var a,o,n,r;(this.symbol.value()!==t||i)&&(g.logInfo(`Change linking symbol to ${t}, initiator: ${e}`),this.symbol.setValue(t,i),s||null===this._chartWidgetCollection||(a=this.activeLinkingGroup().value().mainSeries(),o=this._chartWidgetCollection.layout.value(),n=this._chartWidgetCollection.metaInfo.uid.value()||"",r=e,window.user.do_not_track||a.symbolResolvingActive().subscribe((t=>{if(t)return;const e=a.symbolInfo();e&&(0,y.getTracker)().then((t=>{null!==t&&t.trackChartSymbols({symbolName:e.pro_name,symbolType:e.type,resolution:a.interval(),layoutType:o,chartId:n,openSource:r,platform:(0,b.getPlatform)(),isExpert:window.user.declared_status===_.UserStatus.Pro})}))}),{once:!0})))}setIntervalAndLogInitiator(t,e){r.Interval.isEqual(this.interval.value(),t)||((0,m.trackIntervalChanging)(t,e),this.interval.setValue(t))}_onSearchBySymbol(t){if(!t.resolved_symbol)throw new Error("no resolved_symbol");this._selfEmit=!0,this._watchedSymbol.setValue(t.resolved_symbol),this._selfEmit=!1}_onSymbolLink(t){if(!this._selfEmit){if(!this._searchCharts){const t="No search charts defined";throw g.logError(t),new Error(t)}this._preventFeedBySymbol||this._loadSearchCharts(t)}}_loadSearchCharts(t){if(!this._searchCharts){const t="No search charts defined";throw g.logError(t),new Error(t)}if(this._searchChartsLoadDebounced)return void(this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced(t)));const e=t=>this._searchCharts?(!0===this._searchCharts.loadingSymbol.value()?this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced=(0,s.default)(e,2e3),this._searchChartsLoadDebounced(t)):this._searchChartsLoadDebounced=null,this._searchCharts.feedBySymbol.call(this._searchCharts,t)):()=>{};!0===this._searchCharts.loadingSymbol.value()?this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced=(0,s.default)(e,2e3),this._searchChartsLoadDebounced(t)):this._searchCharts.feedBySymbol(t)}_linkingGroup(t){let e=this._linkingGroups.get(t);if(void 0===e){const i={watchedSymbols:this._watchedSymbols,watchedSymbol:this._watchedSymbol,seriesShortSymbol:this._seriesShortSymbol,proSymbol:this._proSymbol,ensuredProSymbol:this._ensuredProSymbol,watchedInterval:this._watchedInterval,
watchedIntraday:this._watchedIntraday,watchedSeconds:this._watchedSeconds,watchedTicks:this._watchedTicks,watchedDataFrequencyResolution:this._watchedDataFrequencyResolution,watchedRange:this._watchedRange,watchedSupportedResolutions:this._watchedSupportedResolutions,watchedSupportedChartStyles:this._watchedSupportedChartStyles,symbolNamesList:this._symbolNamesList};e=new w(t,i,(()=>this._activeLinkingGroup.value())),this._linkingGroups.set(t,e),this._chartWidgetCollection&&e.bindToChartWidgetCollection(this._chartWidgetCollection)}return e}_unbindFromChartWidgetCollection(){null!==this._chartWidgetCollection&&(this._activeLinkingGroupIndex?.destroy(),this._activeLinkingGroupIndex=null,this._linkingGroups.forEach((t=>t.unbindFromChartWidgetCollection())),this._chartWidgetCollection.allLinkingGroups().unsubscribe(this._updateLinkingGroups),this._chartWidgetCollection=null)}};{const t=(0,c.getFreshInitData)().symbolInfo,e=t?t.pro_symbol:u.getValue("editchart.model.symbol",window.DEFAULT_SYMBOL);v.setSymbolAndLogInitiator(e,"initial data",!1,!0)}window.TradingViewApi||(window.TradingViewApi={linking:v})},912445:(t,e,i)=>{let s;function a(t,e){s?.(t,e)}function o(t){s=t}i.d(e,{muteLinkingGroup:()=>a,setMuteLinkingGroup:()=>o})},736800:(t,e,i)=>{i.d(e,{trackIntervalChanging:()=>r});var s=i(584878),a=i(776734),o=i(147582);const n="IntervalChanging";function r(t,e){window.user.do_not_track||(0,s.shouldAffectUser)(n,o.sparseUsersTrackingCoefficient)&&(0,a.getTracker)().then((i=>{null!==i&&i.trackChartIntervalChanging(t,e)}))}},296538:(t,e,i)=>{i.d(e,{allChartStyles:()=>o});var s=i(931924);const a=(0,i(638456).onWidget)();function o(){return function(){const t=[0,1,9,13,2,14,15,3,16,10];return t.push(12),a||t.push(17),a||t.push(18),a||t.push(20),a||t.push(19),t}().concat(function(){const t=[8];return s.enabled("japanese_chart_styles")&&(t.push(4,7,5,6),t.push(11)),t}())}},388130:(t,e,i)=>{i.d(e,{UserStatus:()=>s,getDaysUntilBlock:()=>r,getDaysUntilBlockForUser:()=>n,isUserLockedOut:()=>h});var s,a=i(302221),o=i(336669);!function(t){t.NonPro="non_pro",t.Pro="pro"}(s||(s={}));const n=(0,o.memoize)((()=>window.user.is_trial&&window.user.pro_plan?window.user.is_expert||window.user.declared_status!==s.Pro?a.WEEKLY_SUBSCRIPTION_DAYS_LEN:a.MONTHLY_SUBSCRIPTION_DAYS_LEN:a.WEEKLY_SUBSCRIPTION_DAYS_LEN)),r=(0,o.memoize)((()=>{const t=window.user.declared_status_timestamp;if(!t)return null;const e=((new Date).getTime()-new Date(1e3*t).getTime())/1e3/24/60/60;return n()-Math.floor(e)})),h=(0,o.memoize)((t=>{const e=t??r();return Boolean(null!==e&&e<=0)}))},17957:(t,e,i)=>{i.d(e,{getPlatform:()=>o});var s=i(314802),a=i(638456);function o(){return(0,a.isDesktopApp)()?"desktop":(0,s.isOnMobileAppPage)("old")?"ios":(0,s.isOnMobileAppPage)("new")?"android":"web"}},336669:(t,e,i)=>{function s(t,e){const i=new Map;return function(...s){const a=""+(e?e.apply(null,s):s[0]);if(!i.has(a)){const e=t.apply(this,s);return i.set(a,e),e}return i.get(a)}}i.d(e,{memoize:()=>s})}}]);