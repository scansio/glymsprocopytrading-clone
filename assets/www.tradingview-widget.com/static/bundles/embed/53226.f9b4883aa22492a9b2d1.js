"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[53226],{850117:(e,t,n)=>{n.d(t,{CircularCacheBuffer:()=>r});var i=n(650151);function s(e){const{prevItem:t,nextItem:n}=e;null!==t&&(t.nextItem=n),null!==n&&(n.prevItem=t)}class r{constructor(e=0,t=1.3){this._cache=new Map,this._lastItem=null,this._firstItem=null,this._size=e,this._sizeLimited=e>0,this._capacityFactor=t}set(e,t){const n={key:e,value:t,prevItem:this._lastItem,nextItem:null};null!==this._lastItem&&(this._lastItem.nextItem=n);const i=this._cache.get(e);return void 0!==i&&(s(i),i===this._firstItem&&(this._firstItem=i.nextItem)),this._cache.set(e,n),this._lastItem=n,null===this._firstItem&&(this._firstItem=n),this._sizeLimited&&this._cache.size>this._size*this._capacityFactor&&this._removeExtraItems(),this}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);if(void 0===t)return t;if(t===this._firstItem&&(this._firstItem=t.nextItem??t),t!==this._lastItem){s(t);const e=(0,i.ensureNotNull)(this._lastItem);e.nextItem=t,t.prevItem=e,t.nextItem=null,this._lastItem=t}return t.value}clear(){this._cache.clear(),this._firstItem=null,this._lastItem=null}delete(e){const t=this._cache.get(e);return void 0!==t&&(s(t),t===this._lastItem&&(this._lastItem=t.prevItem),t===this._firstItem&&(this._firstItem=t.nextItem)),this._cache.delete(e)}*entries(){if(null!==this._firstItem)for(let e=this._firstItem;null!==e;e=e.nextItem)yield[e.key,e.value]}state(){const e=[];for(const[t,n]of this.entries())e.push([t,n]);return e}restoreState(e){for(const t of e)this.set(t[0],t[1])}_removeExtraItems(){const e=this._cache.size-this._size;let t=(0,i.ensureNotNull)(this._firstItem);for(let n=0;n<e;n+=1)this._cache.delete(t.key),t=(0,i.ensureNotNull)(t.nextItem);t.prevItem=null,this._firstItem=t}}},560770:(e,t,n)=>{var i,s;n.d(t,{HorizontalAlign:()=>i,VerticalAlign:()=>s}),function(e){e.Left="left",e.Right="right",e.Center="center"}(i||(i={})),function(e){e.Top="top",e.Bottom="bottom",e.Middle="middle"}(s||(s={}))},810715:(e,t,n)=>{n.d(t,{clone:()=>i.clone,isNumber:()=>i.isNumber,isObject:()=>i.isObject,merge:()=>i.merge});var i=n(536794)},20019:(e,t,n)=>{n.d(t,{ConflatedChunksBuilder:()=>a});var i=n(650151),s=n(660439);const r=[{barsToMerge:10,forBarspacingLargerThen:.03},{barsToMerge:30,forBarspacingLargerThen:.01},{barsToMerge:100,forBarspacingLargerThen:.003},{barsToMerge:500,forBarspacingLargerThen:0}];class a{constructor(e,t){this._plots=e,this._conflatedChunks={chunks:new Map,priceSource:null,priceSourcesProvider:t},this._clearConflatedChunks()}conflatedChunks(e,t){if(t!==this._conflatedChunks.priceSource){this._conflatedChunks.priceSource=t;const e=this._plots.first();e&&(this._clearConflatedChunks(),this._rebuildConflatedChunks(e))}const n=(0,i.ensureDefined)(r.find((t=>t.forBarspacingLargerThen<=e)));return(0,i.ensureDefined)(this._conflatedChunks.chunks.get(n.barsToMerge))}mergeData(e){const t=this._plots.size(),n=this._plots.merge(e)
;return n&&null!==this._conflatedChunks.priceSource&&(t!==this._plots.size()||n.index!==this._plots.lastIndex()||function(e){let t=!0;return e.chunks.forEach((e=>{t=t&&0===e.length})),t}(this._conflatedChunks)?this._rebuildConflatedChunks(n):this._updateLatestChunks()),n}moveData(e){this._plots.move(e),this._plots.size()>0&&this._clearConflatedChunks()}clearData(){this._plots.clear(),this._clearConflatedChunks()}_rebuildConflatedChunks(e){const t=this._conflatedChunks.priceSource;if(null===t)return;const n=e.index,a=this._conflatedChunks.priceSourcesProvider(t),o=(e,t,n)=>{let i=null;for(const s of e){const e=a(s.value);i&&s.index-i.startTime>=n.barsToMerge&&(t.push(i),i=null),i?(i.endTime=s.index,i.high=Math.max(i.high,e),i.low=Math.min(i.low,e),i.close=e):i={startTime:s.index,endTime:s.index,open:e,high:e,low:e,close:e}}i&&t.push(i)};r.forEach((e=>{const t=(0,i.ensureDefined)(this._conflatedChunks.chunks.get(e.barsToMerge)),r=(0,s.lowerbound)(t,n,((e,t)=>e.endTime<t));if(0===r&&t.length>0){const n=t[0].startTime-1,s=(0,i.ensureNotNull)(this._plots.firstIndex()),r=this._plots.rangeIterator(s,n),a=[];o(r,a,e);const l=a.concat(t);this._conflatedChunks.chunks.set(e.barsToMerge,l)}else{const n=(0,i.ensureNotNull)(this._plots.lastIndex());t.splice(r);let s=(0,i.ensureNotNull)(this._plots.firstIndex());t.length&&(s=t[t.length-1].endTime+1);const a=this._plots.rangeIterator(s,n);o(a,t,e)}}))}_updateLatestChunks(){const e=(0,i.ensureNotNull)(this._plots.last()),t=this._conflatedChunks.priceSourcesProvider("close");r.forEach((n=>{const s=(0,i.ensureDefined)(this._conflatedChunks.chunks.get(n.barsToMerge)),r=t(e.value),a=s[s.length-1];a.high=Math.max(a.high,r),a.low=Math.min(a.low,r),a.close=r,a.endTime=e.index}))}_clearConflatedChunks(){r.forEach((e=>this._conflatedChunks.chunks.set(e.barsToMerge,[])))}}},87913:(e,t,n)=>{n.r(t),n.d(t,{SelectPointMode:()=>i,activePointSelectionMode:()=>Z,alignTo45Degrees:()=>Ce,barTimesUnderCursor:()=>Y,beenSetLineToolLastPoint:()=>F,cancelLineTool:()=>se,cancelledLineTool:()=>A,changeLineStyle:()=>fe,changeLineTool:()=>ce,changedLineStyle:()=>J,changedLineTool:()=>H,continueLineTool:()=>ie,continuedLineTool:()=>R,copiedLineTool:()=>G,copyLineTool:()=>pe,createLineTool:()=>ne,createdLineTool:()=>E,crosshairLock:()=>k,cursorTool:()=>D,drawOnAllCharts:()=>Be,drawOnAllChartsMode:()=>Ie,emojiTool:()=>B,finishChangingLineTool:()=>he,finishLineTool:()=>me,finishMovingLineTool:()=>le,finishedChangingLineTool:()=>U,finishedLineTool:()=>q,finishedMovingLineTool:()=>z,hideAllDrawings:()=>be,hideAllIndicators:()=>Me,hideMarksOnBars:()=>Ve,iconTool:()=>C,init:()=>Te,isDirectionalMovementActive:()=>N,isStudyEditingNow:()=>Q,isToolCreatingNow:()=>P,isToolEditingNow:()=>S,isToolMovingNow:()=>L,lockDrawings:()=>ke,moveLineTool:()=>oe,movedLineTool:()=>W,properties:()=>ye,removeLineTool:()=>de,removedLineTool:()=>$,resetToCursor:()=>x,restoreLineTool:()=>ge,restoreLineToolState:()=>_e,restoredLineTool:()=>K,restoredLineToolState:()=>X,runOnDrawingStateReady:()=>we,setLineToolLastPoint:()=>re,
startChangingLineTool:()=>ue,startMovingLineTool:()=>ae,startedChangingLineTool:()=>j,startedMovingLineTool:()=>O,stickerTool:()=>I,tool:()=>V,toolIsCursor:()=>f,toolIsDemonstration:()=>g,toolIsEraser:()=>p,toolIsMeasure:()=>_});var i,s=n(650151),r=n(781567),a=n(890390),o=n(820028),l=n(751094),u=n(547465),c=n(62802),h=n(251954),d=n(345848);!function(e){e[e.None=0]="None",e[e.Replay=1]="Replay",e[e.Study=2]="Study"}(i||(i={}));const m=new Set(["cursor","arrow","dot","performance","demonstration"]);function f(e){return m.has(e)}function p(e){return"eraser"===e}function g(e){return"demonstration"===e}function _(e){return"measure"===e}function x(e=!1){if(!e&&v){if(v.childs().stayInDrawingMode.value())return}V.setValue(D.value())}let v=null,T=null,w=null,y=null,b=null,M=null;const k=new l.WatchedObject(null),V=new o.WatchedValue,C=new o.WatchedValue,B=new o.WatchedValue,I=new o.WatchedValue,D=new o.WatchedValue,P=new o.WatchedValue(!1),S=new o.WatchedValue(!1),L=new o.WatchedValue(!1),N=new o.WatchedValue(!1),E=new u.Delegate,R=new u.Delegate,A=new u.Delegate,F=new u.Delegate,O=new u.Delegate,W=new u.Delegate,z=new u.Delegate,j=new u.Delegate,H=new u.Delegate,U=new u.Delegate,$=new u.Delegate,q=new u.Delegate,J=new u.Delegate,G=new u.Delegate,K=new u.Delegate,X=new u.Delegate,Z=new o.WatchedValue(i.None),Q=new o.WatchedValue(!1),Y=new Map;function ee(e,t){const n=t||{value:!1};return t=>{n.value||(n.value=!0,e.fire(t),n.value=!1)}}const te={value:!1},ne=ee(E,te),ie=ee(R,te),se=ee(A,te),re=ee(F,te),ae=ee(O),oe=ee(W),le=ee(z),ue=ee(j),ce=ee(H),he=ee(U),de=ee($),me=ee(q),fe=ee(J,te),pe=ee(G,te),ge=ee(K),_e=ee(X);let xe=!1,ve=[];function Te(){if(xe)return;const e=c.getValue("chart.cursorPreference","cursor");V.setValue(f(e)?e:"cursor"),V.subscribe((e=>{f(e)?D.setValue(e):p(e)&&(0,d.trackEvent)("Chart cursors",e)}),{callWithLast:!0}),D.subscribe((e=>{(0,d.trackEvent)("Chart cursors",e),e&&"performance"!==e&&!g(e)&&c.setValue("chart.cursorPreference",e)})),v=new a.DefaultProperty({defaultName:"drawings"}),T=(0,r.createPrimitiveProperty)(!1),w=(0,r.createPrimitiveProperty)(!1),y=(0,r.createPrimitiveProperty)(!1),b=(0,r.createPrimitiveProperty)(!c.getBool("BarsMarksContainer.visibile",!0)),M=(0,r.createPrimitiveProperty)(!1),V.subscribe((e=>{(0,h.emit)("onSelectedLineToolChanged")})),xe=!0,ve.forEach((e=>e())),ve=[]}function we(e){xe?e():ve.push(e)}function ye(){return(0,s.ensureNotNull)(v)}function be(){return(0,s.ensureNotNull)(T)}function Me(){return(0,s.ensureNotNull)(w)}function ke(){return(0,s.ensureNotNull)(y)}function Ve(){return(0,s.ensureNotNull)(b)}function Ce(){return(0,s.ensureNotNull)(M)}function Be(){return ye().childs().drawOnAllCharts}function Ie(){return ye().childs().drawOnAllChartsMode}},847774:(e,t,n)=>{var i;n.d(t,{SymbolErrorPermissionDeniedReason:()=>i,invalidSymbol:()=>r,permissionDenied:()=>s}),function(e){e.Symbol="symbol",e.GroupPermission="group"}(i||(i={}));const s="permission denied",r="invalid symbol"},359035:(e,t,n)=>{n.d(t,{unpackNonSeriesData:()=>o});var i=n(130551),s=n(650151);function r(e){
if(!(0,i.isObject)(e))throw new Error("Graphics commands should be wrapped in an object");if((0,i.hasProperty)(e,"create"),(0,i.hasProperty)(e,"erase")){const t=e.erase;(0,s.assert)(Array.isArray(t),"Collection of erase commands should be array");for(const e of t){if(!(0,i.isObject)(e)||!(0,i.hasProperty)(e,"action"))throw new Error("Command should be an object with 'action' property");(0,s.assert)("all"===e.action||"one"===e.action,"Erase command action should be 'all' or 'one'")}}return e}async function a(e){{const[{inflateZlib:t,inflateRaw:i},{unpackImpl:s}]=await Promise.all(["function"==typeof DecompressionStream?n.e(95465).then(n.bind(n,552243)):Promise.all([n.e(84069),n.e(82170)]).then(n.bind(n,392592)),n.e(95465).then(n.bind(n,321672))]);return s(t,i,e)}}async function o(e){if(""===e)return null;const t=JSON.parse(e);if(!(0,i.isObject)(t)||"function"==typeof t)throw new Error("Non-object content in the non-series envelope");if((0,i.hasProperty)(t,"indexes_replace"))return{indexes_replace:!0};const n={indexes_replace:!1};if((0,i.hasProperty)(t,"offsets")&&(n.offsets=t.offsets),(0,i.hasProperty)(t,"isUpdate")){if("boolean"!=typeof t.isUpdate)throw new Error('Invalid type of "isUpdate" field');n.isUpdate=t.isUpdate}return(0,i.hasProperty)(t,"data")&&(n.data=t.data),(0,i.hasProperty)(t,"graphicsCmds")&&(n.graphicsCmds=r(t.graphicsCmds)),(0,i.hasProperty)(t,"dataCompressed")&&(n.data=await a(t.dataCompressed)),(0,i.hasProperty)(t,"graphicsCmdsCompressed")&&(n.graphicsCmds=r(await a(t.graphicsCmdsCompressed))),n}},951827:(e,t,n)=>{n.d(t,{getNumericFormatter:()=>c,getPercentageFormatter:()=>h,getPipFormatter:()=>f,getVolumeFormatter:()=>d});var i=n(808708),s=n(722652),r=n(291066),a=n(89831);class o extends a.PriceFormatter{constructor(e){const{priceScale:t,minMove:n=1,type:i,typespecs:s,minMove2:a,ignoreLocaleNumberFormat:o}=e;("forex"===i||(0,r.isCFDSymbol)(i,s))&&a?(super({priceScale:a,ignoreLocaleNumberFormat:o}),this._isForex=!0):(super({priceScale:1,ignoreLocaleNumberFormat:o}),this._isForex=!1),this._pipPriceScale=t,this._pipMinMove=n,this._pipMinMove2=a}format(e,t={}){const{signPositive:n,tailSize:i,ignoreLocaleNumberFormat:s,noExponentialForm:r}=t;let a=this._isForex?this._pipMinMove2:this._pipMinMove;return void 0===a&&(a=NaN),super.format(e*this._pipPriceScale/a,{signPositive:n,tailSize:i,ignoreLocaleNumberFormat:s,noExponentialForm:r})}}var l=n(51196),u=n(909456);const c=(0,u.numDependencyFormatter)((e=>new i.NumericFormatter({precision:e}))),h=(0,u.numDependencyFormatter)((e=>new s.PercentageFormatter({priceScale:Math.pow(10,e??2),minMove:1}))),d=(0,u.numDependencyFormatter)((e=>new l.VolumeFormatter({precision:e}))),m=new WeakMap;function f(e){let t=m.get(e);return t||(t=new o({priceScale:e.pricescale,minMove:e.minmov,minMove2:e.minmove2,type:e.type,typespecs:e.typespecs}),m.set(e,t)),t}},65840:(e,t,n)=>{n.d(t,{coordinateIsValid:()=>g,extendAndClipLineSegment:()=>c,fillScaledRadius:()=>x,getArrowPoints:()=>h,interactionTolerance:()=>p,optimalBarWidth:()=>d,optimalCandlestickWidth:()=>m,
optimalHiLoWidth:()=>f,roundToMax:()=>T,setValidLineStyle:()=>_,strokeScaledRadius:()=>v});var i=n(536794),s=n(610555),r=n(648892),a=n(822961),o=n(338242);const l={common:13,line:13,tradingLine:16,minDistanceBetweenPoints:10,series:14,curve:10,anchor:13,esd:4},u={common:3,line:3,tradingLine:3,minDistanceBetweenPoints:5,series:2,curve:3,anchor:2,esd:0};function c(e,t,n,i,a,o){if((0,s.equalPoints)(e,t))return null;const l=new s.Point(0,0),u=new s.Point(n,i);if(a){if(o){const n=(0,r.intersectLineAndBox)((0,s.lineThroughPoints)(e,t),(0,s.box)(l,u));return Array.isArray(n)?n:null}{const n=(0,r.intersectRayAndBox)(t,e,(0,s.box)(l,u));return null===n||(0,s.equalPoints)(t,n)?null:(0,s.lineSegment)(t,n)}}if(o){const n=(0,r.intersectRayAndBox)(e,t,(0,s.box)(l,u));return null===n||(0,s.equalPoints)(e,n)?null:(0,s.lineSegment)(e,n)}{const n=(0,r.intersectLineSegmentAndBox)((0,s.lineSegment)(e,t),(0,s.box)(l,u));return Array.isArray(n)?n:null}}function h(e,t,n,i,s){const r=.5*n,a=Math.sqrt(2),o=t.subtract(e),l=o.normalized();let u=5*n;i&&(u=Math.min(u,.35*o.length()));const c=1*r;if(u*a*.2<=c)return[];const h=l.scaled(u),d=t.subtract(h),m=l.transposed(),f=1*u,p=m.scaled(f),g=d.add(p),_=d.subtract(p),x=g.subtract(t).normalized().scaled(c),v=_.subtract(t).normalized().scaled(c),T=s?t:t.add(x),w=s?t:t.add(v),y=r*(a-1),b=m.scaled(y),M=Math.min(u-1*r/a,r*a*1),k=l.scaled(M),V=t.subtract(b),C=t.add(b),B=t.subtract(k);return[[g,T],[w,_],[V,B.subtract(b)],[C,B.add(b)]]}function d(e,t){return t=t||1,Math.floor(.3*e*t)}function m(e,t){if(e>=2.5&&e<=4)return Math.floor(3*t);const n=1-.2*Math.atan(Math.max(4,e)-4)/(.5*Math.PI),i=Math.floor(e*n*t),s=Math.floor(e*t),r=Math.min(i,s);return Math.max(Math.floor(t),r)}function f(e){return.4*e}function p(){return(0,a.lastMouseOrTouchEventInfo)().isTouch?l:u}function g(e){return null!=e&&!(0,i.isNaN)(e)}function _(e,t){void 0!==t&&(0,o.setLineStyle)(e,t)}function x(e,t){const n=Math.max(1,Math.floor(t))%2?.5:0;return Math.round(e*t)+n}function v(e,t,n){const i=Math.max(1,Math.floor(t))%2?.5:0;return Math.round(e*t)+(i!==n%2?.5:0)}function T(e){return Math.max(Math.floor(e),1)}},397535:(e,t,n)=>{n.d(t,{PriceRange:()=>r,mergePriceRanges:()=>a});var i=n(810715);const s=(0,n(735566).getLogger)("Chart.PriceRange");class r{constructor(e,t){if(null!==e&&"object"==typeof e){const t=e;this._minValue=t.m_minValue,this._maxValue=t.m_maxValue}else{const n=e;this._minValue=n,void 0!==t&&(this._maxValue=t)}}equals(e){return this._minValue===e._minValue&&this._maxValue===e._maxValue}clone(){return new r(this._minValue,this._maxValue)}minValue(){return this._minValue}setMinValue(e){this._minValue=e}maxValue(){return this._maxValue}setMaxValue(e){this._maxValue=e}length(){return this._maxValue-this._minValue}isEmpty(){return this._maxValue===this._minValue||this._maxValue!=this._maxValue||this._minValue!=this._minValue}serialize(){return{m_maxValue:this._maxValue,m_minValue:this._minValue}}state(){return{max:this._maxValue,min:this._minValue}}merge(e){
return new r(Math.min(this.minValue(),e.minValue()),Math.max(this.maxValue(),e.maxValue()))}apply(e,t){this._minValue=Math.min(this._minValue,e),this._maxValue=Math.max(this._maxValue,t)}set(e,t){this._minValue=e,this._maxValue=t}scaleAroundCenter(e){if(!(0,i.isNumber)(e))return void s.logDebug("PriceRange.scaleAroundCenter: invalid coeff");if(0===this._maxValue-this._minValue)return;const t=.5*(this._maxValue+this._minValue);let n=this._maxValue-t,r=this._minValue-t;n*=e,r*=e,this._maxValue=t+n,this._minValue=t+r}shift(e){(0,i.isNumber)(e)?(this._maxValue+=e,this._minValue+=e):s.logDebug("PriceRange.shift: invalid coeff")}containsStrictly(e){return e.minValue()>this._minValue&&e.maxValue()<this._maxValue}containPrice(e){return e>=this._minValue&&e<=this._maxValue}intersection(e){return this.containPrice(e.minValue())||this.containPrice(e.maxValue())||e.containPrice(this._minValue)?new r(Math.max(this._minValue,e.minValue()),Math.min(this._maxValue,e.maxValue())):null}static compare(e,t){return null===e||null===t?e===t:e.equals(t)}}function a(e){return e.reduce(((e,t)=>e?t?e.merge(t):e:t),null)}},781567:(e,t,n)=>{n.d(t,{createPrimitiveProperty:()=>s});var i=n(905520);function s(e){return new i.Property(e)}},582441:(e,t,n)=>{n.d(t,{createWVFromGetterAndSubscriptions:()=>s});var i=n(820028);function s(e,t){const n=new i.WatchedValue(e()),s={};t.forEach((t=>t.subscribe(s,(()=>{n.setValue(e())}))));return n.readonly().spawn((()=>t.forEach((e=>e.unsubscribeAll(s)))))}},326488:(e,t,n)=>{n.d(t,{SeriesData:()=>d,barFunction:()=>c,barFunctions:()=>l,seriesPlotFunctionMap:()=>u});var i,s=n(650151),r=n(132565),a=n(20019);!function(e){e[e.FromLeft=-1]="FromLeft",e[e.FromRight=1]="FromRight"}(i||(i={}));const o=["open","high","low","close","hl2","hlc3","ohlc4"],l={open:e=>e[1],high:e=>e[2],low:e=>e[3],close:e=>e[4],hl2:e=>(e[2]+e[3])/2,hlc3:e=>(e[2]+e[3]+e[4])/3,ohlc4:e=>(e[1]+e[2]+e[3]+e[4])/4};function u(){const e=new Map;return o.forEach(((t,n)=>{e.set(t,c(t))})),e}function c(e,t,n){const i=l[t??e],s=l[e],r=l[n??e];return(e,t)=>{switch(t){case 0:return i(e);case 2:return r(e);default:return s(e)}}}function h(e,t){return null==e[t]}class d{constructor(){this.m_bars=new r.PlotList(u(),h),this.m_nsBars=new r.PlotList(u(),h),this._conflatedChunksBuilder=new a.ConflatedChunksBuilder(this.m_bars,(e=>l[e]))}bars(){return this.m_bars}nsBars(){return this.m_nsBars}conflatedChunks(e,t){return this._conflatedChunksBuilder.conflatedChunks(e,t)}mergeRegularBars(e){return this._conflatedChunksBuilder.mergeData(e)}size(){return this.m_bars.size()+this.m_nsBars.size()}each(e){this.m_bars.each(e),this.m_nsBars.each(e)}clear(){this.m_nsBars.clear(),this.lastProjectionPrice=void 0,this._conflatedChunksBuilder.clearData()}clone(){const e=new d;return e.lastProjectionPrice=this.lastProjectionPrice,e.boxSize=this.boxSize,e.reversalAmount=this.reversalAmount,e.m_bars=this.m_bars.clone(),e.m_nsBars=this.m_bars.clone(),e}isEmpty(){return this.m_bars.isEmpty()&&this.m_nsBars.isEmpty()}first(){
return this.m_bars.isEmpty()?this.m_nsBars.first():this.m_bars.first()}last(){return this.m_nsBars.isEmpty()?this.m_bars.last():this.m_nsBars.last()}search(e,t,n){return this.nsBars().isEmpty()?this.bars().search(e,t,n):this.bars().isEmpty()||(0,s.ensureNotNull)(this.nsBars().firstIndex())<=e?this.nsBars().search(e,t,n):this.bars().search(e,t,n)}valueAt(e){const t=this.search(e);return null!==t?t.value:null}plotValueToTimePointIndex(e,t,n){if(n===i.FromRight){const n=(n,i)=>{const s=i[t];return null!=s&&e>=s},i=this.m_bars.findLast(n);if(null!==i)return i.index;const s=this.m_nsBars.findLast(n);return null!==s?s.index:this.m_bars.firstIndex()}if(n===i.FromLeft){const n=(n,i)=>{const s=i[t];return null!=s&&e<=s},i=this.m_bars.findFirst(n);if(null!==i)return i.index;const s=this.m_nsBars.findFirst(n);return null!==s?s.index:this.m_bars.lastIndex()}throw new Error("plotValueToTimePointIndex: unsupported search mode")}moveData(e){this._conflatedChunksBuilder.moveData(e),this.m_nsBars.move(e)}}},70907:(e,t,n)=>{n.d(t,{DwgExtend:()=>i,convertPointsToScreenDimension:()=>o,doesItemAffectVisibleRange:()=>l,isExtendInSameDirection:()=>a});var i,s=n(650151);function r(e,t){return e===i.None?t:t===i.None?e:e===i.Both||t===i.Both?i.Both:e===t?t:i.Both}function a(e,t){return e===i.Both||e===t}function o(e,t,n,a,o,l,u,c,h,d){let m,f;if(null===e&&null===n){if(o!==i.Right&&o!==i.Both)return null;o=i.Both,m=0,f=c}else null===e?(m=u.indexToCoordinate((0,s.ensureNotNull)(n)-1),o=r(o,i.Left)):m=u.indexToCoordinate(e),null===n?(f=u.indexToCoordinate((0,s.ensureNotNull)(e)-1),o=r(o,i.Right)):f=u.indexToCoordinate(n);const p=m,g=l.priceToCoordinate(t,h),_=f,x=l.priceToCoordinate(a,h);return void 0!==d?(d.x1=p,d.y1=g,d.x2=_,d.y2=x,d.extend=o,d):{x1:p,y1:g,x2:_,y2:x,extend:o}}function l(e,t,n,s,r){let a=!1;switch(n){case i.Both:a=!0;break;case i.Right:a=null===t||null===e||e<=r;break;case i.Left:a=null===t||t>=s;break;default:null!==e&&null!==t?a=(e>=s||t>=s)&&(e<=r||t<=r):null!==e&&null===t?a=e<=r:null===e&&null!==t&&(a=t>=s)}return a}!function(e){e.None="n",e.Left="l",e.Right="r",e.Both="b"}(i||(i={}))},992035:(e,t,n)=>{var i,s,r;n.d(t,{HHistDirection:()=>i,HHistLocation:()=>s,HHistVolumeMode:()=>r}),function(e){e.LeftToRight="left_to_right",e.RightToLeft="right_to_left"}(i||(i={})),function(e){e.Relative="relative",e.Absolute="absolute"}(s||(s={})),function(e){e.UpDown="Up/Down",e.Total="Total",e.Delta="Delta"}(r||(r={}))},691009:(e,t,n)=>{n.d(t,{containsTpoTimePointIndexes:()=>a,dematerializeTpo:()=>l,isTpoInBarsRange:()=>u,materializeTpo:()=>o});var i=n(650151),s=n(707771),r=n(171048);const a=!0;function o(e,t){if(e.firstBarTime>=t.length||e.lastBarTime>=t.length)return null;const n=t[e.firstBarTime],r=t[e.lastBarTime];return n===s.INVALID_TIME_POINT_INDEX||r===s.INVALID_TIME_POINT_INDEX?null:((0,i.assert)(n<=r,"firstBarTime should not exceed lastBarTime"),{id:e.id,firstBarTime:n,lastBarTime:r,priceRange:e.priceRange,times:e.times})}function l(e,t,n){return{id:t,firstBarTime:(0,r.ensureTimePointIndexIndex)(n.indexOf(e.firstBarTime)),
lastBarTime:(0,r.ensureTimePointIndexIndex)(n.indexOf(e.lastBarTime)),priceRange:e.priceRange,times:e.times}}function u(e,t){return!(e.lastBarTime<t.firstBar()||e.firstBarTime>t.lastBar())}},384597:(e,t,n)=>{n.d(t,{NonSeriesStudy:()=>r});var i=n(650151),s=n(605071);class r extends s.Study{isLinkedToSeries(){return!0}clearData(){this._customData=null,this._indexes=null}restoreData(e,t,n){super.restoreData(e),this._customData=t,this._indexes=n}state(e){const t=super.state(e);return e&&(t.nonSeriesData=this._customData,t.indexes=this._indexes),t}customData(){return this._customData}_setPaneViews(e){this._paneViews=e,this.model().lightUpdate()}_onDataUpdated(e,t,n){null!==t&&(t.indexes_replace?((0,i.assert)("nochange"!==n),this._indexes=n):(this._customData=t.data,"nochange"!==n&&(this._indexes=n))),super._onDataUpdated(e,t,n)}}},960433:(e,t,n)=>{n.d(t,{TextWidthCache:()=>r,getMinTextMetrics:()=>s});var i=n(850117);function s(e){return{width:e.width,actualBoundingBoxAscent:e.actualBoundingBoxAscent,actualBoundingBoxDescent:e.actualBoundingBoxDescent,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent}}class r{constructor(e=150){this._fontStyle="",this._cache=new i.CircularCacheBuffer(e,1.5)}reset(){this._cache.clear()}measureText(e,t){return this.getMetrics(e,t).width}yMidCorrection(e,t){const n=this.getMetrics(e,t);return void 0!==n.actualBoundingBoxAscent&&void 0!==n.actualBoundingBoxDescent?(n.actualBoundingBoxAscent-n.actualBoundingBoxDescent)/2:0}getMetrics(e,t){e.font!==this._fontStyle&&(this.reset(),this._fontStyle=e.font);const n=this._cache.get(t);if(void 0!==n)return n;const i=e.textBaseline;e.textBaseline="middle";const r=s(e.measureText(t));return e.textBaseline=i,0===r.width&&t.length||this._cache.set(t,r),r}}},398290:(e,t,n)=>{n.d(t,{generateColorCached:()=>a});var i=n(259332),s=n(534328),r=n(850117);function a(e=1e3){const t=i.default.Cache;i.default.Cache=r.CircularCacheBuffer.bind(r.CircularCacheBuffer,e);const n=(0,i.default)(s.generateColor,((e,t,n)=>`${e}_${t}_${n}`));return i.default.Cache=t,n}},837462:(e,t,n)=>{function i(e,t,n,i){return`${i?i+" ":""}${n?n+" ":""}${e}px ${t}`}n.d(t,{makeFont:()=>i,parseFont:()=>r});const s=/(bold )?(italic )?(\d+)(px|pt) (.*)$/;function r(e){const t=s.exec(e);return null===t?null:{family:t[5],size:parseInt(t[3])*("pt"===t[4]?.75:1),bold:Boolean(t[1]),italic:Boolean(t[2])}}},707934:(e,t,n)=>{n.r(t),n.d(t,{createGoProDialog:()=>c,isUpgradableFeature:()=>u,onGoProDialog:()=>o});var i=n(638456);const s=new Set,r=[],a=new Promise((e=>{window.addEventListener("load",(()=>{setTimeout((()=>{e()}),3e3)})),setTimeout((()=>{e()}),3e3)}));function o(e,t){r.push(e),t&&t.forEach((e=>{s.add(e)}))}const l=["sessionLock","sessionLogout","checkingNSE"];function u(e){return!1===l.includes(e)}async function c(e){if(await a,r.forEach((t=>{t(e.feature)})),s.has(e.feature))return;if((0,i.isSymphonyEmbed)()&&u(e.feature)){
const t=await Promise.all([n.e(21122),n.e(92537),n.e(38452),n.e(87833),n.e(84712),n.e(7276),n.e(47093),n.e(44581)]).then(n.bind(n,681143));e.actionsOverride=t.generateSymphonyActions({feature:e.feature,upgradeMessage:e.upgradeMessage,additional:e.customParams}),e.hideLimitTable=!0}const t=await Promise.all([n.e(38124),n.e(67811),n.e(18883),n.e(92537),n.e(19190),n.e(39759),n.e(52186),n.e(67131),n.e(59546),n.e(65161),n.e(94036),n.e(7276),n.e(51989),n.e(6796),n.e(17725),n.e(39190),n.e(82321),n.e(9384),n.e(83215),n.e(7160),n.e(77195),n.e(5246)]).then(n.bind(n,427013));await(window.pro?.ensureValidShopConf()),t.renderGoproDialog(e)}window.TradingView.createGoProDialog=c},482354:(e,t,n)=>{function i(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var i,a="boolean"==typeof t.cycles&&t.cycles,o=t.replacer||function(e,t){return t},l=t.cmp&&(i=t.cmp,function(e){return function(t,n){var s={key:t,value:e[t]},r={key:n,value:e[n]};return i(s,r)}}),u=[];return function e(t,i,c,h){var d=n?"\n"+new Array(h+1).join(n):"",m=n?": ":":";if(c&&c.toJSON&&"function"==typeof c.toJSON&&(c=c.toJSON()),void 0!==(c=o.call(t,i,c))){if("object"!=typeof c||null===c)return JSON.stringify(c);if(s(c)){for(var f=[],p=0;p<c.length;p++){var g=e(c,p,c[p],h+1)||JSON.stringify(null);f.push(d+n+g)}return"["+f.join(",")+d+"]"}if(-1!==u.indexOf(c)){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}u.push(c);var _=r(c).sort(l&&l(c));for(f=[],p=0;p<_.length;p++){var x=e(c,i=_[p],c[i],h+1);if(x){var v=JSON.stringify(i)+m+x;f.push(d+n+v)}}return u.splice(u.indexOf(c),1),"{"+f.join(",")+d+"}"}}({"":e},"",e,0)}n.d(t,{sortedStringify:()=>i});var s=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},r=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var i in e)t.call(e,i)&&n.push(i);return n}},257253:(e,t,n)=>{n.d(t,{Interval:()=>c,ResolutionKind:()=>r,SpecialResolutionKind:()=>a,isHour:()=>d});const i=/^(\d*)([TSHDWMR])$/,s=/^(\d+)$/;var r,a;!function(e){e.Ticks="ticks",e.Seconds="seconds",e.Minutes="minutes",e.Days="days",e.Weeks="weeks",e.Months="months",e.Range="range",e.Invalid="invalid"}(r||(r={})),function(e){e.Hours="hours"}(a||(a={}));const o={};o[r.Ticks]=1e3,o[r.Seconds]=1e3,o[r.Minutes]=60*o[r.Seconds],o[r.Days]=1440*o[r.Minutes],o[r.Weeks]=7*o[r.Days];const l={T:r.Ticks,S:r.Seconds,D:r.Days,W:r.Weeks,M:r.Months,R:r.Range},u=new Set([r.Ticks,r.Seconds,r.Minutes]);class c{constructor(e,t){this._kind=r.Invalid,this._multiplier=0,e!==r.Invalid&&t>0&&(this._kind=e,this._multiplier=t)}kind(){return this._kind}guiKind(){return this.isMinuteHours()?a.Hours:this._kind}multiplier(){return this._multiplier}isValid(){return this.kind()!==r.Invalid&&this.multiplier()>0}isDWM(){return this.isValid()&&!this.isRange()&&!this.isIntraday()&&!this.isTicks()}isIntraday(){const e=u.has(this.kind());return this.isValid()&&e}isSeconds(){return this.kind()===r.Seconds}isMinutes(){
return this.kind()===r.Minutes}isMinuteHours(){return this.kind()===r.Minutes&&d(this.multiplier())}isDays(){return this.kind()===r.Days}isWeeks(){return this.kind()===r.Weeks}isMonths(){return this.kind()===r.Months}isRange(){return this.kind()===r.Range}isTicks(){return this.kind()===r.Ticks}is1Tick(){return this.isTicks()&&1===this.multiplier()}isTimeBased(){return!this.isRange()}letter(){return this.isValid()&&this.kind()!==r.Minutes?this.kind()[0].toUpperCase():""}value(){return this.isValid()?this.kind()===r.Minutes?this.multiplier()+"":this.multiplier()+this.letter():""}isEqualTo(e){if(!(e instanceof c))throw new Error("Argument is not an Interval");return!(!this.isValid()||!e.isValid())&&(this.kind()===e.kind()&&this.multiplier()===e.multiplier())}inMilliseconds(e=Date.now()){if(!this.isValid()||this.isRange())return NaN;if(this.isMonths()){const t=new Date(e);t.setUTCMonth(t.getUTCMonth()+(this.multiplier()||1));return+t-e}const t=this.multiplier();return o[this.kind()]*t}static isEqual(e,t){return e===t||c.parse(e).isEqualTo(c.parse(t))}static parseExt(e){e=(e+"").toUpperCase().split(",")[0];let t=i.exec(e);return null!==t?"H"===t[2]?{interval:new c(r.Minutes,60*h(t[1])),guiResolutionKind:a.Hours}:{interval:new c(l[t[2]],h(t[1])),guiResolutionKind:l[t[2]]}:(t=s.exec(e),null!==t?{interval:new c(r.Minutes,h(t[1])),guiResolutionKind:r.Minutes}:{interval:new c(r.Invalid,0),guiResolutionKind:r.Invalid})}static parse(e){return c.parseExt(e).interval}static kind(e){return c.parse(e).kind()}static isValid(e){return c.parse(e).isValid()}static isDWM(e){return c.parse(e).isDWM()}static isIntraday(e){return c.parse(e).isIntraday()}static isSeconds(e){return c.parse(e).isSeconds()}static isMinutes(e){return c.parse(e).isMinutes()}static isMinuteHours(e){return c.parse(e).isMinuteHours()}static isDays(e){return c.parse(e).isDays()}static isWeeks(e){return c.parse(e).isWeeks()}static isMonths(e){return c.parse(e).isMonths()}static isRange(e){return c.parse(e).isRange()}static isTicks(e){return c.parse(e).isTicks()}static isTimeBased(e){return c.parse(e).isTimeBased()}static normalize(e){const t=c.parse(e);return t.isValid()?t.value():null}}function h(e){return 0===e.length?1:parseInt(e,10)}function d(e){return e>=60&&!(e%60)}}}]);