(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[79022,75514],{497754:(e,t)=>{var r;!function(){"use strict";var s={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=n.apply(null,r);a&&e.push(a)}else if("object"===i)for(var o in r)s.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},412912:e=>{e.exports={wrap:"wrap-wXGVFOC9",wrapWithArrowsOuting:"wrapWithArrowsOuting-wXGVFOC9",wrapOverflow:"wrapOverflow-wXGVFOC9",scrollWrap:"scrollWrap-wXGVFOC9",noScrollBar:"noScrollBar-wXGVFOC9",icon:"icon-wXGVFOC9",scrollLeft:"scrollLeft-wXGVFOC9",scrollRight:"scrollRight-wXGVFOC9",isVisible:"isVisible-wXGVFOC9",iconWrap:"iconWrap-wXGVFOC9",fadeLeft:"fadeLeft-wXGVFOC9",fadeRight:"fadeRight-wXGVFOC9"}},267521:(e,t,r)=>{"use strict";r.d(t,{useFunctionalRefObject:()=>i});var s=r(50959),n=r(774218);function i(e){const t=(0,s.useMemo)((()=>function(e){const t=r=>{e(r),t.current=r};return t.current=null,t}((e=>{o.current(e)}))),[]),r=(0,s.useRef)(null),i=t=>{if(null===t)return a(r.current,t),void(r.current=null);r.current!==e&&(r.current=e,a(r.current,t))},o=(0,s.useRef)(i);return o.current=i,(0,n.useIsomorphicLayoutEffect)((()=>{if(null!==t.current)return o.current(t.current),()=>o.current(null)}),[e]),t}function a(e,t){null!==e&&("function"==typeof e?e(t):e.current=t)}},662464:(e,t,r)=>{"use strict";r.d(t,{hoverMouseEventFilter:()=>a,useAccurateHover:()=>o,useHover:()=>n,useHoverDeprecated:()=>i});var s=r(50959);function n(){const[e,t]=(0,s.useState)(!1);return[e,{onMouseEnter:function(e){t(!0)},onMouseLeave:function(e){t(!1)}}]}function i(){const[e,t]=(0,s.useState)(!1);return[e,{onMouseOver:function(e){a(e)&&t(!0)},onMouseOut:function(e){a(e)&&t(!1)}}]}function a(e){return!e.currentTarget.contains(e.relatedTarget)}function o(e){const[t,r]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{const t=t=>{if(null===e.current)return;const s=e.current.contains(t.target);r(s)};return document.addEventListener("mouseover",t),()=>document.removeEventListener("mouseover",t)}),[]),t}},774218:(e,t,r)=>{"use strict";r.d(t,{useIsomorphicLayoutEffect:()=>n});var s=r(50959);function n(e,t){("undefined"==typeof window?s.useEffect:s.useLayoutEffect)(e,t)}},444530:(e,t,r)=>{"use strict";r.d(t,{useResizeObserver:()=>a});var s=r(50959),n=r(774218),i=r(267521);function a(e,t=[]){const{callback:r,ref:a=null}=function(e){return"function"==typeof e?{callback:e}:e}(e),o=(0,s.useRef)(null),l=(0,s.useRef)(r);l.current=r;const c=(0,i.useFunctionalRefObject)(a),u=(0,s.useCallback)((e=>{c(e),null!==o.current&&(o.current.disconnect(),null!==e&&o.current.observe(e))}),[c,o]);return(0,n.useIsomorphicLayoutEffect)((()=>(o.current=new ResizeObserver(((e,t)=>{l.current(e,t)})),c.current&&u(c.current),()=>{o.current?.disconnect()})),[c,...t]),u}},132734:(e,t,r)=>{"use strict";r.d(t,{Icon:()=>n});var s=r(50959)
;const n=s.forwardRef(((e,t)=>{const{icon:r="",title:n,ariaLabel:i,ariaLabelledby:a,ariaHidden:o,...l}=e,c=!!(n||i||a);return s.createElement("span",{role:"img",...l,ref:t,"aria-label":i,"aria-labelledby":a,"aria-hidden":o||!c,title:n,dangerouslySetInnerHTML:{__html:r}})}))},79205:(e,t,r)=>{"use strict";r.d(t,{Icon:()=>s.Icon});var s=r(132734)},763341:(e,t,r)=>{"use strict";function s(...e){return t=>{for(const r of e)void 0!==r&&r(t)}}r.d(t,{createSafeMulticastEventHandler:()=>s})},170873:(e,t,r)=>{"use strict";r.d(t,{FragmentMap:()=>n});var s=r(50959);function n(e){if(e.map){return s.Children.toArray(e.children).map(e.map)}return e.children}},389401:(e,t,r)=>{"use strict";r.d(t,{Measure:()=>n});var s=r(444530);function n(e){const{children:t,onResize:r}=e;return t((0,s.useResizeObserver)(r||(()=>{}),[null===r]))}},962624:(e,t,r)=>{"use strict";r.d(t,{hoverMouseEventFilter:()=>s.hoverMouseEventFilter,useAccurateHover:()=>s.useAccurateHover,useHover:()=>s.useHover,useHoverDeprecated:()=>s.useHoverDeprecated});var s=r(662464)},906132:(e,t,r)=>{"use strict";var s=r(522134);function n(){}function i(){}i.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,i,a){if(a!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:n};return r.PropTypes=r,r}},719036:(e,t,r)=>{e.exports=r(906132)()},522134:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},632227:(e,t,r)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(882321)},695257:(e,t)=>{"use strict";var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,f={};function S(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||v}function b(){}function _(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||v}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.")
;this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=S.prototype;var y=_.prototype=new b;y.constructor=_,m(y,S.prototype),y.isPureReactComponent=!0;var g=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,s){var n,i={},a=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,n)&&!w.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:r,type:e,key:a,ref:o,props:i,_owner:C.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var R=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case s:l=!0}}if(l)return a=a(l=e),e=""===i?"."+I(l,0):i,g(a)?(n="",null!=e&&(n=e.replace(R,"$&/")+"/"),O(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(R,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",g(e))for(var c=0;c<e.length;c++){var u=i+I(o=e[c],c);l+=O(o,t,n,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=O(o=o.value,t,n,u=i+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function k(e,t,r){if(null==e)return e;var s=[],n=0;return O(e,s,"","",(function(e){return t.call(r,e,n++)})),s}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var V={current:null},A={transition:null},F={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:A,ReactCurrentOwner:C};t.Children={map:k,forEach:function(e,t,r){k(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=S,t.Fragment=n,t.Profiler=a,t.PureComponent=_,
t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,s){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=m({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!w.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:r,type:e.type,key:i,ref:a,props:n,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return V.current.useCallback(e,t)},t.useContext=function(e){return V.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return V.current.useDeferredValue(e)},t.useEffect=function(e,t){return V.current.useEffect(e,t)},t.useId=function(){return V.current.useId()},t.useImperativeHandle=function(e,t,r){return V.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return V.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return V.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return V.current.useMemo(e,t)},t.useReducer=function(e,t,r){return V.current.useReducer(e,t,r)},t.useRef=function(e){return V.current.useRef(e)},t.useState=function(e){return V.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return V.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return V.current.useTransition()},t.version="18.2.0"},50959:(e,t,r)=>{"use strict";e.exports=r(695257)},960104:e=>{e.exports={group:"group-MBOVGQRI",separator:"separator-MBOVGQRI",noLeftDecoration:"noLeftDecoration-MBOVGQRI",noRightDecoration:"noRightDecoration-MBOVGQRI",noMinimalWidth:"noMinimalWidth-MBOVGQRI",separatorWrap:"separatorWrap-MBOVGQRI"}},282930:e=>{e.exports={separator:"separator-xVhBjD5m"}},541183:e=>{e.exports={"css-value-header-toolbar-height":"38px"}},798001:e=>{e.exports={"css-value-header-toolbar-height":"38px",toolbar:"toolbar-qqNP9X6e",isHidden:"isHidden-qqNP9X6e",overflowWrap:"overflowWrap-qqNP9X6e",customButton:"customButton-qqNP9X6e",hover:"hover-qqNP9X6e",clicked:"clicked-qqNP9X6e"}},992568:e=>{
e.exports={wrap:"wrap-_psvpUP2",icon:"icon-_psvpUP2"}},838206:e=>{e.exports={"css-value-header-toolbar-height":"38px",innerWrap:"innerWrap-OhqNVIYA",inner:"inner-OhqNVIYA",fake:"fake-OhqNVIYA",fill:"fill-OhqNVIYA",collapse:"collapse-OhqNVIYA",button:"button-OhqNVIYA",iconButton:"iconButton-OhqNVIYA",hidden:"hidden-OhqNVIYA",content:"content-OhqNVIYA",desktopPublish:"desktopPublish-OhqNVIYA",mobilePublish:"mobilePublish-OhqNVIYA"}},432438:(e,t,r)=>{"use strict";function s(e){e.dispatchEvent(new CustomEvent("roving-tabindex:main-element"))}function n(e){e.dispatchEvent(new CustomEvent("roving-tabindex:secondary-element"))}r.d(t,{becomeMainElement:()=>s,becomeSecondaryElement:()=>n})},887208:(e,t,r)=>{"use strict";r.d(t,{mapKeyCodeToDirection:()=>c,navigationOrderComparator:()=>i,queryFocusableElements:()=>o,queryTabbableElements:()=>a,updateTabIndexes:()=>l});var s=r(969680),n=r(355734);function i(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}function a(e){return Array.from(e.querySelectorAll('button:not([disabled]):not([aria-disabled]):not([tabindex="-1"]), [tabindex]:not([disabled]):not([aria-disabled]):not([tabindex="-1"])')).filter((0,n.createScopedVisibleElementFilter)(e))}function o(e){return Array.from(e.querySelectorAll('button:not([disabled]):not([aria-disabled="true"]):not([aria-disabled=""]), [tabindex]:not([disabled]):not([aria-disabled="true"]):not([aria-disabled=""])')).filter((0,n.createScopedVisibleElementFilter)(e))}function l(){window.dispatchEvent(new CustomEvent("keyboard-navigation-activation",{bubbles:!0}))}function c(e){const t=(0,s.isRtl)();switch(e){case 38:return"blockPrev";case 40:return"blockNext";case 37:return t?"inlineNext":"inlinePrev";case 39:return t?"inlinePrev":"inlineNext";default:return null}}},515936:(e,t,r)=>{"use strict";r.d(t,{INTERVALS:()=>i});var s=r(444372),n=r(125226);const i=[{name:"",label:s.t(null,{context:"interval"},r(379930))},{name:"H",label:s.t(null,{context:"interval"},r(335157))},{name:"D",label:s.t(null,{context:"interval"},r(723970))},{name:"W",label:s.t(null,{context:"interval"},r(507938))},{name:"M",label:s.t(null,{context:"interval"},r(718193))}];i.push({name:"R",label:s.t(null,{context:"interval"},r(293197))}),(0,n.isFeatureEnabled)("custom_ticks")&&i.push({name:"T",label:s.t(null,{context:"interval"},r(119377))})},557655:(e,t,r)=>{"use strict";r.d(t,{Toolbar:()=>d});var s=r(50959),n=r(650151),i=r(763341),a=r(591800),o=r(887208),l=r(432438),c=r(267521),u=r(375185);const d=(0,s.forwardRef)((function(e,t){const{onKeyDown:r,orientation:d,blurOnEscKeydown:h=!0,blurOnClick:p=!0,...v}=e,m=(0,c.useFunctionalRefObject)(t);return(0,s.useLayoutEffect)((()=>{const e=(0,n.ensureNotNull)(m.current),t=()=>{const t=(0,o.queryTabbableElements)(e).sort(o.navigationOrderComparator);if(0===t.length){const[t]=(0,o.queryFocusableElements)(e).sort(o.navigationOrderComparator);if(void 0===t)return;(0,l.becomeMainElement)(t)}if(t.length>1){const[,...e]=t;for(const t of e)(0,l.becomeSecondaryElement)(t)}}
;return window.addEventListener("keyboard-navigation-activation",t),()=>window.removeEventListener("keyboard-navigation-activation",t)}),[]),s.createElement("div",{...u.MouseClickAutoBlurHandler.attributes(p),...v,role:"toolbar","aria-orientation":d,ref:m,onKeyDown:(0,i.createSafeMulticastEventHandler)((function(e){if(e.defaultPrevented)return;if(!(document.activeElement instanceof HTMLElement))return;const t=(0,a.hashFromEvent)(e);if(h&&27===t)return e.preventDefault(),void document.activeElement.blur();if("vertical"!==d&&37!==t&&39!==t)return;if("vertical"===d&&38!==t&&40!==t)return;const r=e.currentTarget,s=(0,o.queryFocusableElements)(r).sort(o.navigationOrderComparator);if(0===s.length)return;const n=s.indexOf(document.activeElement);if(-1===n)return;e.preventDefault();const i=()=>{const e=(n+s.length-1)%s.length;(0,l.becomeSecondaryElement)(s[n]),(0,l.becomeMainElement)(s[e]),s[e].focus()},c=()=>{const e=(n+s.length+1)%s.length;(0,l.becomeSecondaryElement)(s[n]),(0,l.becomeMainElement)(s[e]),s[e].focus()};switch((0,o.mapKeyCodeToDirection)(t)){case"inlinePrev":"vertical"!==d&&i();break;case"inlineNext":"vertical"!==d&&c();break;case"blockPrev":"vertical"===d&&i();break;case"blockNext":"vertical"===d&&c()}}),r),"data-tooltip-show-on-focus":"true"})}))},738979:(e,t,r)=>{"use strict";r.d(t,{HEADER_TOOLBAR_HEIGHT_COLLAPSED:()=>i,HEADER_TOOLBAR_HEIGHT_EXPANDED:()=>n});var s=r(541183);const n=parseInt(s["css-value-header-toolbar-height"]),i=3},8012:(e,t,r)=>{"use strict";r.r(t),r.d(t,{HeaderToolbar:()=>ge});var s=r(50959),n=r(497754),i=r.n(n),a=r(685459),o=r.n(a),l=r(920057),c=r(283873);const u=function(e){return null==e};var d=r(931924),h=r(251954),p=r(719036),v=r(778785),m=r(170873),f=r(282930);function S(e){return s.createElement("div",{className:i()(f.separator,e.className)})}var b=r(960104);function _(e){const{children:t,className:r,noLeftDecoration:i,noRightDecoration:a,noMinimalWidth:o,onClick:l,removeSeparator:c}=e;return s.createElement(s.Fragment,null,!c&&s.createElement("div",{className:b.separatorWrap},s.createElement(S,{className:b.separator})),s.createElement("div",{className:n(r,b.group,{[b.noMinimalWidth]:o,[b.noLeftDecoration]:i,[b.noRightDecoration]:a}),onClick:l},t))}var y=r(389401),g=r(444372),E=r(79205),C=r(992568),w=r(245820);const M={text:g.t(null,void 0,r(148161))};function T(e){return s.createElement("div",{className:C.wrap},s.createElement(E.Icon,{className:C.icon,icon:w}),M.text)}var R=r(650151),I=r(913950),O=r(335048),k=r(969680),D=r(661380),V=r(412912);const A={isVisibleScrollbar:!0,shouldMeasure:!0,hideButtonsFrom:1};function F(e){return s.createElement("div",{className:n(V.fadeLeft,e.className,{[V.isVisible]:e.isVisible})})}function N(e){return s.createElement("div",{className:n(V.fadeRight,e.className,{[V.isVisible]:e.isVisible})})}function W(e){return s.createElement(B,{...e,className:V.scrollLeft})}function L(e){return s.createElement(B,{...e,className:V.scrollRight})}function B(e){return s.createElement("div",{className:n(e.className,{[V.isVisible]:e.isVisible}),onClick:e.onClick
},s.createElement("div",{className:V.iconWrap},s.createElement(E.Icon,{icon:D,className:V.icon})))}const x=function(e=W,t=L,r=F,i=N){var a;return(a=class extends s.PureComponent{constructor(e){super(e),this._scroll=s.createRef(),this._handleScrollLeft=()=>{if(this.props.onScrollButtonClick)return void this.props.onScrollButtonClick("left");const e=this.props.scrollStepSize||this.state.widthWrap-50;this.animateTo(Math.max(0,this.currentPosition()-e))},this._handleScrollRight=()=>{if(this.props.onScrollButtonClick)return void this.props.onScrollButtonClick("right");const e=this.props.scrollStepSize||this.state.widthWrap-50;this.animateTo(Math.min((this.state.widthContent||0)-(this.state.widthWrap||0),this.currentPosition()+e))},this._handleResizeWrap=([e])=>{const t=e.target.getBoundingClientRect();this.props.onMeasureWrap&&this.props.onMeasureWrap(t),this.setState({widthWrap:t.width}),this._checkButtonsVisibility()},this._handleResizeContent=([e])=>{const t=e.target.getBoundingClientRect();this.props.onMeasureContent&&this.props.onMeasureContent(t);const{shouldDecreaseWidthContent:r,buttonsWidthIfDecreasedWidthContent:s}=this.props;r&&s?this.setState({widthContent:t.width+2*s}):this.setState({widthContent:t.width})},this._handleScroll=()=>{const{onScroll:e}=this.props;e&&e(this.currentPosition(),this.isAtLeft(),this.isAtRight()),this._checkButtonsVisibility()},this._checkButtonsVisibility=()=>{const{isVisibleLeftButton:e,isVisibleRightButton:t}=this.state,r=this.isAtLeft(),s=this.isAtRight();r||e?r&&e&&this.setState({isVisibleLeftButton:!1}):this.setState({isVisibleLeftButton:!0}),s||t?s&&t&&this.setState({isVisibleRightButton:!1}):this.setState({isVisibleRightButton:!0})},this.state={widthContent:0,widthWrap:0,isVisibleRightButton:!1,isVisibleLeftButton:!1}}componentDidMount(){this._checkButtonsVisibility()}componentDidUpdate(e,t){t.widthWrap===this.state.widthWrap&&t.widthContent===this.state.widthContent||this._handleScroll()}currentPosition(){return this._scroll.current?(0,k.isRtl)()?(0,k.getLTRScrollLeft)(this._scroll.current):this._scroll.current.scrollLeft:0}isAtLeft(){return!this._isOverflowed()||this.currentPosition()<=(0,R.ensureDefined)(this.props.hideButtonsFrom)}isAtRight(){return!this._isOverflowed()||this.currentPosition()+this.state.widthWrap>=this.state.widthContent-(0,R.ensureDefined)(this.props.hideButtonsFrom)}animateTo(e,t=O.dur){const r=this._scroll.current;r&&((0,k.isRtl)()&&(e=(0,k.getLTRScrollLeftOffset)(r,e)),t<=0?r.scrollLeft=Math.round(e):(0,I.doAnimate)({onStep(e,t){r.scrollLeft=Math.round(t)},from:r.scrollLeft,to:Math.round(e),easing:O.easingFunc.easeInOutCubic,duration:t}))}render(){const{children:a,isVisibleScrollbar:o,isVisibleFade:l,isVisibleButtons:c,shouldMeasure:u,shouldDecreaseWidthContent:d,buttonsWidthIfDecreasedWidthContent:h,onMouseOver:p,onMouseOut:v,scrollWrapClassName:m,fadeClassName:f}=this.props,{isVisibleRightButton:S,isVisibleLeftButton:b}=this.state,_=d&&h;return s.createElement(y.Measure,{onResize:u?this._handleResizeWrap:null},(d=>s.createElement("div",{
className:V.wrapOverflow,onMouseOver:p,onMouseOut:v,ref:d},s.createElement("div",{className:n(V.wrap,_?V.wrapWithArrowsOuting:"")},s.createElement("div",{className:n(V.scrollWrap,m,{[V.noScrollBar]:!o}),onScroll:this._handleScroll,ref:this._scroll},s.createElement(y.Measure,{onResize:u?this._handleResizeContent:null},a)),l&&s.createElement(r,{isVisible:b,className:f}),l&&s.createElement(i,{isVisible:S,className:f}),c&&s.createElement(e,{onClick:this._handleScrollLeft,isVisible:b}),c&&s.createElement(t,{onClick:this._handleScrollRight,isVisible:S})))))}_isOverflowed(){const{widthContent:e,widthWrap:t}=this.state;return e>t}}).defaultProps=A,a}(W,L,F,N);var P,H=r(982528);!function(e){e.SymbolSearch="header-toolbar-symbol-search",e.Intervals="header-toolbar-intervals",e.ChartStyles="header-toolbar-chart-styles",e.Compare="header-toolbar-compare",e.Indicators="header-toolbar-indicators",e.StudyTemplates="header-toolbar-study-templates",e.Dropdown="header-toolbar-dropdown",e.Alerts="header-toolbar-alerts",e.Layouts="header-toolbar-layouts",e.SaveLoad="header-toolbar-save-load",e.UndoRedo="header-toolbar-undo-redo",e.Properties="header-toolbar-properties",e.QuickSearch="header-toolbar-quick-search",e.PublishDesktop="header-toolbar-publish-desktop",e.PublishMobile="header-toolbar-publish-mobile",e.Fullscreen="header-toolbar-fullscreen",e.Screenshot="header-toolbar-screenshot",e.TelegramShare="header-toolbar-telegram-share",e.Replay="header-toolbar-replay",e.Financials="header-toolbar-financials"}(P||(P={}));var q=r(962624),G=r(371830),z=r(557655),j=r(125226),X=r(345848),U=r(838206);const $=(0,G.registryContextType)(),K=d.enabled("widget");class J extends s.PureComponent{constructor(e,t){super(e,t),this._handleMouseOver=e=>{(0,q.hoverMouseEventFilter)(e)&&this.setState({isHovered:!0})},this._handleMouseOut=e=>{(0,q.hoverMouseEventFilter)(e)&&this.setState({isHovered:!1})},this._handleInnerResize=([e])=>{const t=e.contentRect.width,{onWidthChange:r}=this.props;r&&r(t)},this._handleMeasureAvailableSpace=e=>{const{onAvailableSpaceChange:t}=this.props;t&&t(e.width)},this._processCustoms=e=>{const{isFake:t,displayMode:r}=this.props,{tools:n}=this.context;return e.map((e=>s.createElement(_,{key:e.id},(e=>{switch(e.type){case"Button":return s.createElement(n.Custom,{...e.params,isFake:t});case"TradingViewStyledButton":return s.createElement(n.CustomTradingViewStyledButton,{...e.params,className:U.button,displayMode:r});case"Dropdown":return s.createElement(n.Dropdown,{displayMode:r,params:e.params});default:return null}})(e))))},this._fixLastGroup=(e,t,r)=>{if(t===r.length-1&&s.isValidElement(e)&&e.type===_){const t=void 0!==this.context.tools.Publish&&!this.props.readOnly;return s.cloneElement(e,{noRightDecoration:t})}return e},(0,G.validateRegistry)(t,{tools:p.any.isRequired}),this.state={isHovered:!1}}render(){
const{tools:e}=this.context,{features:t,displayMode:r,chartSaver:i,studyMarket:a,readOnly:o,saveLoadSyncEmitter:l,leftCustomElements:c,rightCustomElements:u,showScrollbarWhen:h,isFake:p=!1}=this.props,{isHovered:f}=this.state,S=this._processCustoms(c),b=this._processCustoms(u),g=h.includes(r);return s.createElement(z.Toolbar,{className:n(U.inner,{[U.fake]:p}),onContextMenu:H.preventDefaultForContextMenu,"data-is-fake-main-panel":p,"aria-hidden":p},s.createElement(x,{isVisibleFade:v.mobiletouch&&g,isVisibleButtons:!v.mobiletouch&&g&&f,isVisibleScrollbar:!1,shouldMeasure:!p,onMouseOver:this._handleMouseOver,onMouseOut:this._handleMouseOut,onMeasureWrap:this._handleMeasureAvailableSpace},(c=>s.createElement("div",{className:U.content,ref:c,role:"none"},s.createElement(y.Measure,{onResize:p?this._handleInnerResize:null},(c=>s.createElement("div",{className:U.innerWrap,ref:c},s.createElement(m.FragmentMap,{map:this._fixLastGroup},!o&&s.Children.toArray([(e.SymbolSearch||!K&&e.Compare)&&s.createElement(_,{key:"symbol"},e.SymbolSearch&&s.createElement(e.SymbolSearch,{id:p?void 0:P.SymbolSearch,isActionsVisible:t.allowSymbolSearchSpread}),e.Compare&&s.createElement(e.Compare,{id:p?void 0:P.Compare,className:U.button,displayMode:r})),e.DateRange&&s.createElement(_,{key:"range"},s.createElement(e.DateRange,null)),e.Intervals&&s.createElement(_,{key:"intervals"},s.createElement(e.Intervals,{id:p?void 0:P.Intervals,isShownQuicks:t.allowFavoriting,isFavoritingAllowed:t.allowFavoriting,displayMode:r,isFake:p})),e.Bars&&s.createElement(_,{key:"styles"},s.createElement(e.Bars,{id:p?void 0:P.ChartStyles,isShownQuicks:t.allowFavoriting,isFavoritingAllowed:t.allowFavoriting,displayMode:r,isFake:p})),K&&e.Compare&&!e.SymbolSearch&&s.createElement(_,{key:"compare"},s.createElement(e.Compare,{id:p?void 0:P.Compare,className:U.button,displayMode:r})),e.Indicators&&s.createElement(_,{key:"indicators"},s.createElement(e.Indicators,{id:p?void 0:P.Indicators,className:U.button,studyMarket:a,displayMode:r}),e.Templates&&s.createElement(e.Templates,{id:p?void 0:P.StudyTemplates,isShownQuicks:t.allowFavoriting,isFavoritingAllowed:t.allowFavoriting,displayMode:r})),e.Alert&&s.createElement(_,{key:"alert"},s.createElement(e.Alert,{id:p?void 0:P.Alerts,className:U.button,displayMode:r}),e.Replay&&s.createElement(e.Replay,{id:p?void 0:P.Replay,className:U.button,displayMode:r})),e.AlertReferral&&!d.enabled("hide_alert_referral_tool")&&s.createElement(_,{key:"alert-referral"},s.createElement(e.AlertReferral,{className:U.button,displayMode:r})),e.ScalePercentage&&s.createElement(_,{key:"percentage"},s.createElement(e.ScalePercentage,null)),e.ScaleLogarithm&&s.createElement(_,{key:"logarithm"},s.createElement(e.ScaleLogarithm,null)),...S]),function(e){const t=e.findIndex((e=>s.isValidElement(e)&&!!e.key&&-1!==e.key.toString().indexOf("view-only-badge")));return[t].filter((e=>e>=0)).forEach((t=>{e=s.Children.map(e,((e,r)=>{if(s.isValidElement(e)){switch([t-1,t,t+1].indexOf(r)){case 0:const t={noRightDecoration:!0};e=s.cloneElement(e,t);break;case 1:
const r={noLeftDecoration:!0,noRightDecoration:!0};e=s.cloneElement(e,r);break;case 2:const n={noLeftDecoration:!0};e=s.cloneElement(e,n)}}return e}))})),e}(s.Children.toArray([o&&s.createElement(_,{key:"view-only-badge",removeSeparator:!0},s.createElement(T,null)),!o&&e.UndoRedo&&s.createElement(_,{key:"undo-redo"},s.createElement(e.UndoRedo,{id:p?void 0:P.UndoRedo})),s.createElement(_,{removeSeparator:!0,key:"gap-1",className:n(U.fill,p&&U.collapse)}),(e.Layout||e.SaveLoad)&&s.createElement(_,{key:"layout",removeSeparator:!0},!o&&e.Layout&&s.createElement(e.Layout,{id:p?void 0:P.Layouts}),e.SaveLoad&&s.createElement(e.SaveLoad,{id:p?void 0:P.SaveLoad,chartSaver:i,isReadOnly:o,displayMode:r,isFake:p,stateSyncEmitter:l})),e.SaveLoadReferral&&s.createElement(_,{key:"save-load-referral"},s.createElement(e.SaveLoadReferral,{isReadOnly:o,displayMode:r})),t.showLaunchInPopupButton&&e.OpenPopup&&!d.enabled("hide_open_popup_button")&&s.createElement(_,{key:"popup"},s.createElement(e.OpenPopup,null)),!o&&(e.Properties||e.Fullscreen||!K&&e.Screenshot)&&s.createElement(_,{key:"properties"},!o&&e.QuickSearch&&s.createElement(e.QuickSearch,{id:p?void 0:P.QuickSearch,className:U.iconButton}),!o&&e.Properties&&s.createElement(e.Properties,{id:p?void 0:P.Properties,className:U.iconButton}),s.createElement(s.Fragment,null,!o&&e.Fullscreen&&s.createElement(_,{key:"fullscreen",onClick:this._trackFullscreenButtonClick,removeSeparator:!0},s.createElement(e.Fullscreen,{id:p?void 0:P.Fullscreen,clickArea:"top toolbar"})),!K&&e.Screenshot&&s.createElement(e.Screenshot,{id:p?void 0:P.Screenshot,className:U.iconButton}))),K&&!o&&e.Fullscreen&&s.createElement(_,{key:"fullscreen",onClick:this._trackFullscreenButtonClick,removeSeparator:!0},s.createElement(e.Fullscreen,{id:p?void 0:P.Fullscreen,clickArea:"top toolbar"})),K&&e.Screenshot&&s.createElement(_,{key:"screenshot",removeSeparator:!0},s.createElement(e.Screenshot,{id:p?void 0:P.Screenshot,className:U.iconButton})),K&&e.TelegramShare&&(!(0,j.isFeatureEnabled)("telegram_mini_app_disable_share_last_price")||!(0,j.isFeatureEnabled)("telegram_mini_app_disable_share_snapshot"))&&s.createElement(_,{key:"telegramshare",removeSeparator:!0},s.createElement(e.TelegramShare,{id:p?void 0:P.TelegramShare,className:U.iconButton})),!o&&e.Publish&&!d.enabled("hide_publish_button")&&s.createElement(_,{key:"publish",className:U.mobilePublish,removeSeparator:!0},s.createElement(e.Publish,{id:p?void 0:P.PublishMobile})),...b]))))))))),e.Publish&&!o&&!p&&!d.enabled("hide_publish_button")&&s.createElement(e.Publish,{id:P.PublishDesktop,className:U.desktopPublish}))}_trackFullscreenButtonClick(){(0,X.trackEvent)("GUI","Chart Header Toolbar","fullscreen")}}J.contextType=$;var Y=r(820028),Q=r(907364);class Z extends Q.CommonJsonStoreService{constructor(e,t,r=[]){super(e,t,"FAVORITE_CHART_STYLES_CHANGED","StyleWidget.quicks",r)}}var ee=r(64262),te=r(999102);class re extends Q.AbstractJsonStoreService{constructor(e,t,r){super(e,t,"FAVORITE_INTERVALS_CHANGED","IntervalWidget.quicks",r)}_serialize(e){return(0,
te.uniq)(e.map(ee.normalizeIntervalString))}_deserialize(e){return(0,te.uniq)((0,ee.convertResolutionsFromSettings)(e).filter(ee.isResolutionMultiplierValid).map(ee.normalizeIntervalString))}}var se=r(1554),ne=r(226722),ie=r(62802),ae=r(738979),oe=r(789370),le=r(477786);const ce={[le.ResolutionKind.Ticks]:!1,[le.ResolutionKind.Seconds]:!1,[le.ResolutionKind.Minutes]:!1,[le.SpecialResolutionKind.Hours]:!1,[le.ResolutionKind.Days]:!1,[le.ResolutionKind.Range]:!1};class ue extends Q.CommonJsonStoreService{constructor(e,t,r=ce){super(e,t,"INTERVALS_MENU_VIEW_STATE_CHANGED","IntervalWidget.menu.viewState",r)}isAllowed(e){return Object.keys(ce).includes(e)}}const de={defaultsCollapsed:!1};class he extends Q.CommonJsonStoreService{constructor(e,t,r=de){super(e,t,"TEMPLATES_MENU_VIEW_STATE_CHANGED","TemplatesWidget.menu.viewState",r)}}const pe={Area:3,"HLC area":16,Bars:0,Candles:1,"Heiken Ashi":8,"Hollow Candles":9,Line:2,Renko:4,Kagi:5,"Point & figure":6,"Line Break":7,Baseline:10,LineWithMarkers:14,Stepline:15,Columns:13,"High-low":12},ve=["1","30","60"];function me(e=[]){let t=e.map((e=>pe[e]))||[1,4,5,6];return d.enabled("widget")&&(t=[0,1,3]),t}function fe(e=[]){return(0,ee.mergeResolutions)(e,d.enabled("star_some_intervals_by_default")?ve:[])}new re(ne.TVXWindowEvents,ie,fe()),new Z(ne.TVXWindowEvents,ie,me());const Se={tools:p.any.isRequired,isFundamental:p.any,chartApiInstance:p.any,availableTimeFrames:p.any,chartWidgetCollection:p.any,windowMessageService:p.any,favoriteChartStylesService:p.any,favoriteIntervalsService:p.any,intervalService:p.any,recentStudyTemplatesService:p.any,studyTemplates:p.any,chartChangesWatcher:p.any,saveChartService:p.any,sharingChartService:p.any,loadChartService:p.any,chartWidget:p.any,favoriteScriptsModel:p.any,intervalsMenuViewStateService:p.any,templatesMenuViewStateService:p.any,openGlobalSearch:p.any,snapshotUrl:p.any};var be=r(760863),_e=r(798001);const ye=[];class ge extends s.PureComponent{constructor(e){super(e),this._saveLoadSyncEmitter=new(o()),this._handleFullWidthChange=e=>{this._fullWidth=e,this.setState({measureValid:!1})},this._handleFavoritesWidthChange=e=>{this._favoritesWidth=e,this.setState({measureValid:!1})},this._handleCollapseWidthChange=e=>{this._collapseWidth=e,this.setState({measureValid:!1})},this._handleMeasure=e=>{this.setState({availableWidth:e,measureValid:!1})};const{tools:t,windowMessageService:r,chartWidgetCollection:s,chartApiInstance:n,availableTimeFrames:i,isFundamental:a,favoriteIntervalsService:c,favoriteChartStylesService:u,recentStudyTemplatesService:h,studyTemplates:p,saveChartService:v,sharingChartService:m,loadChartService:f,snapshotUrl:S,openGlobalSearch:b}=e;this._showScrollbarWhen=(0,R.ensureDefined)(e.allowedModes).slice(-1),this._panelWidthChangeHandlers={full:this._handleFullWidthChange,medium:this._handleFavoritesWidthChange,small:this._handleCollapseWidthChange};const{chartChangesWatcher:_}=e;this._chartChangesWatcher=_;const y=me(this.props.defaultFavoriteStyles);this._favoriteChartStylesService=u||new Z(ne.TVXWindowEvents,ie,y)
;const g=fe(this.props.defaultFavoriteIntervals);this._favoriteIntervalsService=c||new re(ne.TVXWindowEvents,ie,g),this._intervalsMenuViewStateService=new ue(ne.TVXWindowEvents,ie),this._intervalService=new se.IntervalsService(n.defaultResolutions),this._templatesMenuVuewStateService=new he(ne.TVXWindowEvents,ie),this._registry={tools:t,isFundamental:a,chartWidgetCollection:s,windowMessageService:r,chartApiInstance:n,availableTimeFrames:i,recentStudyTemplatesService:h,studyTemplates:p,saveChartService:v,sharingChartService:m,loadChartService:f,intervalsMenuViewStateService:this._intervalsMenuViewStateService,favoriteChartStylesService:this._favoriteChartStylesService,favoriteIntervalsService:this._favoriteIntervalsService,intervalService:this._intervalService,chartChangesWatcher:this._chartChangesWatcher,chartWidget:s.activeChartWidget.value(),favoriteScriptsModel:oe.FavoriteScriptsModel.getInstance(),templatesMenuViewStateService:this._templatesMenuVuewStateService,snapshotUrl:S,openGlobalSearch:b},this.state={isVisible:!0,availableWidth:0,displayMode:"full",measureValid:!1,leftCustomElements:[],rightCustomElements:[]},this._readOnly=s.readOnly(),this._features={allowFavoriting:d.enabled("items_favoriting"),showIdeasButton:Boolean(this.props.ideas),showLaunchInPopupButton:Boolean(this.props.popupButton),allowSymbolSearchSpread:d.enabled("header_symbol_search")&&!0,allowToolbarHiding:d.enabled("collapsible_header")},this._setDisplayMode=(0,l.default)(this._setDisplayMode,100),this._negotiateResizer()}componentDidUpdate(e,t){const{isVisible:r,measureValid:s}=this.state;r!==t.isVisible&&(h.emit("toggle_header",r),this._negotiateResizer()),s||this._setDisplayMode()}render(){const{resizerBridge:e,allowedModes:t,...r}=this.props,{displayMode:i,isVisible:a,leftCustomElements:o,rightCustomElements:l}=this.state,c={features:this._features,readOnly:this._readOnly,isFake:!1,saveLoadSyncEmitter:this._saveLoadSyncEmitter,leftCustomElements:o,rightCustomElements:l,...r},u={...c,isFake:!0,showScrollbarWhen:ye},d=(0,R.ensureDefined)(t),h=this.props.tools.PublishButtonManager||s.Fragment;return s.createElement(G.RegistryProvider,{value:this._registry,validation:Se},s.createElement(h,null,s.createElement("div",{className:n(_e.toolbar,{[_e.isHidden]:!a}),onClick:this.props.onClick},s.createElement("div",{className:_e.overflowWrap},d.map((e=>s.createElement(J,{key:e,displayMode:e,onWidthChange:this._panelWidthChangeHandlers[e],...u}))),s.createElement(J,{key:"live",showScrollbarWhen:this._showScrollbarWhen,displayMode:i,onAvailableSpaceChange:this._handleMeasure,...c})))))}addButton(e,t){if(!t.useTradingViewStyle)return this._addCustomHTMLButton(e,t.align);this._addCustomTradingViewStyledButton(e,t)}removeButton(e){const{leftCustomElements:t,rightCustomElements:r}=this.state;if((0,c.default)(e))this._removeCustomElementToState(e);else{const s=t=>"element"in t.params&&t.params.element===e,n=t.find(s)?.id??r.find(s)?.id;u(n)||this._removeCustomElementToState(n)}}addDropdown(e,t){
const{leftCustomElements:r,rightCustomElements:s}=this.state,n={type:"Dropdown",id:e,params:t};"left"===t.align?this.setState({leftCustomElements:[...r,n]}):this.setState({rightCustomElements:[...s,n]})}updateDropdown(e,t){const r=t=>"Dropdown"===t.type&&t.id===e,s=this.state.leftCustomElements.find(r)||this.state.rightCustomElements.find(r);void 0!==s&&(s.params={...s.params,...t},this.setState({leftCustomElements:this.state.leftCustomElements.slice(),rightCustomElements:this.state.rightCustomElements.slice()}))}removeDropdown(e){const t=t=>"Dropdown"===t.type&&t.id!==e,r=this.state.leftCustomElements.filter(t),s=this.state.rightCustomElements.filter(t);this.setState({leftCustomElements:r,rightCustomElements:s})}_negotiateResizer(){this.props.resizerBridge.negotiateHeight(this.state.isVisible?ae.HEADER_TOOLBAR_HEIGHT_EXPANDED:ae.HEADER_TOOLBAR_HEIGHT_COLLAPSED)}_setDisplayMode(){const{availableWidth:e}=this.state,{allowedModes:t}=this.props,r={full:this._fullWidth,medium:this._favoritesWidth,small:this._collapseWidth},s=(0,R.ensureDefined)(t);let n=s.map((e=>r[e])).findIndex((t=>e>=t));-1===n&&(n=s.length-1);const i=s[n];this.setState({measureValid:!0,displayMode:i})}_addCustomHTMLButton(e,t="left"){const r=new Y.WatchedValue(0),s=(0,be.parseHtmlElement)(`<div class="apply-common-tooltip ${_e.customButton}">`),n={type:"Button",id:e,params:{key:Number(new Date),element:s,width:r}};return this._addCustomElementToState(t,n),s}_addCustomTradingViewStyledButton(e,t){const r={type:"TradingViewStyledButton",id:e,params:{key:Number(new Date),text:t.text,title:t.title,onClick:t.onClick}};this._addCustomElementToState(t.align,r)}_addCustomElementToState(e,t){const{leftCustomElements:r,rightCustomElements:s}=this.state;"left"===e?this.setState({leftCustomElements:[...r,t]}):this.setState({rightCustomElements:[...s,t]})}_removeCustomElementToState(e){this.setState({leftCustomElements:this.state.leftCustomElements.filter((t=>t.id!==e)),rightCustomElements:this.state.rightCustomElements.filter((t=>t.id!==e))})}}ge.defaultProps={allowedModes:["full","medium"]}},430366:(e,t,r)=>{"use strict";r.d(t,{CustomIntervalsService:()=>h,customIntervalsServiceInstance:()=>p});var s=r(62802),n=r(226722),i=r(405117),a=r(552279),o=r(638456),l=r(907364),c=r(64262),u=r(999102);const d=["2","10"];class h extends l.AbstractJsonStoreService{constructor(e,t,r=((0,o.onWidget)()?[]:d)){super(e,t,"CUSTOM_INTERVALS_CHANGED","IntervalWidget.intervals",r)}set(e,t){(0,i.trackGoProFeature)("customIntervals");const r=()=>{(0,o.onWidget)()||this._jsonKeyValueStore.setJSON("IntervalWidget.intervalsDefaults2and10MinutesMigration",!0),super.set(e,t)};e.length<this.get().length?r():(0,a.runOrGoPro)((()=>r()),"CUSTOM_INTERVALS",{feature:"customIntervals"})}_serialize(e){return(0,u.uniq)(e.map(c.normalizeIntervalString))}_deserialize(e){const t=[];return(0,o.onWidget)()||this._jsonKeyValueStore.getJSON("IntervalWidget.intervalsDefaults2and10MinutesMigration",!1)||t.push(...d),(0,u.uniq)([...t,...(0,
c.convertResolutionsFromSettings)(e).filter(c.isResolutionMultiplierValid).map(c.normalizeIntervalString)])}}const p=new h(n.TVXWindowEvents,s)},1554:(e,t,r)=>{"use strict";r.d(t,{IntervalsService:()=>l});var s=r(625214),n=r(547465),i=r(430366),a=r(515936),o=r(64262);class l{constructor(e){this._customIntervalsService=i.customIntervalsServiceInstance,this._supportedIntervalsMayChange=new n.Delegate,this._fireSupportedIntervalsMayChange=()=>{this._supportedIntervalsMayChange.fire()},this._resolutionGetter=()=>[],this._resolutionGetter=e,s.linking.supportedResolutions.subscribe(this._fireSupportedIntervalsMayChange),s.linking.range.subscribe(this._fireSupportedIntervalsMayChange),s.linking.seconds.subscribe(this._fireSupportedIntervalsMayChange),s.linking.ticks.subscribe(this._fireSupportedIntervalsMayChange),s.linking.intraday.subscribe(this._fireSupportedIntervalsMayChange),s.linking.dataFrequencyResolution.subscribe(this._fireSupportedIntervalsMayChange)}destroy(){s.linking.supportedResolutions.unsubscribe(this._fireSupportedIntervalsMayChange),s.linking.range.unsubscribe(this._fireSupportedIntervalsMayChange),s.linking.seconds.unsubscribe(this._fireSupportedIntervalsMayChange),s.linking.ticks.unsubscribe(this._fireSupportedIntervalsMayChange),s.linking.intraday.unsubscribe(this._fireSupportedIntervalsMayChange),s.linking.dataFrequencyResolution.unsubscribe(this._fireSupportedIntervalsMayChange)}getDefaultIntervals(){return this._resolutionGetter?this._resolutionGetter().map(o.normalizeIntervalString):[]}getCustomIntervals(){return this._customIntervalsService.get()}add(e,t,r){if(!window.user.is_pro&&r)return r(),null;if(!this.isValidInterval(e,t))return null;const s=(0,o.normalizeIntervalString)(`${e}${t}`),n=this.getCustomIntervals();return this._isIntervalDefault(s)||n.includes(s)?null:(this._customIntervalsService.set((0,o.sortResolutions)([...n,s])),s)}remove(e){this._customIntervalsService.set(this.getCustomIntervals().filter((t=>t!==e)))}isValidInterval(e,t){return(0,o.isResolutionMultiplierValid)(`${e}${t}`)}isSupportedInterval(e){return(0,o.isAvailable)(e)}supportedIntervalsMayChange(){return this._supportedIntervalsMayChange}getOnChange(){return this._customIntervalsService.getOnChange()}getPossibleIntervals(){return a.INTERVALS}getResolutionUtils(){return{getMaxResolutionValue:o.getMaxResolutionValue,getTranslatedResolutionModel:o.getTranslatedResolutionModel,mergeResolutions:o.mergeResolutions,sortResolutions:o.sortResolutions}}_isIntervalDefault(e){return this.getDefaultIntervals().includes(e)}}},371830:(e,t,r)=>{"use strict";r.d(t,{RegistryProvider:()=>l,registryContextType:()=>u,useRegistry:()=>c,validateRegistry:()=>o});var s=r(50959),n=r(719036),i=r.n(n);const a=s.createContext({});function o(e,t){i().checkPropTypes(t,e,"context","RegistryContext")}function l(e){const{validation:t,value:r}=e;return o(r,t),s.createElement(a.Provider,{value:r},e.children)}function c(e){const t=(0,s.useContext)(a);return o(t,e),t}function u(){return a}},907364:(e,t,r)=>{"use strict";r.d(t,{
AbstractJsonStoreService:()=>n,CommonJsonStoreService:()=>i});var s=r(547465);class n{constructor(e,t,r,n,i){this._onChange=new s.Delegate,this._handleChange=()=>{this._onChange.fire(this.get())},this._crossTabEvents=e,this._jsonKeyValueStore=t,this.CROSSTAB_EVENT_NAME=r,this.JSON_STORE_KEY=n,this.defaultStoreValue=this._serialize(i),this._subscribe()}get(){const e=this._jsonKeyValueStore.getJSON(this.JSON_STORE_KEY,this.defaultStoreValue);return this._deserialize(e)}set(e,t){const r=this._serialize(e);this._jsonKeyValueStore.setJSON(this.JSON_STORE_KEY,r,t),this._crossTabEvents.emit(this.CROSSTAB_EVENT_NAME),this._onChange.fire(e)}getOnChange(){return this._onChange}destroy(){this._unsubscribe(),this._onChange.destroy(),delete this._onChange}_subscribe(){this._crossTabEvents.on(this.CROSSTAB_EVENT_NAME,this._handleChange),this._jsonKeyValueStore.onSync.subscribe(this,this._handleChange)}_unsubscribe(){this._crossTabEvents.off(this.CROSSTAB_EVENT_NAME,this._handleChange),this._jsonKeyValueStore.onSync.unsubscribe(this,this._handleChange)}}class i extends n{_serialize(e){return e}_deserialize(e){return e}}},789370:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FavoriteScriptsModel:()=>d});var s=r(62802),n=r(226722),i=r(657619),a=r(971417)
;const o=JSON.parse('{"ACCD@tv-basicstudies":"STD;Accumulation_Distribution","studyADR@tv-basicstudies":"STD;Advance_Decline_Ratio_Bars","AROON@tv-basicstudies":"STD;Aroon","ATR@tv-basicstudies":"STD;Average_True_Range","AwesomeOscillator@tv-basicstudies":"STD;Awesome_Oscillator","BB@tv-basicstudies":"STD;Bollinger_Bands","BollingerBandsR@tv-basicstudies":"STD;Bollinger_Bands_B","BollingerBandsWidth@tv-basicstudies":"STD;Bollinger_Bands_Width","CMF@tv-basicstudies":"STD;Chaikin_Money_Flow","ChaikinOscillator@tv-basicstudies":"STD;Chaikin_Oscillator","ChoppinessIndex@tv-basicstudies":"STD;Choppiness_Index","DoubleEMA@tv-basicstudies":"STD;DEMA","WilliamR@tv-basicstudies":"STD;Willams_R","CCI@tv-basicstudies":"STD;CCI","CRSI@tv-basicstudies":"STD;Connors_RSI","DetrendedPriceOscillator@tv-basicstudies":"STD;DPO","DM@tv-basicstudies":"STD;DMI","DONCH@tv-basicstudies":"STD;Donchian_Channels","EaseOfMovement@tv-basicstudies":"STD;EOM","EFI@tv-basicstudies":"STD;EFI","ENV@tv-basicstudies":"STD;ENV","FisherTransform@tv-basicstudies":"STD;Fisher_Transform","HV@tv-basicstudies":"STD;Historical_Volatility","KLTNR@tv-basicstudies":"STD;Keltner_Channels","MOM@tv-basicstudies":"STD;Momentum","MF@tv-basicstudies":"STD;Money_Flow","UltimateOsc@tv-basicstudies":"STD;Ultimate_Oscillator","Trix@tv-basicstudies":"STD;TRIX","Stochastic@tv-basicstudies":"STD;Stochastic","StochasticRSI@tv-basicstudies":"STD;Stochastic_RSI","RSI@tv-basicstudies":"STD;RSI","ROC@tv-basicstudies":"STD;ROC","PriceOsc@tv-basicstudies":"STD;Price_Oscillator","MASimple@tv-basicstudies":"STD;SMA","OBV@tv-basicstudies":"STD;On_Balance_Volume","PSAR@tv-basicstudies":"STD;PSAR","VigorIndex@tv-basicstudies":"STD;Relative_Vigor_Index","VolatilityIndex@tv-basicstudies":"STD;Relative_Volatility_Index","SMIErgodicIndicator@tv-basicstudies":"STD;SMI_Ergodic_Indicator_Oscillator","SMIErgodicOscillator@tv-basicstudies":"STD;SMI_Ergodic_Oscillator","MACD@tv-basicstudies":"STD;MACD","MAWeighted@tv-basicstudies":"STD;WMA","MAExp@tv-basicstudies":"STD;EMA","hullMA@tv-basicstudies":"STD;Hull%1MA","chandeMO@tv-basicstudies":"STD;Chande_Momentum_Oscillator","TripleEMA@tv-basicstudies":"STD;TEMA","MAVolumeWeighted@tv-basicstudies":"STD;VWMA","WilliamsAlligator@tv-basicstudies":"STD;Williams_Alligator","WilliamsFractal@tv-basicstudies":"STD;Whilliams_Fractals"}');var l=r(547465);const c=o;let u=null;class d{constructor(e=s){this._favorites=[],this._favoritesChanged=new l.Delegate,this._settings=e,n.TVXWindowEvents.on("StudyFavoritesChanged",(e=>{const t=JSON.parse(e);this._loadFromState(t.favorites||[])})),this._settings.onSync.subscribe(this,this._loadFavs),this._loadFavs()}isFav(e){const t=this.favId(e);return-1!==this._findFavIndex(t)}toggleFavorite(e){this.isFav(e)?this.removeFavorite(e):this.addFavorite(e)}addFavorite(e){const t=this.favId(e);this._favorites.push(p(t)),this._favoritesChanged.fire(t),this._saveFavs()}removeFavorite(e){const t=this.favId(e),r=this._findFavIndex(t);-1!==r&&(this._favorites.splice(r,1),this._favoritesChanged.fire(t)),this._saveFavs()}favId(e){
return(0,a.isPineIdString)(e)?e:(0,a.extractPineId)(e)||(0,i.extractStudyId)(e)}favorites(){return this._favorites}favoritePineIds(){return this._favorites.filter((e=>"pine"===e.type)).map((e=>e.pineId))}favoritesChanged(){return this._favoritesChanged}static getInstance(){return null===u&&(u=new d),u}static create(e){return new d(e)}_loadFavs(){const e=this._settings.getJSON("studyMarket.favorites",[]);this._loadFromState(e)}_saveFavs(){const e=this._stateToSave();this._settings.setJSON("studyMarket.favorites",e,{forceFlush:!0}),n.TVXWindowEvents.emit("StudyFavoritesChanged",JSON.stringify({favorites:e}))}_stateToSave(){return this._favorites.map(h)}_loadFromState(e){this._favorites=e.map((e=>p(function(e){return e in c?c[e]:e}(e)))),this._favoritesChanged.fire()}_findFavIndex(e){return this._favorites.findIndex((t=>e===h(t)))}}function h(e){return"java"===e.type?e.studyId:e.pineId}function p(e){return(0,a.isPineIdString)(e)?{type:"pine",pineId:e}:{type:"java",studyId:e}}},661380:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 10" width="20" height="10"><path fill="none" stroke="currentColor" stroke-width="1.5" d="M2 1l8 8 8-8"/></svg>'},245820:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M4.56 14a10.05 10.05 0 00.52.91c.41.69 1.04 1.6 1.85 2.5C8.58 19.25 10.95 21 14 21c3.05 0 5.42-1.76 7.07-3.58A17.18 17.18 0 0023.44 14a9.47 9.47 0 00-.52-.91c-.41-.69-1.04-1.6-1.85-2.5C19.42 8.75 17.05 7 14 7c-3.05 0-5.42 1.76-7.07 3.58A17.18 17.18 0 004.56 14zM24 14l.45-.21-.01-.03a7.03 7.03 0 00-.16-.32c-.11-.2-.28-.51-.5-.87-.44-.72-1.1-1.69-1.97-2.65C20.08 7.99 17.45 6 14 6c-3.45 0-6.08 2-7.8 3.92a18.18 18.18 0 00-2.64 3.84v.02h-.01L4 14l-.45-.21-.1.21.1.21L4 14l-.45.21.01.03a5.85 5.85 0 00.16.32c.11.2.28.51.5.87.44.72 1.1 1.69 1.97 2.65C7.92 20.01 10.55 22 14 22c3.45 0 6.08-2 7.8-3.92a18.18 18.18 0 002.64-3.84v-.02h.01L24 14zm0 0l.45.21.1-.21-.1-.21L24 14zm-10-3a3 3 0 100 6 3 3 0 000-6zm-4 3a4 4 0 118 0 4 4 0 01-8 0z"/></svg>'}}]);