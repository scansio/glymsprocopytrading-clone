"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[22762],{910282:(t,i,e)=>{e.d(i,{CHART_FONT_FAMILY:()=>o,CHART_MONOSPACE_FONT_FAMILY:()=>l});var n=e(314802);const a="'Trebuchet MS', Roboto, Ubuntu, sans-serif",s=`-apple-system, BlinkMacSystemFont, ${a}`;let o=((0,n.isOnMobileAppPage)("old"),a);const l="monospace";{const t=["U+2E80-2FD5","U+3040-309F","U+1B100-1B12F","U+1AFF0-1AFFF","U+1B000-1B0FF","U+1B130-1B16F","U+3190-319F","U+30A0-30FF","U+31F0-31FF","U+3400-4DBF","U+4E00-9FFF","U+0E00-0E7F"],i=o;(async()=>{if(!/iPhone OS 15_\d+?/.test(navigator.userAgent))return s;{if(["kr","zh_CN","zh_TW"].includes(window.locale))return o;const i=new FontFace("ChartIosFont","local(Helvetica), local(Arial)",{unicodeRange:t.join(", ")});try{return document.fonts.add(await i.load()),`ChartIosFont, ${s}`}catch(t){return o}}})().then((t=>{i===o&&(o=t)}))}},26384:(t,i,e)=>{e.d(i,{cubicBezierHitTest:()=>l,cubicBezierPoint:()=>o,extendQuadroBezier:()=>r,quadroBezierHitTest:()=>s});var n=e(2624),a=e(462140);function s(t,i,e,a,s){const o=e.subtract(t).length()+e.subtract(i).length(),l=Math.max(3/o,.02);let r;for(let o=0;;o+=l){o>1&&(o=1);const l=t.scaled((1-o)*(1-o)),h=e.scaled(2*o*(1-o)),d=i.scaled(o*o),c=l.add(h).add(d);if(void 0!==r){if((0,n.distanceToSegment)(c,r,a).distance<s)return!0}else if(c.subtract(a).length()<s)return!0;if(r=c,1===o)break}return!1}function o(t,i,e,n,s){s=(0,a.clamp)(s,0,1);const o=t.scaled((1-s)*(1-s)*(1-s)),l=i.scaled(3*(1-s)*(1-s)*s),r=e.scaled(3*(1-s)*s*s),h=n.scaled(s*s*s);return o.add(l).add(r).add(h)}function l(t,i,e,a,s,l){const r=i.subtract(t).length()+e.subtract(i).length()+a.subtract(e).length(),h=Math.max(3/r,.02);let d;for(let r=0;;r+=h){const h=o(t,i,e,a,r);if(void 0!==d){if((0,n.distanceToSegment)(h,d,s).distance<l)return!0}else if(h.subtract(s).length()<l)return!0;if(d=h,r>=1)break}return!1}function r(t,i,e,n,a){const s=e.subtract(t).length()+e.subtract(i).length();if(!s)return[];const o=function(t,i,e,n,a){const s=[],o=h(t.y,i.y,e.y,0).concat(h(t.y,i.y,e.y,a));for(let a=0;a<o.length;a++){const l=d(t.x,i.x,e.x,o[a]);l>=0&&l<=n&&s.push(o[a])}const l=h(t.x,i.x,e.x,0).concat(h(t.x,i.x,e.x,n));for(let n=0;n<l.length;n++){const o=d(t.y,i.y,e.y,l[n]);o>=0&&o<=a&&s.push(l[n])}return s}(t,i,e,n,a).filter((t=>t>1)).sort(((t,i)=>t-i));i.x>=0&&i.x<=n&&i.y>=0&&i.y<=a&&o.unshift(1);const l=3/s,r=[];for(let n=0;n<o.length-1;n+=2){let a=l,s=o[n],h=o[n+1]+a;const d=[];for(;s<=h;){const n=t.scaled((1-s)*(1-s)),o=e.scaled(2*s*(1-s)),l=i.scaled(s*s),r=n.add(o).add(l);if(d.length>0){d[d.length-1].subtract(r).length()<2&&(h+=a,a*=2)}d.push(r),s+=a}d.length>0&&r.push(d)}return r}function h(t,i,e,n){const a=[],s=t-2*e+i,o=2*e-2*t,l=t-n;if(Math.abs(s)>1e-8){const t=o*o-4*s*l;t>=0&&(a.push((-o+Math.sqrt(t))/(2*s)),a.push((-o-Math.sqrt(t))/(2*s)))}else a.push(-l/o);return a}function d(t,i,e,n){return(1-n)*(1-n)*t+2*(1-n)*n*e+n*n*i}},654397:(t,i,e)=>{e.d(i,{HorizontalLineRenderer:()=>r});var n=e(731974),a=e(338242),s=e(65840),o=e(320994),l=e(688857)
;class r extends o.BitmapCoordinatesPaneRenderer{constructor(){super(...arguments),this._data=null,this._hitTest=new n.HitTestResult(n.HitTarget.Regular)}setData(t){this._data=t}setHitTest(t){this._hitTest=t}hitTest(t){if(null===this._data||!1===this._data.visible||null===this._hitTest)return null;const i=(0,s.interactionTolerance)().line,e=Math.abs(t.y-this._data.y)<=i+this._data.linewidth/2,n=void 0===this._data.left||this._data.left-t.x<=i,a=void 0===this._data.right||t.x-this._data.right<=i;return e&&n&&a?this._hitTest:null}_drawImpl(t){if(null===this._data||!1===this._data.visible)return;const{context:i,horizontalPixelRatio:e,verticalPixelRatio:n,mediaSize:s}=t;if(this._data.y<-this._data.linewidth/2||this._data.y>s.height+this._data.linewidth/2)return;i.lineCap="butt",i.strokeStyle=this._data.color,i.lineWidth=Math.max(1,Math.floor(this._data.linewidth*e)),void 0!==this._data.linestyle&&(0,a.setLineStyle)(i,this._data.linestyle);const o=void 0!==this._data.left?Math.max(this._data.left,0):0,r=void 0!==this._data.right?Math.min(this._data.right,s.width):s.width,h=Math.round(this._data.y*n),d=Math.round(o*e),c=Math.round(r*e),u=this._data.excludeBoundaries;void 0!==u&&(0,l.addExclusionAreaByScope)(t,u),(0,a.drawHorizontalLine)(i,h,d,c)}}},568498:(t,i,e)=>{e.d(i,{intersectLineWithViewport:()=>o});var n=e(610555);function a(t,i,e){return t>=i&&t<=e?t:null}function s(t,i,e,n){return Math.sign(t.x-i.x)===Math.sign(e.x-n.x)&&Math.sign(t.y-i.y)===Math.sign(e.y-n.y)}function o(t,i,e,o,l,r,h){const d=t.x>=0&&t.x<=l&&t.y>=0&&t.y<=r,c=i.x>=0&&i.x<=l&&i.y>=0&&i.y<=r;if(d&&c&&!e&&!o)return[t,i];if(t.x<0&&i.x<0&&(t.x<i.x?!o:!e)||t.x>l&&i.x>l&&(t.x<i.x?!e:!o)||t.y<0&&i.y<0&&(t.y<i.y?!o:!e)||t.y>r&&i.y>r&&(t.y<i.y?!e:!o))return null;const u=[];if(t.x===i.x){if(t.x<0||t.x>l)return null;t.y<i.y?u.push(new n.Point(t.x,0===h?0:t.y<0?t.y%h:-(h-t.y%h)),new n.Point(i.x,r)):u.push(new n.Point(t.x,0===h?r:t.y>r?r+(t.y-r)%h:r+(h-(r-t.y)%h)),new n.Point(i.x,0))}else if(t.y===i.y){if(t.y<0||t.y>r)return null;t.x<i.x?u.push(new n.Point(0===h?0:t.x<0?t.x%h:-(h-t.x%h),t.y),new n.Point(l,i.y)):u.push(new n.Point(0===h?l:t.x>l?l+(t.x-l)%h:l+(h-(l-t.x)%h),t.y),new n.Point(0,i.y))}else{const s=(i.y-t.y)/(i.x-t.x),o=t.y-s*t.x;let d=0,c=0;const _=a(o,0,r);if(null!==_)if(h>0&&(t.x<=0||e&&t.x<i.x)){const i=t.x<=0?Math.sqrt(Math.pow(0-t.x,2)+Math.pow(_-t.y,2))%h:h-Math.sqrt(Math.pow(0-t.x,2)+Math.pow(_-t.y,2))%h;d=Math.cos(Math.atan(s))*i,c=s*d,u.push(new n.Point(-d,_-c))}else u.push(new n.Point(0,_));const p=a(s*l+o,0,r);if(null!==p)if(h>0&&(t.x>=l||e&&t.x>i.x)){const i=t.x>=l?Math.sqrt(Math.pow(t.x-l,2)+Math.pow(t.y-p,2))%h:h-Math.sqrt(Math.pow(t.x-l,2)+Math.pow(t.y-p,2))%h;d=Math.cos(Math.atan(s))*i,c=s*d,u.push(new n.Point(l+d,p+c))}else u.push(new n.Point(l,p));const f=a(-o/s,0,l);if(null!==f&&(0!==f||0!==_))if(h>0&&(t.y<=0||e&&t.y<i.y)){const i=t.y<=0?Math.sqrt(Math.pow(t.x-f,2)+Math.pow(t.y-0,2))%h:h-Math.sqrt(Math.pow(t.x-f,2)+Math.pow(t.y-0,2))%h;d=Math.cos(Math.atan(s))*i,c=s*d,u.push(new n.Point(f-Math.sign(s)*d,-Math.sign(s)*c))
}else u.push(new n.Point(f,0));const x=a((r-o)/s,0,l);if(null!==x&&(0!==x||p!==r))if(h>0&&(t.y>=r||e&&t.y>i.y)){const i=t.y>=r?Math.sqrt(Math.pow(t.x-x,2)+Math.pow(t.y-r,2))%h:h-Math.sqrt(Math.pow(t.x-x,2)+Math.pow(t.y-r,2))%h;d=Math.cos(Math.atan(s))*i,c=s*d,u.push(new n.Point(x+Math.sign(s)*d,r+Math.sign(s)*c))}else u.push(new n.Point(x,r))}if(u.length<1)return null;if(u.length<2&&u.push(u[0]),!e&&d){return[t,s(u[0],u[1],t,i)?u[1]:u[0]]}if(!o&&c){return[s(u[0],u[1],t,i)?u[0]:u[1],i]}return s(u[0],u[1],t,i)?[u[0],u[1]]:[u[1],u[0]]}},473645:(t,i,e)=>{e.d(i,{ParallelChannelRenderer:()=>f});var n=e(813232),a=e(906453),s=e(610555),o=e(2624),l=e(648892),r=e(257145),h=e(731974),d=e(65840),c=e(338242),u=e(568498),_=e(688857),p=e(320994);class f extends p.BitmapCoordinatesPaneRenderer{constructor(t,i){super(),this._data=null,this._backgroundPolygon=null,this._clippedLines=new Map,this._hittestResult=t||new h.HitTestResult(h.HitTarget.MovePoint),this._backHittestResult=i||new h.HitTestResult(h.HitTarget.MovePointBackground)}setData(t){this._data=t,this._backgroundPolygon=null,this._clippedLines.clear()}hitTest(t,i){if(null===this._data)return null;const{line1:e,line2:n,middleLine:s}=this._data,l=i.mediaSize,r=(0,d.interactionTolerance)().line;for(const i of[e,n,s]){if(!i)continue;const e=this._getClippedLine(i,this._data,l);if(e){if((0,o.distanceToSegment)(e.points[0],e.points[1],t).distance<=r)return this._hittestResult}}if(this._data.hittestOnBackground&&this._data.fillBackground){const i=this._getBackgroundPolygon(this._data,l);if(i.length>0&&(0,a.pointInPolygon)(t,i))return this._backHittestResult}return null}_drawImpl(t){if(null===this._data)return;const{line1:i,line2:e,middleLine:n,skipLines:a,skipTopLine:s,fillBackground:o,backColor:l}=this._data,r=t.context;r.lineCap="round";const h=this._data;if(o&&e){const i=this._getBackgroundPolygon(this._data,t.mediaSize);if(i.length>0){r.beginPath();{const e=i[0].x*t.horizontalPixelRatio,n=i[0].y*t.verticalPixelRatio;r.moveTo(e,n)}for(let e=1;e<i.length;e++){const n=i[e].x*t.horizontalPixelRatio,a=i[e].y*t.verticalPixelRatio;r.lineTo(n,a)}r.fillStyle=l,r.fill()}}void 0!==h.excludeBoundaries&&(r.save(),(0,_.addExclusionArea)(r,t,h.excludeBoundaries)),a||this._drawLine(t,i,this._data),a||s||!e||this._drawLine(t,e,this._data),n&&!this._data.skipLines&&this._drawLine(t,n,this._data),void 0!==h.excludeBoundaries&&r.restore()}_drawLine(t,i,e){const n=this._getClippedLine(i,e,t.mediaSize);if(!n)return;const a=t.context;a.strokeStyle=n.color,a.lineWidth=a.lineWidth=Math.max(1,Math.floor(n.lineWidth*t.horizontalPixelRatio)),a.lineCap=n.lineStyle===r.LINESTYLE_SOLID?"round":"butt",(0,c.setLineStyle)(a,n.lineStyle),a.strokeStyle=n.color;const[s,o]=n.points,l=s.x*t.horizontalPixelRatio,h=s.y*t.verticalPixelRatio,d=o.x*t.horizontalPixelRatio,u=o.y*t.verticalPixelRatio;(0,c.drawPixelPerfectLine)(a,l,h,d,u)}_getClippedLine(t,i,e){let a=this._clippedLines.get(t);if(void 0===a){const{lineWidth:s,lineStyle:o,points:[l,r]}=t;let h=!1,d=!1;l.x!==r.x&&({extendLeft:h,extendRight:d}=i);const _=(0,
u.intersectLineWithViewport)(l,r,h,d,e.width,e.height,(0,n.default)((0,c.computeDashPattern)(s,o)));a=null==_?null:{...t,points:_},this._clippedLines.set(t,a)}return a}_getBackgroundPolygon(t,i){return this._backgroundPolygon||(this._backgroundPolygon=this._getBackgroundPolygonImpl(t,i)??[]),this._backgroundPolygon}_getBackgroundPolygonImpl(t,i){if(void 0===t.line2)return null;const[e,n]=t.line1.points,[a,l]=t.line2.points;if((0,s.equalPoints)(e,n)||(0,s.equalPoints)(a,l)||(0,o.distanceToLine)(e,n,a).distance<1e-6||(0,o.distanceToLine)(e,n,l).distance<1e-6)return null;if(i.width<=0||i.height<=0)return null;let r=[new s.Point(0,0),new s.Point(i.width,0),new s.Point(i.width,i.height),new s.Point(0,i.height)];return r=x(r,e,n,l),t.extendRight||(r=x(r,n,l,a)),r=x(r,l,a,e),t.extendLeft||(r=x(r,a,e,n)),r}}function x(t,i,e,n){return null!==t?(0,l.intersectPolygonAndHalfplane)(t,(0,s.halfplaneThroughPoint)((0,s.lineThroughPoints)(i,e),n)):null}},642806:(t,i,e)=>{e.d(i,{PolygonRenderer:()=>p});var n=e(906453),a=e(2624),s=e(692789),o=e(346272),l=e(731974),r=e(534328),h=e(820807),d=e(65840),c=e(338242),u=e(257145),_=e(278688);class p extends h.MediaCoordinatesPaneRenderer{constructor(t){super(),this._data=null,this._backHittest=new l.HitTestResult(l.HitTarget.MovePointBackground),this._points=[],this._hittest=t??new l.HitTestResult(l.HitTarget.MovePoint)}setData(t){this._data=t,this._points=t.points}hitTest(t){if(null===this._data||this._data.disableInteractions)return null;const i=Math.max((0,d.interactionTolerance)().line,Math.ceil(this._data.linewidth/2)),e=this._points.length;if(1===e){return(0,n.pointInCircle)(t,this._points[0],i)?this._hittest:null}for(let n=1;n<e;n++){const e=this._points[n-1],s=this._points[n];if((0,a.distanceToSegment)(e,s,t).distance<=i)return this._hittest}if(this._data.filled&&this._data.fillBackground&&e>0){const n=this._points[0],s=this._points[e-1];if((0,a.distanceToSegment)(n,s,t).distance<=i)return this._hittest}return this._data.filled&&this._data.fillBackground&&(0,n.pointInPolygon)(t,this._data.points)?this._backHittest:null}_drawImpl(t){const i=t.context,e=this._points.length;if(null===this._data||0===e)return;const n=i.globalAlpha;try{if(void 0!==this._data.globalAlpha&&(i.globalAlpha=this._data.globalAlpha),1===e)return void this._drawPoint(i,this._points[0],this._data.linewidth/2,this._data.color);i.beginPath();const t=this._data.linestyle===u.LINESTYLE_SOLID?"round":"butt",n=this._data.linecap??t;i.lineCap=n,i.strokeStyle=this._data.color,i.lineWidth=this._data.linewidth,i.lineJoin=this._data.linejoin??"round",(0,c.setLineStyle)(i,this._data.linestyle);const a=this._points[0];i.moveTo(a.x,a.y);for(const t of this._points)i.lineTo(t.x,t.y);if(this._data.filled&&this._data.fillBackground&&(i.fillStyle=(0,r.generateColor)(this._data.backcolor,this._data.transparency),i.fill()),this._data.filled&&!this._data.skipClosePath&&i.closePath(),e>1){if(this._data.leftend===o.LineEnd.Arrow){const t=this._correctArrowPoints(this._points[1],this._points[0],i.lineWidth,n);(0,
s.drawArrow)(t[0],t[1],i,i.lineWidth,_.dpr1PixelRatioInfo)}if(this._data.rightend===o.LineEnd.Arrow){const t=this._correctArrowPoints(this._points[e-2],this._points[e-1],i.lineWidth,n);(0,s.drawArrow)(t[0],t[1],i,i.lineWidth,_.dpr1PixelRatioInfo)}}this._data.linewidth>0&&i.stroke()}finally{i.globalAlpha=n}}_drawPoint(t,i,e,n){0!==e&&(t.beginPath(),t.fillStyle=n,t.arc(i.x,i.y,e,0,2*Math.PI,!0),t.fill(),t.closePath())}_correctArrowPoints(t,i,e,n){const a=i.subtract(t),s=a.length();if("butt"===n||s<1)return[t,i];const o=s+e/2;return[t,a.scaled(o/s).add(t)]}}},183634:(t,i,e)=>{e.d(i,{VerticalLineRenderer:()=>r});var n=e(731974),a=e(338242),s=e(65840),o=e(688857),l=e(320994);class r extends l.BitmapCoordinatesPaneRenderer{constructor(){super(...arguments),this._data=null,this._hitTest=new n.HitTestResult(n.HitTarget.MovePoint)}setData(t){this._data=t}setHitTest(t){this._hitTest=t}hitTest(t){if(null===this._data||null===this._hitTest)return null;const i=(0,s.interactionTolerance)().line,e=Math.abs(t.x-this._data.x)<=i+this._data.linewidth/2,n=void 0===this._data.top||this._data.top-t.y<=i,a=void 0===this._data.bottom||t.y-this._data.bottom<=i;return e&&n&&a?this._hitTest:null}_drawImpl(t){if(null===this._data||this._data.linewidth<=0)return;const{context:i,horizontalPixelRatio:e,verticalPixelRatio:n,mediaSize:s}=t;if(this._data.x<-this._data.linewidth/2||this._data.x>s.width+this._data.linewidth/2)return;i.lineCap="butt",i.strokeStyle=this._data.color,i.lineWidth=Math.max(1,Math.floor(this._data.linewidth*e)),void 0!==this._data.linestyle&&(0,a.setLineStyle)(i,this._data.linestyle);const l=void 0!==this._data.top?Math.max(this._data.top,0):0,r=void 0!==this._data.bottom?Math.min(this._data.bottom,s.height):s.height,h=Math.round(this._data.x*e),d=Math.floor(l*n),c=Math.ceil(r*n),u=this._data.excludeBoundaries;void 0!==u&&(0,o.addExclusionAreaByScope)(t,u),(0,a.drawVerticalLine)(i,h,d,c)}}},141466:(t,i,e)=>{e.d(i,{prepareLinearRegressionRenderersData:()=>r});var n=e(650151),a=e(610555),s=e(560770),o=e(346272),l=e(910282);function r(t,i){const e={lines:[],pearsons:null};if(!i.properties().visible.value())return e;const r=t.timeScale(),h=i.priceScale(),d=t.mainSeries().firstBar();if(!h||h.isEmpty()||r.isEmpty()||!d)return e;const c=i.startIndex(),u=i.endIndex();if(null===c||null===u)return e;const _=[i.baseLine(),i.downLine(),i.upLine()],p=Math.round(r.indexToCoordinate(c)),f=Math.round(r.indexToCoordinate(u)),x=i.properties(),y=[x.styles.baseLine,x.styles.downLine,x.styles.upLine],g=d[4];for(let t=0;t<_.length;t++){if(1&~y[t].display.value())continue;const i=(0,n.ensureNotNull)(_[t]).startPrice,s=(0,n.ensureNotNull)(_[t]).endPrice;if(void 0===i||void 0===s)continue;const l=h.priceToCoordinate(i,g),r=h.priceToCoordinate(s,g),d={points:[new a.Point(p,l),new a.Point(f,r)],color:y[t].color.value(),linewidth:y[t].linewidth.value(),linestyle:y[t].linestyle.value(),extendleft:!1,extendright:x.styles.extendLines.value(),leftend:o.LineEnd.Normal,rightend:o.LineEnd.Normal};e.lines.push(d)}const w=(0,n.ensureNotNull)(i.downLine())
;if(x.styles.showPearsons.value()&&void 0!==w.startPrice){const t=h.priceToCoordinate(w.startPrice,g),n=new a.Point(p,t);e.pearsons={points:[n],text:""+i.pearsons(),color:x.styles.downLine.color.value(),vertAlign:s.VerticalAlign.Top,horzAlign:s.HorizontalAlign.Center,font:l.CHART_FONT_FAMILY,offsetX:0,offsetY:4,fontsize:12}}return e}},813232:(t,i,e)=>{e.d(i,{default:()=>s});const n=function(t,i){for(var e,n=-1,a=t.length;++n<a;){var s=i(t[n]);void 0!==s&&(e=void 0===e?s:e+s)}return e};var a=e(876402);const s=function(t){return t&&t.length?n(t,a.default):0}}}]);