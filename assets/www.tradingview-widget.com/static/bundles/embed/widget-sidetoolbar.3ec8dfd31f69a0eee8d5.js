(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[73558,35209],{370168:e=>{e.exports={button:"button-D4RPB3ZC",iconOnly:"iconOnly-D4RPB3ZC",withStartSlot:"withStartSlot-D4RPB3ZC",withEndSlot:"withEndSlot-D4RPB3ZC",startSlotWrap:"startSlotWrap-D4RPB3ZC",endSlotWrap:"endSlotWrap-D4RPB3ZC",xsmall:"xsmall-D4RPB3ZC",small:"small-D4RPB3ZC",medium:"medium-D4RPB3ZC",large:"large-D4RPB3ZC",xlarge:"xlarge-D4RPB3ZC",content:"content-D4RPB3ZC",link:"link-D4RPB3ZC",blue:"blue-D4RPB3ZC",primary:"primary-D4RPB3ZC",secondary:"secondary-D4RPB3ZC",gray:"gray-D4RPB3ZC",green:"green-D4RPB3ZC",red:"red-D4RPB3ZC",black:"black-D4RPB3ZC",slot:"slot-D4RPB3ZC",stretch:"stretch-D4RPB3ZC",grouped:"grouped-D4RPB3ZC",adjustPosition:"adjustPosition-D4RPB3ZC",firstRow:"firstRow-D4RPB3ZC",firstCol:"firstCol-D4RPB3ZC","no-corner-top-left":"no-corner-top-left-D4RPB3ZC","no-corner-top-right":"no-corner-top-right-D4RPB3ZC","no-corner-bottom-right":"no-corner-bottom-right-D4RPB3ZC","no-corner-bottom-left":"no-corner-bottom-left-D4RPB3ZC",textWrap:"textWrap-D4RPB3ZC",multilineContent:"multilineContent-D4RPB3ZC",primaryText:"primaryText-D4RPB3ZC",secondaryText:"secondaryText-D4RPB3ZC"}},662093:e=>{e.exports={wrapper:"wrapper-GZajBGIm",input:"input-GZajBGIm",view:"view-GZajBGIm",danger:"danger-GZajBGIm"}},503260:e=>{e.exports={box:"box-ywH2tsV_",noOutline:"noOutline-ywH2tsV_",disabled:"disabled-ywH2tsV_","intent-danger":"intent-danger-ywH2tsV_",checked:"checked-ywH2tsV_",check:"check-ywH2tsV_",icon:"icon-ywH2tsV_",dot:"dot-ywH2tsV_",disableActiveStyles:"disableActiveStyles-ywH2tsV_"}},500413:e=>{e.exports={}},302539:e=>{e.exports={}},737408:e=>{e.exports={wrap:"wrap-Nn3SCuEL",icon:"icon-Nn3SCuEL",colorBg:"colorBg-Nn3SCuEL",color:"color-Nn3SCuEL",multicolor:"multicolor-Nn3SCuEL",white:"white-Nn3SCuEL"}},516465:e=>{e.exports={button:"button-BuUjli6L"}},446189:e=>{e.exports={item:"item-WWrZ1MEn",buttonWrap:"buttonWrap-WWrZ1MEn",small:"small-WWrZ1MEn",buttonLabel:"buttonLabel-WWrZ1MEn"}},579951:e=>{e.exports={item:"item-KdWj36gM",withIcon:"withIcon-KdWj36gM",icon:"icon-KdWj36gM",labelRow:"labelRow-KdWj36gM",multiWidth:"multiWidth-KdWj36gM",buttonWrap:"buttonWrap-KdWj36gM",buttonLabel:"buttonLabel-KdWj36gM"}},330329:e=>{e.exports={container:"container-mdcOkvbj",sectionTitle:"sectionTitle-mdcOkvbj",separator:"separator-mdcOkvbj",customButton:"customButton-mdcOkvbj",accessible:"accessible-mdcOkvbj"}},155778:e=>{e.exports={container:"container-iiEYaqPD",form:"form-iiEYaqPD",swatch:"swatch-iiEYaqPD",white:"white-iiEYaqPD",inputWrap:"inputWrap-iiEYaqPD",inputHash:"inputHash-iiEYaqPD",input:"input-iiEYaqPD",buttonWrap:"buttonWrap-iiEYaqPD",hueSaturationWrap:"hueSaturationWrap-iiEYaqPD",saturation:"saturation-iiEYaqPD",hue:"hue-iiEYaqPD"}},161483:e=>{e.exports={hue:"hue-r4uo5Wn6",pointer:"pointer-r4uo5Wn6",accessible:"accessible-r4uo5Wn6",pointerContainer:"pointerContainer-r4uo5Wn6"}},598182:e=>{e.exports={opacity:"opacity-EnWts7Xu",opacitySlider:"opacitySlider-EnWts7Xu",opacitySliderGradient:"opacitySliderGradient-EnWts7Xu",
pointer:"pointer-EnWts7Xu",dragged:"dragged-EnWts7Xu",opacityPointerWrap:"opacityPointerWrap-EnWts7Xu",opacityInputWrap:"opacityInputWrap-EnWts7Xu",opacityInput:"opacityInput-EnWts7Xu",opacityInputPercent:"opacityInputPercent-EnWts7Xu",accessible:"accessible-EnWts7Xu"}},649339:e=>{e.exports={saturation:"saturation-NFNfqP2w",pointer:"pointer-NFNfqP2w",accessible:"accessible-NFNfqP2w"}},69825:e=>{e.exports={swatches:"swatches-sfn7Lezv",swatch:"swatch-sfn7Lezv",hover:"hover-sfn7Lezv",empty:"empty-sfn7Lezv",white:"white-sfn7Lezv",selected:"selected-sfn7Lezv",contextItem:"contextItem-sfn7Lezv",row:"row-sfn7Lezv"}},957418:e=>{e.exports={accessible:"accessible-rm8yeqY4"}},702277:e=>{e.exports={loaderWrap:"loaderWrap-jGEARQlM",big:"big-jGEARQlM",loader:"loader-jGEARQlM"}},447429:e=>{e.exports={item:"item-GJX1EXhk",interactive:"interactive-GJX1EXhk",hovered:"hovered-GJX1EXhk",disabled:"disabled-GJX1EXhk",active:"active-GJX1EXhk",shortcut:"shortcut-GJX1EXhk",normal:"normal-GJX1EXhk",big:"big-GJX1EXhk",iconCell:"iconCell-GJX1EXhk",icon:"icon-GJX1EXhk",content:"content-GJX1EXhk",label:"label-GJX1EXhk",checked:"checked-GJX1EXhk",toolbox:"toolbox-GJX1EXhk",showToolboxOnHover:"showToolboxOnHover-GJX1EXhk",arrowIcon:"arrowIcon-GJX1EXhk",subMenu:"subMenu-GJX1EXhk",invisibleHotkey:"invisibleHotkey-GJX1EXhk"}},916191:e=>{e.exports={row:"row-DFIg7eOh",line:"line-DFIg7eOh",hint:"hint-DFIg7eOh"}},745536:e=>{e.exports={menu:"menu-Tx5xMZww"}},405264:e=>{e.exports={item:"item-WJDah4zD",emptyIcons:"emptyIcons-WJDah4zD",loading:"loading-WJDah4zD",disabled:"disabled-WJDah4zD",interactive:"interactive-WJDah4zD",hovered:"hovered-WJDah4zD",normal:"normal-WJDah4zD",big:"big-WJDah4zD",icon:"icon-WJDah4zD",label:"label-WJDah4zD",title:"title-WJDah4zD",nested:"nested-WJDah4zD",shortcut:"shortcut-WJDah4zD",remove:"remove-WJDah4zD"}},868745:e=>{e.exports={separator:"separator-Ymxd0dt_"}},998754:e=>{e.exports={"default-drawer-min-top-distance":"100px"}},118780:e=>{e.exports={list:"list-JPoFARaG"}},114977:e=>{e.exports={wrapper:"wrapper-VmCoyMWF"}},100117:e=>{e.exports={wrapper:"wrapper-M14KUVdG",emojiItem:"emojiItem-M14KUVdG",hovered:"hovered-M14KUVdG"}},753825:e=>{e.exports={wrapper:"wrapper-hoWtpNyh",isActive:"isActive-hoWtpNyh",button:"button-hoWtpNyh"}},428452:e=>{e.exports={wrapper:"wrapper-RXEt_NWz"}},559030:e=>{e.exports={wrapper:"wrapper-QWmdCZSA"}},714143:e=>{e.exports={wrapper:"wrapper-MeQD3kFA",button:"button-MeQD3kFA"}},705164:e=>{e.exports={placeHolder:"placeHolder-ylwae_Gt",hidden:"hidden-ylwae_Gt"}},540975:(e,t,o)=>{"use strict";o.d(t,{Button:()=>c});var n=o(50959),i=o(915812);function s(e="default"){switch(e){case"default":return"primary";case"stroke":return"secondary"}}function r(e="primary"){switch(e){case"primary":return"brand";case"success":return"green";case"default":return"gray";case"danger":return"red"}}function a(e="m"){switch(e){case"s":return"xsmall";case"m":return"small";case"l":return"large"}}function l(e){const{intent:t,size:o,appearance:n,useFullWidth:i,icon:l,...c}=e;return{...c,color:r(t),size:a(o),variant:s(n),stretch:i}}
function c(e){return n.createElement(i.SquareButton,{...l(e)})}},915812:(e,t,o)=>{"use strict";o.d(t,{SquareAnchorButton:()=>i.SquareAnchorButton,SquareButton:()=>n.SquareButton});o(221191);var n=o(422175),i=o(951144)},951144:(e,t,o)=>{"use strict";o.d(t,{SquareAnchorButton:()=>l});var n=o(50959),i=o(301792),s=o(8626),r=o(221191);function a(e){const{className:t,color:o,variant:n,size:i,stretch:r,iconOnly:a,startSlot:l,endSlot:c,...h}=e;return{...h,...(0,s.filterDataProps)(e),...(0,s.filterAriaProps)(e)}}function l(e){const{reference:t}=e,{isGrouped:o,cellState:s,disablePositionAdjustment:l}=(0,n.useContext)(i.ControlGroupContext),c=(0,r.getSquareButtonClasses)({...e,isGrouped:o,cellState:s,disablePositionAdjustment:l,isAnchor:!0});return n.createElement("a",{...a(e),className:c,ref:t},n.createElement(r.SquareButtonContent,{...e}))}},221191:(e,t,o)=>{"use strict";o.d(t,{SquareButtonContent:()=>u,getSquareButtonClasses:()=>h});var n=o(50959),i=o(497754),s=o.n(i),r=o(307754),a=o(370168),l=o.n(a);const c="apply-overflow-tooltip apply-overflow-tooltip--check-children-recursively apply-overflow-tooltip--allow-text apply-common-tooltip";function h(e){const{size:t="medium",variant:o="primary",color:n="brand",stretch:i=!1,startSlot:a,endSlot:h,iconOnly:u=!1,className:d,isGrouped:p,cellState:m,disablePositionAdjustment:g=!1,primaryText:_,secondaryText:v,isAnchor:b=!1}=e,f="brand"===n?"black":n,w=function(e){let t="";return 0!==e&&(1&e&&(t=s()(t,l()["no-corner-top-left"])),2&e&&(t=s()(t,l()["no-corner-top-right"])),4&e&&(t=s()(t,l()["no-corner-bottom-right"])),8&e&&(t=s()(t,l()["no-corner-bottom-left"]))),t}((0,r.getGroupCellRemoveRoundBorders)(m)),C=u&&(a||h);return s()(d,l().button,l()[t],l()[f],l()[o],i&&l().stretch,a&&l().withStartIcon,h&&l().withEndIcon,C&&l().iconOnly,w,p&&l().grouped,p&&!g&&l().adjustPosition,p&&m.isTop&&l().firstRow,p&&m.isLeft&&l().firstCol,_&&v&&l().multilineContent,b&&l().link,c)}function u(e){const{startSlot:t,iconOnly:o,children:i,endSlot:r,primaryText:a,secondaryText:h}=e;if(t&&r&&o)return n.createElement("span",{className:s()(l().slot,l().startSlotWrap)},t);const u=o&&(t??r),d=!t&&!r&&!o&&!i&&a&&h;return n.createElement(n.Fragment,null,t&&n.createElement("span",{className:s()(l().slot,l().startSlotWrap)},t),i&&!u&&n.createElement("span",{className:l().content},i),r&&n.createElement("span",{className:s()(l().slot,l().endSlotWrap)},r),d&&!u&&function(e){return e.primaryText&&e.secondaryText&&n.createElement("div",{className:s()(l().textWrap,c)},n.createElement("span",{className:l().primaryText}," ",e.primaryText," "),"string"==typeof e.secondaryText?n.createElement("span",{className:l().secondaryText}," ",e.secondaryText," "):n.createElement("span",{className:l().secondaryText},n.createElement("span",null,e.secondaryText.firstLine),n.createElement("span",null,e.secondaryText.secondLine)))}(e))}},422175:(e,t,o)=>{"use strict";o.d(t,{SquareButton:()=>h});var n=o(50959),i=o(843085),s=o(301792),r=o(8626),a=o(990260),l=o(221191);function c(e){
const{className:t,color:o,variant:n,size:i,stretch:s,iconOnly:a,startSlot:l,endSlot:c,primaryText:h,secondaryText:u,...d}=e;return{...d,...(0,r.filterDataProps)(e),...(0,r.filterAriaProps)(e)}}function h(e){const{reference:t,tooltipText:o,disabled:r,onClick:h,onMouseOver:u,onMouseOut:d,onMouseDown:p,onMouseEnter:m,"aria-disabled":g,..._}=e,{isGrouped:v,cellState:b,disablePositionAdjustment:f}=(0,n.useContext)(s.ControlGroupContext),w=(0,l.getSquareButtonClasses)({..._,isGrouped:v,cellState:b,disablePositionAdjustment:f}),C=o??(e.primaryText?[e.primaryText,e.secondaryText].join(" "):(0,i.getTextForTooltip)(e.children));return n.createElement("button",{...c(_),"aria-disabled":r||g,tabIndex:e.tabIndex??(r?-1:0),className:w,ref:t,onClick:(0,a.disableEventHandlerConditionally)(h,r),onMouseDown:(0,a.disableEventHandlerConditionally)(p,r),onMouseOver:(0,a.disableEventHandlerConditionally)(u,r),onMouseOut:(0,a.disableEventHandlerConditionally)(d,r),onMouseEnter:(0,a.disableEventHandlerConditionally)(m,r),"data-overflow-tooltip-text":C},n.createElement(l.SquareButtonContent,{..._}))}},203223:(e,t,o)=>{"use strict";o.d(t,{CheckboxInput:()=>h});var n=o(50959),i=o(497754),s=o.n(i),r=o(8626),a=o(10572),l=o(662093),c=o.n(l);function h(e){const t=s()(c().wrapper,e.className);return n.createElement("span",{className:t,title:e.title,style:e.style},n.createElement("input",{id:e.id,tabIndex:e.tabIndex,className:s()(e.intent&&c()[e.intent],c().input),type:"checkbox",name:e.name,checked:e.checked,disabled:e.disabled,value:e.value,autoFocus:e.autoFocus,role:e.role,onChange:function(){e.onChange?.(e.value)},ref:e.reference,"aria-required":e["aria-required"],"aria-describedby":e["aria-describedby"],"aria-invalid":e["aria-invalid"],"data-qa-id":e.dataQaId,...(0,r.filterDataProps)(e)}),n.createElement(a.CheckboxView,{className:c().view,indeterminate:e.indeterminate,checked:e.checked,disabled:e.disabled,intent:e.intent,tabIndex:e.tabIndex}))}},10572:(e,t,o)=>{"use strict";o.d(t,{CheckboxView:()=>u});var n=o(50959),i=o(497754),s=o.n(i),r=o(79205),a=o(465890),l=o.n(a),c=o(503260),h=o.n(c);function u(e){const{indeterminate:t,checked:o,tabIndex:i,className:a,disabled:c,disableActiveStyles:u,intent:d,hideIcon:p,...m}=e,g=t||!o||p?"":l(),_=s()(h().box,h()[`intent-${d}`],!t&&h().check,!!t&&h().dot,-1===i&&h().noOutline,a,o&&h().checked,c&&h().disabled,u&&h().disableActiveStyles);return n.createElement("span",{className:_,...m},n.createElement(r.Icon,{icon:g,className:h().icon}))}},307754:(e,t,o)=>{"use strict";function n(e){let t=0;return e.isTop&&e.isLeft||(t+=1),e.isTop&&e.isRight||(t+=2),e.isBottom&&e.isLeft||(t+=8),e.isBottom&&e.isRight||(t+=4),t}o.d(t,{getGroupCellRemoveRoundBorders:()=>n})},444530:(e,t,o)=>{"use strict";o.d(t,{useResizeObserver:()=>r});var n=o(50959),i=o(774218),s=o(267521);function r(e,t=[]){const{callback:o,ref:r=null}=function(e){return"function"==typeof e?{callback:e}:e}(e),a=(0,n.useRef)(null),l=(0,n.useRef)(o);l.current=o;const c=(0,s.useFunctionalRefObject)(r),h=(0,n.useCallback)((e=>{c(e),
null!==a.current&&(a.current.disconnect(),null!==e&&a.current.observe(e))}),[c,a]);return(0,i.useIsomorphicLayoutEffect)((()=>(a.current=new ResizeObserver(((e,t)=>{l.current(e,t)})),c.current&&h(c.current),()=>{a.current?.disconnect()})),[c,...t]),h}},990260:(e,t,o)=>{"use strict";function n(e,t){return o=>{if(t)return o.preventDefault(),void o.stopPropagation();e?.(o)}}o.d(t,{disableEventHandlerConditionally:()=>n})},746326:(e,t,o)=>{"use strict";function n(e){const{paddingTop:t,paddingBottom:o}=window.getComputedStyle(e);return[t,o].reduce(((e,t)=>e-Number((t||"").replace("px",""))),e.clientHeight)}function i(e,t=!1){const o=getComputedStyle(e),n=[o.height];return"border-box"!==o.boxSizing&&n.push(o.paddingTop,o.paddingBottom,o.borderTopWidth,o.borderBottomWidth),t&&n.push(o.marginTop,o.marginBottom),n.reduce(((e,t)=>e+(parseFloat(t)||0)),0)}function s(e,t=!1){const o=getComputedStyle(e),n=[o.width];return"border-box"!==o.boxSizing&&n.push(o.paddingLeft,o.paddingRight,o.borderLeftWidth,o.borderRightWidth),t&&n.push(o.marginLeft,o.marginRight),n.reduce(((e,t)=>e+(parseFloat(t)||0)),0)}o.d(t,{contentHeight:()=>n,outerHeight:()=>i,outerWidth:()=>s})},58407:(e,t,o)=>{"use strict";o.d(t,{OutsideEvent:()=>i});var n=o(853970);function i(e){const{children:t,...o}=e;return t((0,n.useOutsideEvent)(o))}},404573:(e,t,o)=>{"use strict";o.d(t,{Draggable:()=>s,PointerBackend:()=>r});var n=o(650151),i=o(318557);o(302539);class s{constructor(e){this._helper=null,this._handleDragStart=e=>{if(null!==this._helper)return;const t=this._source;t.classList.add("ui-draggable-dragging");const[o,n]=[(0,i.outerWidth)(t),(0,i.outerHeight)(t)];this._helper={startTop:parseFloat(t.style.top)||0,startLeft:parseFloat(t.style.left)||0,nextTop:null,nextLeft:null,raf:null,size:[o,n],containment:this._containment instanceof HTMLElement?[parseInt(getComputedStyle(this._containment).borderLeftWidth)+parseInt(getComputedStyle(this._containment).paddingLeft),parseInt(getComputedStyle(this._containment).borderTopWidth)+parseInt(getComputedStyle(this._containment).paddingTop),this._containment.offsetWidth-parseInt(getComputedStyle(this._containment).borderRightWidth)-parseInt(getComputedStyle(this._containment).paddingRight)-parseInt(getComputedStyle(t).marginLeft)-parseInt(getComputedStyle(t).marginRight)-o,this._containment.offsetHeight-parseInt(getComputedStyle(this._containment).borderBottomWidth)-parseInt(getComputedStyle(this._containment).paddingBottom)-parseInt(getComputedStyle(t).marginTop)-parseInt(getComputedStyle(t).marginBottom)-n]:"window"===this._containment?[window.scrollX,window.scrollY,window.scrollX+document.documentElement.offsetWidth-o,window.scrollY+document.documentElement.offsetHeight-n]:null},this._start?.()},this._handleDragMove=e=>{if(null===this._helper)return;const{current:t,initial:o}=e.detail,n=this._source,i=this._helper.nextTop,s=this._helper.nextLeft,r="y"===this._axis||!1===this._axis||0!==t.movementY;if(r){const e=this._helper.startTop;isFinite(e)&&(this._helper.nextTop=t.clientY-o.clientY+e)}
const a="x"===this._axis||!1===this._axis||0!==t.movementY;if(a){const e=this._helper.startLeft;isFinite(e)&&(this._helper.nextLeft=t.clientX-o.clientX+e)}if(null!==this._helper.containment){const[e,t,o,n]=this._helper.containment;r&&this._helper.nextTop&&(this._helper.nextTop=Math.min(this._helper.nextTop,n),this._helper.nextTop=Math.max(this._helper.nextTop,t)),a&&this._helper.nextLeft&&(this._helper.nextLeft=Math.min(this._helper.nextLeft,o),this._helper.nextLeft=Math.max(this._helper.nextLeft,e))}null!==this._helper.raf||i===this._helper.nextTop&&s===this._helper.nextLeft||(this._helper.raf=requestAnimationFrame((()=>{null!==this._helper&&(null!==this._helper.nextTop&&(n.style.top=this._helper.nextTop+"px",this._helper.nextTop=null),null!==this._helper.nextLeft&&(n.style.left=this._helper.nextLeft+"px",this._helper.nextLeft=null),this._helper.raf=null)}))),this._drag?.()},this._handleDragStop=e=>{if(null===this._helper)return;this._source.classList.remove("ui-draggable-dragging"),this._helper=null,this._stop?.()};const t=this._source=e.source;t.classList.add("ui-draggable");const o=this._handle=(e.handle?t.querySelector(e.handle):null)??t;o.classList.add("ui-draggable-handle"),this._start=e.start,this._stop=e.stop,this._drag=e.drag,this._backend=new r({handle:o,onDragStart:this._handleDragStart,onDragMove:this._handleDragMove,onDragStop:this._handleDragStop}),this._axis=e.axis??!1,this._containment=e.containment}destroy(){const e=this._source;e.classList.remove("ui-draggable"),e.classList.remove("ui-draggable-dragging");this._handle.classList.remove("ui-draggable-handle"),this._backend.destroy(),null!==this._helper&&(this._helper.raf&&cancelAnimationFrame(this._helper.raf),this._helper=null)}}class r{constructor(e){this._pointerStarted=!1,this._initial=null,this._handlePointerDown=e=>{if(null!==this._initial||0!==e.button)return;if(!(e.target instanceof Element&&this._handle.contains(e.target)))return;if(this._initial=e,!this._distance&&(this._pointerStart(),!this._pointerStarted))return;e.preventDefault();const t=this._getEventTarget();t.addEventListener("pointermove",this._handlePointerMove),t.addEventListener("pointerup",this._handlePointerUp),t.addEventListener("pointercancel",this._handlePointerUp),t.addEventListener("lostpointercapture",this._handleLostPointerCapture)},this._handleLostPointerCapture=e=>{this._getEventTarget()===e.target&&this._handlePointerUp(e)},this._handlePointerMove=e=>{if(null!==this._initial&&this._initial.pointerId===e.pointerId)if(this._pointerStarted)this._pointerDrag(e);else if(this._pointerDistanceMet(e)){if(this._pointerStart(),this._pointerStarted)return void this._pointerDrag(e);this._handlePointerUp(e)}},this._handlePointerUp=e=>{if(null===this._initial||this._initial.pointerId!==e.pointerId)return;e.preventDefault();const t=this._getEventTarget();t.removeEventListener("pointermove",this._handlePointerMove),t.removeEventListener("pointerup",this._handlePointerUp),t.removeEventListener("pointercancel",this._handlePointerUp),
t.removeEventListener("lostpointercapture",this._handlePointerUp),this._pointerStarted&&(this._pointerStarted=!1,t.releasePointerCapture(this._initial.pointerId),this._dispatchEvent(this._createEvent("pointer-drag-stop",e))),this._initial=null};const t=this._handle=e.handle;this._onDragStart=e.onDragStart,this._onDragMove=e.onDragMove,this._onDragStop=e.onDragStop,this._distance=e.distance??0,this._rootElement=e.rootElement,t.style.touchAction="none",t.addEventListener("pointerdown",this._handlePointerDown)}destroy(){const e=this._handle;e.style.touchAction="",e.removeEventListener("pointerdown",this._handlePointerDown),e.removeEventListener("pointermove",this._handlePointerMove),e.removeEventListener("pointerup",this._handlePointerUp),e.removeEventListener("pointercancel",this._handlePointerUp),e.removeEventListener("lostpointercapture",this._handlePointerUp),null!==this._initial&&(e.releasePointerCapture(this._initial.pointerId),this._initial=null),this._pointerStarted=!1}_pointerStart(){if(!this._initial)return;const e=this._getEventTarget();this._dispatchEvent(this._createEvent("pointer-drag-start",this._initial))?(this._pointerStarted=!0,e.setPointerCapture(this._initial.pointerId)):this._initial=null}_pointerDrag(e){e.preventDefault(),this._dispatchEvent(this._createEvent("pointer-drag-move",e))}_pointerDistanceMet(e){return!this._initial||!this._distance||Math.max(Math.abs(this._initial.clientX-e.clientX),Math.abs(this._initial.clientY-e.clientY))>=this._distance}_getEventTarget(){return this._rootElement??this._handle}_dispatchEvent(e){switch(e.type){case"pointer-drag-start":this._onDragStart(e);break;case"pointer-drag-move":this._onDragMove(e);break;case"pointer-drag-stop":this._onDragStop(e)}return!e.defaultPrevented}_createEvent(e,t){return(0,n.assert)(null!==this._initial),new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:{backend:this,initial:this._initial,current:t}})}}},318557:(e,t,o)=>{"use strict";o.d(t,{contentHeight:()=>i.contentHeight,html:()=>s,outerHeight:()=>i.outerHeight,outerWidth:()=>i.outerWidth,position:()=>a});var n=o(650151),i=o(746326);function s(e,t){return void 0===t||(null===t&&(e.innerHTML=""),"string"!=typeof t&&"number"!=typeof t||(e.innerHTML=String(t))),e}function r(e){if(!e.getClientRects().length)return{top:0,left:0};const t=e.getBoundingClientRect(),o=(0,n.ensureNotNull)(e.ownerDocument.defaultView);return{top:t.top+o.pageYOffset,left:t.left+o.pageXOffset}}function a(e){const t=getComputedStyle(e);let o,n={top:0,left:0};if("fixed"===t.position)o=e.getBoundingClientRect();else{o=r(e);const t=e.ownerDocument;let i=e.offsetParent||t.documentElement;for(;i&&(i===t.body||i===t.documentElement)&&"static"===getComputedStyle(i).position;)i=i.parentElement;i&&i!==e&&1===i.nodeType&&(n=r(i),n.top+=parseFloat(getComputedStyle(i).borderTopWidth),n.left+=parseFloat(getComputedStyle(i).borderLeftWidth))}return{top:o.top-n.top-parseFloat(t.marginTop),left:o.left-n.left-parseFloat(t.marginLeft)}}},389401:(e,t,o)=>{"use strict";o.d(t,{Measure:()=>i});var n=o(444530);function i(e){
const{children:t,onResize:o}=e;return t((0,n.useResizeObserver)(o||(()=>{}),[null===o]))}},337350:(e,t,o)=>{"use strict";o.d(t,{usePromise:()=>s});var n=o(50959),i=o(357517);function s(e,t,o){const[s,r]=(0,n.useState)(null);return(0,n.useEffect)((()=>{const o=new AbortController;let n=null;return(0,i.respectAbort)(o.signal,e()).then((e=>r(n=e))).catch(i.skipAbortError),()=>{o.abort(),n&&t&&t(n)}}),o?[...o]:void 0),s}},68077:(e,t,o)=>{"use strict";o.d(t,{useProperty:()=>i});var n=o(50959);const i=e=>{const[t,o]=(0,n.useState)(e.value());return(0,n.useEffect)((()=>{const t=e=>{o(e.value())};t(e);const n={};return e.subscribe(n,t),()=>e.unsubscribe(n,t)}),[e]),t}},836376:(e,t,o)=>{"use strict";o.d(t,{ColorPicker:()=>H});var n=o(50959),i=o(497754),s=o.n(i),r=o(444372),a=o(561923),l=o(382665),c=o(724377),h=o(650151),u=o(638456),d=o(45968),p=o(634993),m=o(354543),g=o(263361),_=o(993544),v=o(69825);const b=4;function f(e){const{color:t,selected:s,onSelect:a,onSwatchRemove:l}=e,[c,f]=(0,n.useState)(!1),[w,C]=(0,g.useRovingTabindexElement)(null),T=Boolean(l)&&!u.CheckMobile.any();return n.createElement(n.Fragment,null,n.createElement("button",{ref:w,style:t?{color:t}:void 0,className:i(v.swatch,c&&v.hover,s&&v.selected,!t&&v.empty,String(t).toLowerCase()===m.white&&v.white),onClick:function(){a(t)},onContextMenu:T?y:void 0,tabIndex:C,"data-role":"swatch"}),T&&n.createElement(d.PopupMenu,{isOpened:c,onClose:y,position:function(){const e=(0,h.ensureNotNull)(w.current).getBoundingClientRect();return{x:e.left,y:e.top+e.height+b}},onClickOutside:y},n.createElement(p.PopupMenuItem,{className:v.contextItem,label:r.t(null,void 0,o(989984)),icon:_,onClick:function(){y(),(0,h.ensureDefined)(l)()},dontClosePopup:!0})));function y(){f(!c)}}const w=10;function C(e){const{colors:t,color:o,children:i,onSelect:s,onRemoveCustomColor:r}=e;if(!t)return null;const a=o?(0,c.parseRgb)(String(o)):void 0,h=(0,l.default)(t,w);return n.createElement("div",{className:v.swatches},h.map(((e,t)=>n.createElement("div",{className:v.row,"data-role":"row",key:t},e.map(((e,o)=>n.createElement(f,{key:String(e)+o,color:e,selected:a&&(0,c.areEqualRgb)(a,(0,c.parseRgb)(String(e))),onSelect:u,onSwatchRemove:r?()=>function(e,t){const o=e*w+t;r?.(o)}(t,o):void 0})))))),i);function u(e){s&&s(e)}}var T=o(429163),y=o(540975);function E(e){const t=`Invalid RGB color: ${e}`;if(null===e)throw new Error(t);const o=e.match(/^#?([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i);if(null===o)throw new Error(t);const[,n,i,s]=o;if(!n||!i||!s)throw new Error(t);const r=parseInt(n,16)/255,a=parseInt(i,16)/255,l=parseInt(s,16)/255,c=Math.max(r,a,l),h=Math.min(r,a,l);let u;const d=c,p=c-h,m=0===c?0:p/c;if(c===h)u=0;else{switch(c){case r:u=(a-l)/p+(a<l?6:0);break;case a:u=(l-r)/p+2;break;case l:u=(r-a)/p+4;break;default:u=0}u/=6}return{h:u,s:m,v:d}}var x=o(920057),S=o(470316),k=o(462140),L=o(649339);const M=[37,39,38,40],P=.01;class D extends n.PureComponent{constructor(){super(...arguments),this._container=null,this._refContainer=e=>{this._container=e},this._handlePosition=e=>{
const{hsv:{h:t},onChange:o}=this.props;if(!o)return;const n=(0,h.ensureNotNull)(this._container).getBoundingClientRect(),i=e.clientX-n.left,s=e.clientY-n.top;o({h:t,s:(0,k.clamp)(i/n.width,0,1),v:(0,k.clamp)(1-s/n.height,0,1)})},this._handleKeyDown=e=>{const{hsv:{h:t,s:o,v:n},onChange:i}=this.props,s=(0,S.hashFromEvent)(e);if(!i||!M.includes(s))return;if(37===s||39===s){return void i({h:t,s:(0,k.clamp)(37===s?o-P:o+P,0,1),v:n})}i({h:t,s:o,v:(0,k.clamp)(40===s?n-P:n+P,0,1)})},this._mouseDown=e=>{window.addEventListener("mouseup",this._mouseUp),window.addEventListener("mousemove",this._mouseMove)},this._mouseUp=e=>{window.removeEventListener("mousemove",this._mouseMove),window.removeEventListener("mouseup",this._mouseUp),this._handlePosition(e)},this._mouseMove=(0,x.default)(this._handlePosition,100),this._handleTouch=e=>{this._handlePosition(e.nativeEvent.touches[0])}}render(){const{className:e,hsv:{h:t,s:o,v:i}}=this.props,r=`hsl(${360*t}, 100%, 50%)`;return n.createElement("div",{tabIndex:0,className:s()(L.accessible,e),onKeyDown:this._handleKeyDown},n.createElement("div",{className:L.saturation,style:{backgroundColor:r},ref:this._refContainer,onMouseDown:this._mouseDown,onTouchStart:this._handleTouch,onTouchMove:this._handleTouch},n.createElement("div",{className:L.pointer,style:{left:100*o+"%",top:100*(1-i)+"%"}})))}}var A=o(161483);class N extends n.PureComponent{constructor(){super(...arguments),this._container=null,this._refContainer=e=>{this._container=e},this._handlePosition=e=>{const{hsv:{s:t,v:o},onChange:n}=this.props;if(!n)return;const i=(0,h.ensureNotNull)(this._container).getBoundingClientRect(),s=e.clientY-i.top;n({h:(0,k.clamp)(s/i.height,0,1),s:t,v:o})},this._handleKeyDown=e=>{const{hsv:{h:t,s:o,v:n},onChange:i}=this.props,s=(0,S.hashFromEvent)(e);if(!i||38!==s&&40!==s)return;i({h:(0,k.clamp)(38===s?t-.01:t+.01,0,1),s:o,v:n})},this._mouseDown=e=>{window.addEventListener("mouseup",this._mouseUp),window.addEventListener("mousemove",this._mouseMove)},this._mouseUp=e=>{window.removeEventListener("mousemove",this._mouseMove),window.removeEventListener("mouseup",this._mouseUp),this._handlePosition(e)},this._mouseMove=(0,x.default)(this._handlePosition,100),this._handleTouch=e=>{this._handlePosition(e.nativeEvent.touches[0])}}render(){const{className:e,hsv:{h:t}}=this.props;return n.createElement("div",{className:s()(A.hue,A.accessible,e),tabIndex:0,onKeyDown:this._handleKeyDown},n.createElement("div",{className:A.pointerContainer,ref:this._refContainer,onMouseDown:this._mouseDown,onTouchStart:this._handleTouch,onTouchMove:this._handleTouch},n.createElement("div",{className:A.pointer,style:{top:100*t+"%"}})))}}var B=o(155778);const I="#000000",W=r.t(null,{context:"Color Picker"},o(155517));class F extends n.PureComponent{constructor(e){super(e),this._inputRef=n.createRef(),this._handleHSV=e=>{const t=function(e){const{h:t,s:o,v:n}=e;let i,s,r;const a=Math.floor(6*t),l=6*t-a,c=n*(1-o),h=n*(1-l*o),u=n*(1-(1-l)*o);switch(a%6){case 0:i=n,s=u,r=c;break;case 1:i=h,s=n,r=c;break;case 2:i=c,s=n,r=u;break;case 3:
i=c,s=h,r=n;break;case 4:i=u,s=c,r=n;break;case 5:i=n,s=c,r=h;break;default:i=0,s=0,r=0}return"#"+[255*i,255*s,255*r].map((e=>("0"+Math.round(e).toString(16)).replace(/.+?([a-f0-9]{2})$/i,"$1"))).join("")}(e)||I;this.setState({color:t,inputColor:R(t),hsv:e}),this.props.onSelect(t)},this._handleInput=e=>{const t=R(e.currentTarget.value);try{const e=E(t),o=`#${t}`;this.setState({color:o,inputColor:t,hsv:e}),this.props.onSelect(o)}catch(e){this.setState({inputColor:t})}},this._handleAddColor=()=>this.props.onAdd(this.state.color);const t=e.color||I;this.state={color:t,inputColor:R(t),hsv:E(t)}}componentDidMount(){u.CheckMobile.any()||this._inputRef.current?.focus()}render(){const{color:e,hsv:t,inputColor:o}=this.state;return n.createElement("div",{className:B.container},n.createElement("div",{className:B.form},n.createElement("div",{className:s()(B.swatch,String(e).toLowerCase()===m.white&&B.white),style:{backgroundColor:e}}),n.createElement("div",{className:B.inputWrap},n.createElement("span",{className:B.inputHash},"#"),n.createElement("input",{ref:this._inputRef,type:"text",className:B.input,value:o,onChange:this._handleInput})),n.createElement("div",{className:B.buttonWrap},n.createElement(y.Button,{size:"s",onClick:this._handleAddColor},W))),n.createElement("div",{className:B.hueSaturationWrap},n.createElement(D,{className:B.saturation,hsv:t,onChange:this._handleHSV}),n.createElement(N,{className:B.hue,hsv:t,onChange:this._handleHSV})))}}function R(e){return e.replace(/^#/,"")}var V=o(330329);const O=r.t(null,{context:"Color Picker"},o(329619)),z=r.t(null,{context:"Color Picker"},o(980936));function H(e){const{color:t,opacity:o,selectCustom:i,selectOpacity:r,customColors:l,onRemoveCustomColor:c,onToggleCustom:h,onOpacityChange:u,menu:d}=e,[p,g]=(0,n.useState)(!1),_="number"==typeof o?o:1,[v,b]=(0,a.useRowsNavigation)();return(0,n.useLayoutEffect)((()=>{d&&d.update()}),[r,d]),p?n.createElement(F,{color:t,onSelect:f,onAdd:function(t){g(!1),h?.(!1);const{onAddColor:o}=e;o&&o(t)}}):n.createElement("div",{className:V.container},n.createElement("div",{ref:v,onKeyDown:b},n.createElement(C,{colors:m.basic,color:t,onSelect:f}),n.createElement(C,{colors:m.extended,color:t,onSelect:f}),n.createElement("div",{className:V.separator}),n.createElement(C,{colors:l,color:t,onSelect:f,onRemoveCustomColor:c},i&&n.createElement(n.Fragment,null,l?.length?n.createElement("button",{title:O,onClick:w,className:s()(V.customButton,V.accessible,"apply-common-tooltip"),tabIndex:-1}):n.createElement("div",{"data-role":"row"},n.createElement("button",{title:O,onClick:w,className:s()(V.customButton,V.accessible,"apply-common-tooltip"),tabIndex:-1}))))),r&&n.createElement(n.Fragment,null,n.createElement("div",{className:V.sectionTitle},z),n.createElement(T.Opacity,{color:t,opacity:_,onChange:function(e){u&&u(e)}})));function f(t){const{onColorChange:o}=e;o&&o(t,p)}function w(e){g(!0),h?.(!0)}}},429163:(e,t,o)=>{"use strict";o.d(t,{Opacity:()=>c});var n=o(50959),i=o(497754),s=o(650151),r=o(462140),a=o(470316),l=o(598182)
;class c extends n.PureComponent{constructor(e){super(e),this._container=null,this._pointer=null,this._raf=null,this._refContainer=e=>{this._container=e},this._refPointer=e=>{this._pointer=e},this._handlePosition=e=>{null===this._raf&&(this._raf=requestAnimationFrame((()=>{const t=(0,s.ensureNotNull)(this._container),o=(0,s.ensureNotNull)(this._pointer),n=t.getBoundingClientRect(),i=o.offsetWidth,a=e.clientX-i/2-n.left,l=(0,r.clamp)(a/(n.width-i),0,1);this.setState({inputOpacity:Math.round(100*l).toString()}),this.props.onChange(l),this._raf=null})))},this._onSliderClick=e=>{this._handlePosition(e.nativeEvent),this._dragSubscribe()},this._mouseUp=e=>{this.setState({isPointerDragged:!1}),this._dragUnsubscribe(),this._handlePosition(e)},this._mouseMove=e=>{this.setState({isPointerDragged:!0}),this._handlePosition(e)},this._onTouchStart=e=>{this._handlePosition(e.nativeEvent.touches[0])},this._handleTouch=e=>{this.setState({isPointerDragged:!0}),this._handlePosition(e.nativeEvent.touches[0])},this._handleTouchEnd=()=>{this.setState({isPointerDragged:!1})},this._handleInput=e=>{const t=e.currentTarget.value,o=Number(t)/100;this.setState({inputOpacity:t}),Number.isNaN(o)||o>1||this.props.onChange(o)},this._handleKeyDown=e=>{const t=(0,a.hashFromEvent)(e);if(37!==t&&39!==t)return;e.preventDefault();const o=Number(this.state.inputOpacity);37===t&&0!==o&&this._changeOpacity(o-1),39===t&&100!==o&&this._changeOpacity(o+1)},this.state={inputOpacity:Math.round(100*e.opacity).toString(),isPointerDragged:!1}}componentWillUnmount(){null!==this._raf&&(cancelAnimationFrame(this._raf),this._raf=null),this._dragUnsubscribe()}render(){const{color:e,opacity:t,hideInput:o,disabled:s}=this.props,{inputOpacity:r,isPointerDragged:a}=this.state,c={color:e||void 0};return n.createElement("div",{className:l.opacity},n.createElement("div",{className:i(l.opacitySlider,l.accessible),style:c,tabIndex:s?-1:0,ref:this._refContainer,onMouseDown:this._onSliderClick,onTouchStart:this._onTouchStart,onTouchMove:this._handleTouch,onTouchEnd:this._handleTouchEnd,onKeyDown:this._handleKeyDown,"aria-disabled":s},n.createElement("div",{className:l.opacitySliderGradient,style:{backgroundImage:`linear-gradient(90deg, transparent, ${e})`}}),n.createElement("div",{className:l.opacityPointerWrap},n.createElement("div",{className:i(l.pointer,a&&l.dragged),style:{left:100*t+"%"},ref:this._refPointer}))),!o&&n.createElement("div",{className:l.opacityInputWrap},n.createElement("input",{type:"text",className:l.opacityInput,value:r,onChange:this._handleInput}),n.createElement("span",{className:l.opacityInputPercent},"%")))}_dragSubscribe(){const e=(0,s.ensureNotNull)(this._container).ownerDocument;e&&(e.addEventListener("mouseup",this._mouseUp),e.addEventListener("mousemove",this._mouseMove))}_dragUnsubscribe(){const e=(0,s.ensureNotNull)(this._container).ownerDocument;e&&(e.removeEventListener("mousemove",this._mouseMove),e.removeEventListener("mouseup",this._mouseUp))}_changeOpacity(e){this.setState({inputOpacity:e.toString()}),this.props.onChange(e/100)}}},
354543:(e,t,o)=>{"use strict";o.d(t,{basic:()=>a,extended:()=>c,white:()=>i});var n=o(790188);const i=n.colorsPalette["color-white"],s=["ripe-red","tan-orange","banana-yellow","iguana-green","minty-green","sky-blue","tv-blue","deep-blue","grapes-purple","berry-pink"],r=[200,300,400,500,600,700,800,900].map((e=>`color-cold-gray-${e}`));r.unshift("color-white"),r.push("color-black"),s.forEach((e=>{r.push(`color-${e}-500`)}));const a=r.map((e=>n.colorsPalette[e])),l=[];[100,200,300,400,700,900].forEach((e=>{s.forEach((t=>{l.push(`color-${t}-${e}`)}))}));const c=l.map((e=>n.colorsPalette[e]))},948019:(e,t,o)=>{"use strict";o.d(t,{ContextMenuContext:()=>n});const n=o(50959).createContext(null)},501181:(e,t,o)=>{"use strict";o.d(t,{ContextMenu:()=>b,OverlapContextMenu:()=>f});var n=o(50959),i=o(497754),s=o.n(i),r=o(368337),a=o(175071),l=o(58407),c=o(428406),h=o(42278),u=o(332585),d=o(18182),p=o(67812),m=o(762852),g=o(948019),_=o(914579),v=o(745536);class b extends n.PureComponent{constructor(e){super(e),this._menuRef=n.createRef(),this._handleRequestUpdate=()=>{this.update()},this._handleClose=()=>{this.props.onClose&&this.props.onClose()},this._handleOutsideClickClose=e=>{const{doNotCloseOn:t,onClose:o}=this.props;!o||void 0!==t&&t.contains(e.target)||o()},this._handleFocusOnOpen=()=>{this.props.menuElementReference?.current&&this.props.takeFocus&&this.props.menuElementReference?.current.focus({preventScroll:!0})},this._handleFocus=e=>{this.props.isKeyboardEvent&&e.target&&(0,_.focusFirstMenuItem)(e.target)},this.state={}}render(){const{isOpened:e,onClose:t,items:o,doNotCloseOn:i,menuStatName:r,parentStatName:b,takeFocus:f,...w}=this.props;return e&&o.length>0?n.createElement(u.DrawerManager,null,n.createElement(c.KeyboardDocumentListener,{keyCode:27,eventType:"keyup",handler:this._handleClose}),n.createElement(d.MatchMedia,{rule:"(max-width: 440px)"},(t=>this._isDrawer(t)?n.createElement(g.ContextMenuContext.Provider,{value:{type:"drawer"}},n.createElement(m.Drawer,{onClose:this._handleClose,position:"Bottom","data-name":w["data-name"]},n.createElement(p.ContextMenuList,{items:o}))):n.createElement(g.ContextMenuContext.Provider,{value:{type:"menu"}},n.createElement(l.OutsideEvent,{handler:this._handleOutsideClickClose,mouseDown:!0,touchStart:!0,reference:this.props.menuElementReference},(t=>n.createElement(a.Menu,{...w,reference:t,className:s()(v.menu,"context-menu"),onClose:this._handleClose,noMomentumBasedScroll:!0,ref:this._menuRef,tabIndex:f?-1:void 0,onOpen:this._handleFocusOnOpen,onFocus:this._handleFocus,onKeyDown:_.handleAccessibleMenuKeyDown},n.createElement(h.ActionsTable,{items:o,menuStatName:r,parentStatName:b,parentIsOpened:e,onRequestUpdate:this._handleRequestUpdate})))))))):null}update(){this._menuRef.current&&this._menuRef.current.update(),this.props.isKeyboardEvent&&this.props.menuElementReference?.current&&document.activeElement===this.props.menuElementReference.current&&(0,_.focusFirstMenuItem)(this.props.menuElementReference.current)}_isDrawer(e){
return void 0===this.props.mode?e:"drawer"===this.props.mode}}const f=(0,r.makeOverlapable)(b)},582997:(e,t,o)=>{"use strict";o.d(t,{Hint:()=>a});var n=o(50959),i=o(497754),s=o.n(i),r=o(447429);function a(e){const{text:t="",className:o}=e;return n.createElement("span",{className:s()(r.shortcut,o)},t)}},886004:(e,t,o)=>{"use strict";o.d(t,{ContextMenuItem:()=>m});var n=o(50959),i=o(497754),s=o.n(i),r=o(79205),a=o(265005),l=o(302478),c=o(582997),h=o(339750),u=o(379978),d=o(460925),p=o(405264);function m(e){const{className:t,isTitle:o,isLoading:i,isHovered:m,active:g,checkable:_,disabled:v,checked:b,icon:f,iconChecked:w,hint:C,subItems:T,label:y,styledLabel:E,onClick:x,children:S,toolbox:k,jsxLabel:L,size:M="normal"}=e,P=(0,n.useContext)(l.EmptyIconsContext),D=!!T.length;return i?n.createElement("li",{className:s()(t,p.item,p.loading,p[M])},n.createElement(a.Loader,null)):n.createElement("li",{className:s()(t,p.item,p.interactive,o&&p.title,v&&p.disabled,m&&p.hovered,g&&p.active,P&&p.emptyIcons,p[M]),onClick:x},n.createElement(r.Icon,{className:s()(p.icon),icon:function(){if(_&&b)return w||f||h;return f}()}),n.createElement("span",{className:s()(p.label)},!L&&E?E.map((({text:e,...t},o)=>n.createElement("span",{key:o,style:t},e))):L??y),!!k&&n.createElement(r.Icon,{onClick:function(){k&&k.action()},className:p.remove,icon:d}),!D&&C&&n.createElement(c.Hint,{className:p.shortcut,text:C}),D&&n.createElement(r.Icon,{className:p.nested,icon:u}),S)}},67812:(e,t,o)=>{"use strict";o.d(t,{ContextMenuList:()=>m});var n=o(50959),i=o(868745);function s(e){return n.createElement("li",{className:i.separator})}var r=o(886004),a=o(125226),l=o(762852),c=o(224743);const h=(0,a.isFeatureEnabled)("force_disable_jsx_menu_items_rendering");function u(e){const t=h?e.action:e.action.custom()??e.action,[o,i]=(0,n.useState)((()=>t.getState())),[s,a]=(0,n.useState)(!1),u=!!o.subItems.length,d=u&&s;return(0,n.useEffect)((()=>{const e=()=>i(t.getState());return t.onUpdate().subscribe(null,e),()=>{t.onUpdate().unsubscribe(null,e)}}),[]),n.createElement(r.ContextMenuItem,{...o,onClick:function(e){if(o.disabled||e.defaultPrevented)return;if(u)return void a(!0);o.doNotCloseOnClick||(0,c.globalCloseMenu)();t.execute()},isLoading:o.loading,isHovered:d},d&&n.createElement(l.Drawer,{onClose:p},n.createElement(m,{items:o.subItems,parentAction:t,closeNested:p})));function p(e){e&&e.preventDefault(),a(!1)}}var d=o(302478),p=o(366493);function m(e){const{items:t,parentAction:o,closeNested:i}=e,a=!Boolean(o)&&t.every((e=>!Boolean("separator"!==e.type&&(e.getState().icon||e.getState().checkable))));return n.createElement(d.EmptyIconsContext.Provider,{value:a},n.createElement("ul",null,o&&n.createElement(n.Fragment,null,n.createElement(r.ContextMenuItem,{label:o.getState().label,isTitle:!0,active:!1,disabled:!1,subItems:[],checkable:!1,checked:!1,doNotCloseOnClick:!1,icon:p,onClick:i}),n.createElement(s,null)),t.map((e=>{switch(e.type){case"action":return n.createElement(u,{key:e.id,action:e});case"separator":return n.createElement(s,{key:e.id})}}))))}},
302478:(e,t,o)=>{"use strict";o.d(t,{EmptyIconsContext:()=>n});const n=o(50959).createContext(!1)},255969:(e,t,o)=>{"use strict";o.d(t,{EmojiListContent:()=>_,EmojiListContentContext:()=>g});var n=o(50959),i=o(387473),s=o(497754),r=o.n(s),a=o(559030);function l(e){const{title:t,className:o}=e;return n.createElement("div",{className:r()(a.wrapper,o)},t)}var c=o(504519),h=o(891130),u=o(969680),d=o(118780);const p=102,m=30,g=n.createContext(null);function _(e){const{listRef:t,outerRef:o,emojiGroups:s,emojiSize:r,onSelect:a,onContentRendered:l,ItemComponent:c,RowComponent:h,height:_}=e;(0,n.useEffect)((()=>t.current?.resetAfterIndex(0,!0)),[s]);const b=(0,n.useCallback)((e=>"title"===s[e].type?m:r),[s,r]),f=(0,n.useCallback)((({visibleStartIndex:e})=>{const{relatedTitle:t}=s[e];l(t)}),[s,l]),w=Math.min(_-p,window.innerHeight-p);return n.createElement(g.Provider,{value:(0,n.useMemo)((()=>({size:r,onSelect:a,ItemComponent:c,RowComponent:h})),[r,a,c,h])},n.createElement(i.VariableSizeList,{direction:(0,u.isRtl)()?"rtl":"ltr",className:d.list,ref:t,outerRef:o,width:"100%",height:w,itemData:s,itemCount:s.length,children:v,onItemsRendered:f,itemSize:b}))}const v=n.memo((e=>{const{style:t,index:o,data:i}=e,s=i[o],{size:r,onSelect:a,ItemComponent:u,RowComponent:d=c.EmojisRow}=(0,h.useEnsuredContext)(g);return"title"===s.type?n.createElement("div",{style:t},n.createElement(l,{title:s.relatedTitle})):n.createElement("div",{style:t},n.createElement(d,{emojis:s.content,itemSize:r,onEmojiClick:a,ItemComponent:u}))}))},569222:(e,t,o)=>{"use strict";o.d(t,{EmojiList:()=>m});var n=o(50959),i=o(497754),s=o.n(i),r=o(324997),a=o(524141),l=o(255969);var c=o(638456),h=o(561923),u=o(114977);const d=12,p=38;function m(e){const{className:t,emojis:o,onSelect:i,ItemComponent:m,RowComponent:g,height:_,category:v,emojiSize:b=p}=e,f=(0,n.useRef)(null),w=(0,n.useRef)(!1),[C,T]=(0,h.useRowsNavigation)(),[y,E]=(0,n.useState)(0),x=(0,n.useMemo)((()=>function(e,t){if(0===t)return[];const o=[];return e.forEach((({title:e,emojis:n})=>{o.push({type:"title",relatedTitle:e,content:[e]});let i=[];for(const s of n)i.length<t?i.push(s):(o.push({type:"emojiRow",relatedTitle:e,content:i}),i=[s]);i.length&&o.push({type:"emojiRow",relatedTitle:e,content:i})})),o}(o,y)),[o,y]),S=(0,r.useResizeObserver)((function(e){const[t]=e,{width:o}=t.contentRect,n=Math.floor((o-d)/b);E(n)}),[b]);(0,n.useEffect)((()=>{x.length&&P(0)}),[v]);const[k,L]=(0,n.useState)(x[0]?.relatedTitle||""),M=(0,n.useCallback)((e=>{w.current||L(e)}),[]);return n.createElement("div",{className:s()(u.wrapper,t)},n.createElement(a.GroupTabs,{tabs:o,activeTab:k,onTabClick:function(e){L(e);P(function(e){return x.findIndex((({relatedTitle:t,type:o})=>"title"===o&&t===e))}(e))}}),n.createElement("div",{ref:S,onKeyDown:T},n.createElement(l.EmojiListContent,{listRef:f,outerRef:C,emojiGroups:x,emojiSize:b,onSelect:i,onContentRendered:M,ItemComponent:m,RowComponent:g,height:_})));function P(e){c.CheckMobile.iOS()&&C.current&&(C.current.style.overflow="hidden"),w.current=!0,f.current?.scrollToItem(e,"start"),
requestAnimationFrame((()=>{f.current?.scrollToItem(e,"start"),c.CheckMobile.iOS()&&C.current&&(C.current.style.overflow="auto"),w.current=!1}))}}},504519:(e,t,o)=>{"use strict";o.d(t,{EmojisRow:()=>l});var n=o(50959),i=o(497754),s=o.n(i),r=o(689289),a=o(100117);const l=n.memo((e=>{const{emojis:t,itemSize:o,onEmojiClick:i,ItemComponent:l,className:c}=e;return n.createElement("div",{"data-role":"row",className:s()(a.wrapper,c)},t.map((e=>n.createElement(r.EmojiWrap,{key:e,className:a.emojiItem,emoji:e,size:o,onClick:i,ItemComponent:l}))))}))},524141:(e,t,o)=>{"use strict";o.d(t,{GroupTabs:()=>u});var n=o(50959),i=o(497754),s=o.n(i),r=o(557655),a=o(263361),l=o(753825);function c(e){const{tab:t,isActive:o,onTabClick:i,children:r,className:c}=e,[h,u]=(0,a.useRovingTabindexElement)(null);return n.createElement("button",{ref:h,tabIndex:u,onClick:function(){i(t)},className:s()(l.wrapper,o&&l.isActive,l.button,c),type:"button","aria-pressed":o},r)}var h=o(428452);function u(e){const{activeTab:t,tabs:o,onTabClick:i,className:a,tabClassName:l}=e;return n.createElement(r.Toolbar,{orientation:"horizontal",className:s()(h.wrapper,a),blurOnEscKeydown:!1},o.map((({title:e,content:o})=>n.createElement(c,{key:e,tab:e,className:l,isActive:t===e,onTabClick:i},o))))}},689289:(e,t,o)=>{"use strict";o.d(t,{EmojiWrap:()=>h});var n=o(50959),i=o(497754),s=o.n(i),r=o(182251),a=o(263361),l=o(714143);const c=34;function h(e){const{className:t,emoji:o,size:i=c,onClick:h,ItemComponent:u=r.EmojiItem}=e,[d,p]=(0,a.useRovingTabindexElement)(null);return n.createElement("button",{ref:d,tabIndex:p,onClick:function(){h(o)},style:{width:i,height:i},className:s()(l.button,l.wrapper,t),type:"button"},n.createElement(u,{emoji:o}))}},24154:(e,t,o)=>{"use strict";o.r(t),o.d(t,{HintReferenceable:()=>c});var n=o(50959),i=o(497754),s=o(551080),r=o(399749),a=o(889110),l=o(705164);const c=n.forwardRef(((e,t)=>{const{theme:r,placeHolderClassName:c,smallPlaceHolderClassName:u,settingsHintKey:d,placement:p,onClick:m,reference:g,buttonText:_,closeButton:v,hideButton:b,onClose:f,text:w,title:C,onAdditionalClick:T,additionalButtonText:y,additionalButtonClassName:E,escapeWithReference:x,overflowPadding:S,boundariesElement:k,hintStateHandler:L=a.defaultHintStateHandler,containerClassName:M,hideWithReference:P=!1,enableFlip:D=!0,forceShowOnInit:A,onOpenedStateChanged:N,forceHide:B,placeHolderStyle:I,buttonSize:W,saveHintStateByClick:F=!0,saveHintStateByAdditionalClick:R=!0,onButtonFocus:V,buttonDataName:O,isArrowHidden:z=!1}=e,H=(0,n.useRef)(null),[j,U]=(0,n.useState)(null),[Z,G]=(0,n.useState)((()=>L.getHintState(d,A))),[q,K]=(0,n.useState)(!1),[X,J]=(0,n.useState)(Boolean(B)),$=(0,n.useRef)(null),Y=(0,n.useRef)(null),Q=(0,n.useRef)(null),ee=(0,n.useRef)(null),te=(0,n.useMemo)((()=>({close(e=!1){G(!1),e&&L.setHintState(d)},getPopperRef:()=>$,getPlaceholderRef:()=>Q,getButtonRef:()=>ee,update:()=>Y.current?.update()})),[L]);if((0,n.useImperativeHandle)(t,(()=>te),[te]),(0,n.useEffect)((()=>(Z&&(H.current=o.e(87553).then(o.bind(o,946503)),H.current.then((e=>{
H.current&&U(e)}))),()=>{H.current=null})),[]),(0,n.useEffect)((()=>{null!==$.current&&($.current.style.pointerEvents=X?"none":"")}),[X]),(0,n.useEffect)((()=>J(Boolean(B))),[B]),(0,n.useEffect)((()=>N?.(Boolean(Z))),[Z]),Z&&j){const{Manager:e,Reference:t,Popper:o}=j;return n.createElement(e,null,n.createElement(t,null,(e=>n.createElement("div",{style:I,ref:(0,s.mergeRefs)([e.ref,Q]),className:i(l.placeHolder,c,q&&u)}))),n.createElement(o,{innerRef:$,placement:p,strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"preventOverflow",options:{rootBoundary:k||"viewport",altBoundary:x||!1,padding:S}},{name:"flip",enabled:D,options:{fallbackPlacements:["left","bottom"]}},{name:"hideWithReference",enabled:P,phase:"main",fn:e=>{const{state:t}=e,o=Boolean(t.modifiersData.hide?.isReferenceHidden);X!==o&&J(o)}}]},(e=>(Y.current=e,n.createElement(h,{setSmallSize:K,text:w,buttonText:_,reference:g,popperChildrenProps:e,title:C,theme:r,arrowClassName:i((z||X)&&l.hidden),containerClassName:i(M,X&&l.hidden),onClick:b?void 0:oe,buttonSize:W,onAdditionalClick:ne,additionalButtonText:y,additionalButtonClassName:E,buttonReference:ee,onButtonFocus:V,buttonDataName:O,onClose:b?oe:v?ie:void 0})))))}return null;function oe(){te.close(F),m&&m()}function ne(){te.close(R),T&&T()}function ie(){const{saveHintStateByOnClose:t=!1}=e;te.close(t),f&&f()}}));function h(e){const{setSmallSize:t,popperChildrenProps:o,...i}=e;return(0,n.useLayoutEffect)((()=>{t(o.placement&&o.placement.startsWith("bottom"))}),[t,o]),n.createElement(r.HintWizard,{...i,popperChildrenProps:o})}},311155:(e,t,o)=>{"use strict";o.d(t,{useCustomColors:()=>l});var n=o(50959),i=o(62802),s=o(251954);function r(e,t){(0,n.useEffect)((()=>(s.subscribe(e,t,null),()=>{s.unsubscribe(e,t,null)})),[e,t])}var a=o(724377);function l(){const[e,t]=(0,n.useState)((0,i.getJSON)("pickerCustomColors",[]));r("add_new_custom_color",(o=>t(c(o,e)))),r("remove_custom_color",(o=>t(h(o,e))));const o=(0,n.useCallback)((t=>{const o=t?(0,a.parseRgb)(t):null;e.some((e=>null!==e&&null!==o&&(0,a.areEqualRgb)((0,a.parseRgb)(e),o)))||(s.emit("add_new_custom_color",t),(0,i.setJSON)("pickerCustomColors",c(t,e)))}),[e]),l=(0,n.useCallback)((t=>{(t>=0||t<e.length)&&(s.emit("remove_custom_color",t),(0,i.setJSON)("pickerCustomColors",h(t,e)))}),[e]);return[e,o,l]}function c(e,t){const o=t.slice();return o.push(e),o.length>29&&o.shift(),o}function h(e,t){return t.filter(((t,o)=>e!==o))}},891130:(e,t,o)=>{"use strict";o.d(t,{useEnsuredContext:()=>s});var n=o(50959),i=o(650151);function s(e){return(0,i.ensureNotNull)((0,n.useContext)(e))}},324997:(e,t,o)=>{"use strict";o.d(t,{useResizeObserver:()=>n.useResizeObserver});var n=o(444530)},631078:(e,t,o)=>{"use strict";o.d(t,{useWatchedValueReadonly:()=>i});var n=o(50959);const i=(e,t=!1,o=[])=>{const i="watchedValue"in e?e.watchedValue:void 0,s="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[r,a]=(0,n.useState)(i?i.value():s);return(t?n.useLayoutEffect:n.useEffect)((()=>{if(i){a(i.value());const e=e=>a(e);return i.subscribe(e),
()=>i.unsubscribe(e)}return()=>{}}),[i,...o]),r}},633102:(e,t,o)=>{"use strict";o.d(t,{useWatchedValue:()=>i});var n=o(50959);const i=(e,t=[])=>{const[o,i]=(0,n.useState)(e.value());return(0,n.useEffect)((()=>{const t=e=>i(e);return e.subscribe(t),()=>e.unsubscribe(t)}),[e,...t]),[o,t=>e.setValue(t)]}},428406:(e,t,o)=>{"use strict";o.d(t,{KeyboardDocumentListener:()=>i});var n=o(50959);class i extends n.PureComponent{constructor(){super(...arguments),this._handleKeyDown=e=>{e.keyCode===this.props.keyCode&&this.props.handler(e)}}componentDidMount(){document.addEventListener(this.props.eventType||"keydown",this._handleKeyDown,!1)}componentWillUnmount(){document.removeEventListener(this.props.eventType||"keydown",this._handleKeyDown,!1)}render(){return null}}},157773:(e,t,o)=>{"use strict";o.d(t,{MatchMediaMap:()=>r});var n=o(50959),i=o(266783),s=o.n(i);class r extends n.Component{constructor(e){super(e),this._handleMediaChange=()=>{const e=l(this.state.queries,((e,t)=>t.matches));let t=!1;for(const o in e)if(e.hasOwnProperty(o)&&this.state.matches[o]!==e[o]){t=!0;break}t&&this.setState({matches:e})};const{rules:t}=this.props;this.state=a(t)}shouldComponentUpdate(e,t){return!s()(e,this.props)||(!s()(t.rules,this.state.rules)||!s()(t.matches,this.state.matches))}componentDidMount(){this._migrate(null,this.state.queries)}componentDidUpdate(e,t){s()(e.rules,this.props.rules)||this._migrate(t.queries,this.state.queries)}componentWillUnmount(){this._migrate(this.state.queries,null)}render(){return this.props.children(this.state.matches)}static getDerivedStateFromProps(e,t){if(s()(e.rules,t.rules))return null;const{rules:o}=e;return a(o)}_migrate(e,t){null!==e&&l(e,((e,t)=>{t.removeEventListener("change",this._handleMediaChange)})),null!==t&&l(t,((e,t)=>{t.addEventListener("change",this._handleMediaChange)}))}}function a(e){const t=l(e,((e,t)=>window.matchMedia(t)));return{queries:t,matches:l(t,((e,t)=>t.matches)),rules:{...e}}}function l(e,t){const o={};for(const n in e)e.hasOwnProperty(n)&&(o[n]=t(n,e[n]));return o}},368337:(e,t,o)=>{"use strict";o.d(t,{makeOverlapable:()=>s});var n=o(50959),i=o(707533);function s(e,t){return class extends n.PureComponent{render(){const{isOpened:o,root:s}=this.props;if(!o)return null;const r=n.createElement(e,{...this.props,ref:this.props.componentRef,zIndex:150});return"parent"===s?r:n.createElement(i.Portal,{shouldTrapFocus:t},r)}}}},423582:(e,t,o)=>{"use strict";o.d(t,{calcSubMenuPos:()=>i});var n=o(969680);function i(e,t,o={x:0,y:10}){if(t){const{left:o,right:i,top:s}=t.getBoundingClientRect(),r=document.documentElement.clientWidth,a={x:o-e,y:s},l={x:i,y:s};return(0,n.isRtl)()?o<=e?l:a:r-i>=e?l:a}return o}},419836:e=>{e.exports={button:"button-KTgbfaP5"}},78299:e=>{e.exports={dropdown:"dropdown-pbhJWNrt",buttonWrap:"buttonWrap-pbhJWNrt",control:"control-pbhJWNrt",arrow:"arrow-pbhJWNrt",arrowIcon:"arrowIcon-pbhJWNrt",isOpened:"isOpened-pbhJWNrt",hover:"hover-pbhJWNrt",isGrayed:"isGrayed-pbhJWNrt",accessible:"accessible-pbhJWNrt"}},917850:e=>{e.exports={item:"item-uxNfqe_g",
label:"label-uxNfqe_g"}},960873:e=>{e.exports={drawingToolbar:"drawingToolbar-BfVZxb4b",isHidden:"isHidden-BfVZxb4b",inner:"inner-BfVZxb4b",group:"group-BfVZxb4b",lastGroup:"lastGroup-BfVZxb4b",fill:"fill-BfVZxb4b"}},67574:e=>{e.exports={item:"item-yfwdxbRo",hovered:"hovered-yfwdxbRo"}},617040:e=>{e.exports={desktopSize:"desktopSize-l1SzP6TV",smallSize:"smallSize-l1SzP6TV",tabs:"tabs-l1SzP6TV",categories:"categories-l1SzP6TV"}},120217:e=>{e.exports={sticker:"sticker-aZclaNCs"}},541224:e=>{e.exports={"tablet-small-breakpoint":"(max-width: 440px)",stickerRow:"stickerRow-KUOIljqV"}},993038:e=>{e.exports={wrapper:"wrapper-FNeSdxed"}},693285:e=>{e.exports={drawer:"drawer-PzCssz1z",menuBox:"menuBox-PzCssz1z"}},189543:e=>{e.exports={wrapper:"wrapper-GNhoSwhA"}},48814:e=>{e.exports={toolButtonMagnet:"toolButtonMagnet-wg76fIbD",toolButtonMagnet__menuItem:"toolButtonMagnet__menuItem-wg76fIbD",toolButtonMagnet__hintPlaceholder:"toolButtonMagnet__hintPlaceholder-wg76fIbD",switcherLabel:"switcherLabel-wg76fIbD"}},445397:e=>{e.exports={popupMenuItem:"popupMenuItem-KrnunDnk"}},500859:e=>{e.exports={switcherLabel:"switcherLabel-ilIXB4Li"}},486443:e=>{e.exports={sectionTitle:"sectionTitle-Srvnqigs",newBadge:"newBadge-Srvnqigs",label:"label-Srvnqigs"}},494293:e=>{e.exports={wrapper:"wrapper-_XJBqWvq"}},65380:e=>{e.exports={wrap:"wrap-Z4M3tWHb",scrollWrap:"scrollWrap-Z4M3tWHb",noScrollBar:"noScrollBar-Z4M3tWHb",content:"content-Z4M3tWHb",icon:"icon-Z4M3tWHb",scrollBot:"scrollBot-Z4M3tWHb",scrollTop:"scrollTop-Z4M3tWHb",isVisible:"isVisible-Z4M3tWHb",iconWrap:"iconWrap-Z4M3tWHb",fadeBot:"fadeBot-Z4M3tWHb",fadeTop:"fadeTop-Z4M3tWHb"}},541183:e=>{e.exports={"css-value-header-toolbar-height":"38px"}},929230:e=>{e.exports={iconContainer:"iconContainer-dmpvVypS"}},42278:(e,t,o)=>{"use strict";o.d(t,{ActionsTable:()=>O});var n=o(50959),i=o(916191);function s(e){return n.createElement("tr",{className:i.row},n.createElement("td",null,n.createElement("div",{className:i.line})),n.createElement("td",null,n.createElement("div",{className:i.line}),e.hint?n.createElement("div",{className:i.hint},e.hint):null))}var r=o(125226),a=o(650151),l=o(8626),c=o(906481),h=o(224743),u=o(497754),d=o.n(u),p=o(265005),m=o(203223),g=o(638456),_=o(542682),v=o(636268),b=o(852668),f=o(582997),w=o(104436),C=(o(931924),o(460925)),T=o(560004),y=o(214665),E=o(447429);class x extends n.PureComponent{constructor(){super(...arguments),this._handleMouseOver=e=>{(0,_.isTouchEvent)(e.nativeEvent)||this.props.onMouseOver&&this.props.onMouseOver()},this._handleClickToolbox=e=>{e.stopPropagation(),this.props.onClickToolbox&&this.props.onClickToolbox()}}render(){const{hasSubItems:e,shortcutHint:t,hint:o,invisibleHotkey:i,favourite:s,theme:r=E,size:a="normal",onKeyDown:c,label:h,jsxLabel:d,styledLabel:p}=this.props,m=this.props.checkable&&this.props.checkboxInput?"label":"div";return n.createElement(n.Fragment,null,n.createElement("tr",{...(0,l.filterDataProps)(this.props),...(0,l.filterAriaProps)(this.props),id:this.props.id,
className:u(this.props.className,r.item,!this.props.noInteractive&&r.interactive,this.props.hovered&&r.hovered,this.props.disabled&&r.disabled,this.props.active&&r.active,this.props.selected&&r.selected,r[a]),onClick:this.props.onClick,onMouseOver:this._handleMouseOver,ref:this.props.reference,"data-action-name":this.props.actionName,tabIndex:this.props.tabIndex,onKeyDown:c},void 0!==s&&n.createElement("td",{className:r.favoriteActionCell},n.createElement(b.FavoriteButton,{id:`${this.props.id}-favorite`,className:r.favourite,isFilled:s,onClick:this.props.onFavouriteClick,"data-role":"list-item-action"})),n.createElement("td",{className:u(r.iconCell),"data-icon-cell":!0},this._icon(r)),n.createElement("td",{className:r.contentCell},n.createElement(m,{className:r.content},n.createElement("span",{className:u(r.label,this.props.checked&&r.checked),"data-label":!0},!d&&p?p.map((({text:e,...t},o)=>n.createElement("span",{key:o,style:t},e))):d??h),this._toolbox(r),e&&n.createElement("span",{className:r.arrowIcon,dangerouslySetInnerHTML:{__html:y},"data-submenu-arrow":!0}),!e&&t&&!g.CheckMobile.any()&&n.createElement(f.Hint,{className:u(i&&r.invisibleHotkey),text:t}),!e&&!t&&o&&n.createElement(f.Hint,{text:o})))),n.createElement("tr",{className:r.subMenu},n.createElement("td",null,this.props.children)))}_icon(e){if(this.props.checkable){if(this.props.checkboxInput)return n.createElement(m.CheckboxInput,{className:u(e.icon,e.checkboxInput),checked:this.props.checked});if(this.props.checked){const t=!this.props.icon&&!this.props.iconChecked,o=this.props.iconChecked||this.props.icon||T;return n.createElement("span",{className:e.icon,dangerouslySetInnerHTML:{__html:o},"data-icon-checkmark":t})}return this.props.icon?n.createElement("span",{className:e.icon,dangerouslySetInnerHTML:{__html:this.props.icon}}):n.createElement("span",{className:e.icon})}return this.props.icon?n.createElement("span",{className:e.icon,dangerouslySetInnerHTML:{__html:this.props.icon}}):null}_toolbox(e){return this.props.toolbox?n.createElement("span",{className:u(e.toolbox,this.props.showToolboxOnHover&&e.showToolboxOnHover),onClick:this._handleClickToolbox,"data-toolbox":!0},this._renderToolboxContent()):null}_renderToolboxContent(){return this.props.toolbox&&this.props.toolbox.type===w.ToolboxType.Delete?n.createElement(v.RemoveButton,{icon:C,onClick:this.props.toolbox.action}):null}}var S=o(702277);function k(e){const{size:t="normal"}=e;return n.createElement(x,{size:t,jsxLabel:n.createElement("div",{className:d()(S.loaderWrap,S[t])},n.createElement(p.Loader,{className:S.loader})),noInteractive:!0,onMouseOver:e.onMouseOver})}var L=o(591800),M=o(263361),P=o(957418);const D=(0,n.forwardRef)((function(e,t){const{className:o,...i}=e,[s,r]=(0,M.useRovingTabindexElement)(t);return n.createElement(x,{...i,className:d()(P.accessible,o),reference:s,tabIndex:r,onKeyDown:function(e){if(e.target!==e.currentTarget)return;const t=(0,L.hashFromEvent)(e);13!==t&&32!==t||(e.preventDefault(),s.current instanceof HTMLElement&&s.current.click())},"data-role":"menuitem",
"aria-disabled":e.disabled||void 0})}));var A=o(423582),N=o(776734);var B=o(584878),I=o(147582),W=o(345848),F=o(501181);class R extends n.PureComponent{constructor(e){super(e),this._itemRef=null,this._menuElementRef=n.createRef(),this._menuRef=null,this._handleClick=e=>{e.isDefaultPrevented()||this.state.disabled||(this._hasSubItems()?this._showSubMenu():(this.state.doNotCloseOnClick||(0,h.globalCloseMenu)(),this.props.action.execute(),this._trackEvent(),this.props.onExecute&&this.props.onExecute(this.props.action)))},this._handleClickToolbox=()=>{(0,h.globalCloseMenu)()},this._handleItemMouseOver=()=>{this._showSubMenu(),this._setCurrentContextValue()},this._handleMenuMouseOver=()=>{this._setCurrentContextValue()},this._showSubMenu=()=>{this.props.onShowSubMenu(this.props.action)},this._calcSubMenuPos=e=>(0,A.calcSubMenuPos)(e.contentWidth,this._itemRef),this._updateState=e=>{this.setState(e.getState())},this._setItemRef=e=>{this._itemRef=e},this._handleMenuRef=e=>{this._menuRef=e},this._registerSubmenu=()=>this.context?.registerSubmenu(this.props.action.id,(e=>(0,a.ensureNotNull)(this._itemRef).contains(e)||null!==this._menuElementRef.current&&this._menuElementRef.current.contains(e))),this.state={...this.props.action.getState()}}componentDidMount(){this.props.action.onUpdate().subscribe(this,this._updateState),this.state.subItems.length&&(this._unsubscribe=this._registerSubmenu()),this.props.reference&&(this._itemRef=this.props.reference.current)}componentDidUpdate(e,t){t.loading!==this.state.loading&&this.props.onRequestUpdate?.(),0===t.subItems.length&&this.state.subItems.length>0&&(this._unsubscribe=this._registerSubmenu()),t.subItems.length>0&&0===this.state.subItems.length&&this._unsubscribe?.(),t.subItems!==this.state.subItems&&null!==this._menuRef&&this._menuRef.update()}componentWillUnmount(){this.props.action.onUpdate().unsubscribe(this,this._updateState),this._unsubscribe&&this._unsubscribe()}render(){const e=this.context?.current?this.context.current===this.props.action.id:this.props.isSubMenuOpened;return this.state.loading?n.createElement(k,{size:this.state.size}):n.createElement(D,{...(0,l.filterDataProps)(this.props),theme:this.props.theme,ref:this.props.reference??this._setItemRef,onClick:this._handleClick,onClickToolbox:this._handleClickToolbox,onMouseOver:this._handleItemMouseOver,hovered:e,hasSubItems:this._hasSubItems(),actionName:this.state.name,checkboxInput:this.props.checkboxInput,selected:this.props.selected,className:this.props.className,...this.state},n.createElement(F.ContextMenu,{isOpened:e,items:this.state.subItems,position:this._calcSubMenuPos,menuStatName:this.props.menuStatName,parentStatName:this._getStatName(),menuElementReference:this._menuElementRef,onMouseOver:this.state.subItems.length?this._handleMenuMouseOver:void 0,ref:this._handleMenuRef}))}_setCurrentContextValue(){this.state.subItems.length&&this.context?.setCurrent(this.props.action.id)}_hasSubItems(){return this.state.subItems.length>0}_trackEvent(){const e=this._getStatName();var t;(0,
W.trackEvent)("ContextMenuClick",this.props.menuStatName||"",e),this.props.menuStatName&&this.state.statName&&(0,B.shouldAffectUser)("ContextMenuTracking",I.sparseUsersTrackingCoefficient)&&(t={menuName:this.props.menuStatName,submenuName:this.props.parentStatName,actionName:this.state.statName},(0,N.getTracker)().then((e=>{e&&e.trackContextMenuAction(t)})))}_getStatName(){return[this.props.parentStatName,this.state.statName].filter((e=>Boolean(e))).join(".")}}R.contextType=c.SubmenuContext;const V=(0,r.isFeatureEnabled)("force_disable_jsx_menu_items_rendering");class O extends n.PureComponent{constructor(e){super(e),this._handleShowSubMenu=e=>{const t=e.getState();this.setState({showSubMenuOf:t.subItems.length?e:void 0})},this.state={}}render(){return n.createElement("table",null,n.createElement("tbody",null,this.props.items.map((e=>this._item(e)))))}static getDerivedStateFromProps(e,t){return!e.parentIsOpened&&t.showSubMenuOf?{showSubMenuOf:void 0}:null}_item(e){switch(e.type){case"separator":return n.createElement(s,{key:e.id,hint:e.getHint()});case"action":const t=V?e:e.custom()??e;return n.createElement(R,{key:t.id,action:t,onShowSubMenu:this._handleShowSubMenu,isSubMenuOpened:this.state.showSubMenuOf===t,menuStatName:this.props.menuStatName,parentStatName:this.props.parentStatName,onRequestUpdate:this.props.onRequestUpdate})}}}},612518:(e,t,o)=>{"use strict";o.d(t,{ToolButton:()=>c});var n=o(50959),i=o(497754),s=o.n(i),r=o(305014);const a=n.forwardRef(((e,t)=>{const{className:o,...i}=e;return n.createElement(r.ToolWidgetButton,{ref:t,className:o,"aria-pressed":i.isActive,isPressed:i.isActive,...i})}));var l=o(419836);const c=(0,n.forwardRef)(((e,t)=>{const{id:o,className:i,icon:c,isActive:h,isGrayed:u,isTransparent:d,onClick:p,buttonHotKey:m,tooltipPosition:g="vertical",tag:_,tabIndex:v,tooltip:b,...f}=e,w="button"===_,C=d?r.ToolWidgetButton:a;return n.createElement(C,{"aria-label":w?b:void 0,...f,id:o,ref:t,className:s()(l.button,i),tag:_,isActive:h,isDisabledAppearance:u,icon:c,onClick:p,forceInteractive:!0,tabIndex:v,"data-tooltip":b,tooltipPosition:g,"data-tooltip-hotkey":m})}))},557655:(e,t,o)=>{"use strict";o.d(t,{Toolbar:()=>u});var n=o(50959),i=o(650151),s=o(763341),r=o(591800),a=o(887208),l=o(432438),c=o(267521),h=o(375185);const u=(0,n.forwardRef)((function(e,t){const{onKeyDown:o,orientation:u,blurOnEscKeydown:d=!0,blurOnClick:p=!0,...m}=e,g=(0,c.useFunctionalRefObject)(t);return(0,n.useLayoutEffect)((()=>{const e=(0,i.ensureNotNull)(g.current),t=()=>{const t=(0,a.queryTabbableElements)(e).sort(a.navigationOrderComparator);if(0===t.length){const[t]=(0,a.queryFocusableElements)(e).sort(a.navigationOrderComparator);if(void 0===t)return;(0,l.becomeMainElement)(t)}if(t.length>1){const[,...e]=t;for(const t of e)(0,l.becomeSecondaryElement)(t)}};return window.addEventListener("keyboard-navigation-activation",t),()=>window.removeEventListener("keyboard-navigation-activation",t)}),[]),n.createElement("div",{...h.MouseClickAutoBlurHandler.attributes(p),...m,role:"toolbar","aria-orientation":u,ref:g,
onKeyDown:(0,s.createSafeMulticastEventHandler)((function(e){if(e.defaultPrevented)return;if(!(document.activeElement instanceof HTMLElement))return;const t=(0,r.hashFromEvent)(e);if(d&&27===t)return e.preventDefault(),void document.activeElement.blur();if("vertical"!==u&&37!==t&&39!==t)return;if("vertical"===u&&38!==t&&40!==t)return;const o=e.currentTarget,n=(0,a.queryFocusableElements)(o).sort(a.navigationOrderComparator);if(0===n.length)return;const i=n.indexOf(document.activeElement);if(-1===i)return;e.preventDefault();const s=()=>{const e=(i+n.length-1)%n.length;(0,l.becomeSecondaryElement)(n[i]),(0,l.becomeMainElement)(n[e]),n[e].focus()},c=()=>{const e=(i+n.length+1)%n.length;(0,l.becomeSecondaryElement)(n[i]),(0,l.becomeMainElement)(n[e]),n[e].focus()};switch((0,a.mapKeyCodeToDirection)(t)){case"inlinePrev":"vertical"!==u&&s();break;case"inlineNext":"vertical"!==u&&c();break;case"blockPrev":"vertical"===u&&s();break;case"blockNext":"vertical"===u&&c()}}),o),"data-tooltip-show-on-focus":"true"})}))},912749:(e,t,o)=>{"use strict";var n;o.d(t,{DrawingToolbarComponentIds:()=>n}),function(e){e.Screenshot="drawing-toolbar-screenshot",e.FavoriteDrawings="drawing-toolbar-favorite-drawings",e.ObjectTree="drawing-toolbar-object-tree"}(n||(n={}))},904705:(e,t,o)=>{"use strict";o.r(t),o.d(t,{DrawingToolbar:()=>Ao});var n=o(50959),i=o(497754),s=o.n(i),r=o(381909),a=o(778785),l=o(62802),c=o(931924),h=o(87913),u=o(251954),d=o(547465),p=o(638456),m=o(314802),g=o(438457);class _{constructor(e){this._drawingsAccess=e||{tools:[],type:"black"}}isToolEnabled(e){const t=this._findTool(e);return!(!t||!t.grayed)||("black"===this._drawingsAccess.type?!t:!!t)}isToolGrayed(e){const t=this._findTool(e);return Boolean(t&&t.grayed)}_findTool(e){return this._drawingsAccess.tools.find((t=>t.name===e))}}var v=o(849043),b=o(647643),f=o(617557),w=o(799786),C=o(224743),T=o(612518),y=o(263361);function E(e){const[t,o]=(0,y.useRovingTabindexElement)(null);return n.createElement(T.ToolButton,{...e,ref:t,tag:"button",tabIndex:o})}function x(e){const{id:t,action:o,isTransparent:i,toolName:s}=e;return n.createElement(E,{id:t,icon:g.lineToolsInfo[s].icon,isTransparent:i,onClick:o,tooltip:g.lineToolsInfo[s].localizedName,"data-name":s})}var S,k=o(444372),L=o(8626),M=o(356943),P=o(633102),D=o(820028);!function(e){e.Icons="icons",e.Emojis="emojis",e.Stickers="stickers"}(S||(S={}));const A=l.getValue("ToolButtonIcons.LastCategory",S.Emojis),N=new D.WatchedValue(A);function B(){const[e,t]=(0,P.useWatchedValue)(N);return[e,(0,n.useCallback)((e=>{t(e),function(e){l.setValue("ToolButtonIcons.LastCategory",e)}(e)}),[t])]}var I=o(566818),W=o(993038);function F(e){return n.createElement("div",{className:W.wrapper},e.text)}var R=o(630178),V=o(151609),O=o(922976),z=o(670616),H=o(918042),j=o(44986),U=o(683778),Z=o(548748)
;const G=["0xF087","0xF088","0xF164","0xF165","0xF0A4","0xF0A5","0xF007","0xF0A6","0xF0A7","0xF118","0xF11A","0xF119","0xF183"],q=["0xF153","0xF154","0xF155","0xF156","0xF157","0xF158","0xF159","0xF195","0xF15A"],K=["0xF060","0xF061","0xF062","0xF063","0xF053","0xF054","0xF077","0xF078","0xF07D","0xF07E","0xF0A9","0xF0AA","0xF0AB","0xF0D9","0xF0DA","0xF0D7","0xF0D8","0xF102","0xF103","0xF104","0xF105","0xF106","0xF107","0xF137","0xF139","0xF13A","0xF112","0xF064","0xF148","0xF149","0xF177","0xF178","0xF175","0xF176","0xF01A","0xF01B","0xF065","0xF066"],X=["0xF11D","0xF11E","0xF024","0xF004","0xF005","0xF006","0xF046","0xF00C","0xF00D","0xF011","0xF012","0xF021","0xF01E","0xF192","0xF041","0xF14A","0xF055","0xF056","0xF057","0xF059","0xF058","0xF05A","0xF05B","0xF05C","0xF05D","0xF05E","0xF067","0xF068","0xF069","0xF06A","0xF071","0xF06E","0xF070","0xF075","0xF08A","0xF0A3","0xF0E5","0xF110","0xF111","0xF123","0xF124","0xF10C","0xF128","0xF129","0xF12A","0xF140","0xF113","0xF17C","0xF179"],J=["0xF06C","0xF185","0xF186","0xF188","0xF0E7"],$=["0xF000","0xF002","0xF00E","0xF015","0xF017","0xF030","0xF013","0xF043","0xF06B","0xF072","0xF076","0xF080","0xF084","0xF040","0xF0A1","0xF0A2","0xF0D6","0xF0E3","0xF0EB","0xF0F3","0xF135","0xF13D","0xF2FE"],Y=[...G,...q,...K,...X,...J,...$].map((e=>+e)),Q=new Set(Y);const ee=[{title:k.t(null,{context:"emoji_group"},o(188906)),emojis:[],content:n.createElement(I.IconItem,{icon:j})},{title:k.t(null,{context:"emoji_group"},o(51853)),emojis:G,content:n.createElement(I.IconItem,{icon:U})},{title:k.t(null,{context:"emoji_group"},o(633282)),emojis:X,content:n.createElement(I.IconItem,{icon:z})},{title:k.t(null,{context:"emoji_group"},o(231054)),emojis:J,content:n.createElement(I.IconItem,{icon:Z})},{title:k.t(null,{context:"emoji_group"},o(614143)),emojis:q,content:n.createElement(I.IconItem,{icon:O})},{title:k.t(null,{context:"emoji_group"},o(998355)),emojis:$,content:n.createElement(I.IconItem,{icon:H})},{title:k.t(null,{context:"emoji_group"},o(174245)),emojis:K,content:n.createElement(I.IconItem,{icon:V})}],te={[S.Icons]:R.drawingToolsIcons.heart,[S.Emojis]:R.drawingToolsIcons.smile,[S.Stickers]:R.drawingToolsIcons.sticker},oe=[{title:S.Emojis,content:n.createElement(F,{text:k.t(null,void 0,o(816290))})},{title:S.Stickers,content:n.createElement(F,{text:k.t(null,void 0,o(350428))})},{title:S.Icons,content:n.createElement(F,{text:k.t(null,void 0,o(573829))})}];var ne=o(79205),ie=o(591800),se=o(45968),re=o(175071),ae=o(184277),le=o(762852),ce=o(995683),he=o(914579),ue=o(214665);const de=o(78299),pe=(0,n.forwardRef)(((e,t)=>{const{buttonIcon:o,buttonTitle:s,buttonHotKey:r,dropdownTooltip:l,children:c,isActive:h,isGrayed:u,onClickWhenGrayed:d,checkable:p,isSmallTablet:m,theme:g=de,onClickButton:_,onArrowClick:v,openDropdownByClick:b,onMenuFocus:f=he.handleAccessibleMenuFocus,onMenuKeyDown:w=he.handleAccessibleMenuKeyDown,dataMenuQaId:C,...E}=e,x=(0,ce.mergeThemes)(re.DEFAULT_MENU_THEME,{menuBox:g.menuBox}),[S,k]=(0,n.useState)(!1),[L,M]=(0,n.useState)(!1),P=(0,n.useRef)(null),D=(0,
n.useRef)(null),A=(0,n.useRef)(null),N=(0,n.useRef)(0),B=(0,n.useRef)(0),[I,W]=(0,y.useRovingTabindexElement)(null),[F,R]=(0,y.useRovingTabindexElement)(null);return(0,n.useImperativeHandle)(t,(()=>({open:()=>k(!0)})),[]),n.createElement("div",{...E,className:i(g.dropdown,{[g.isGrayed]:u,[g.isActive]:h,[g.isOpened]:S}),onClick:u?d:void 0,onKeyDown:function(e){if(e.defaultPrevented||!(e.target instanceof Node))return;const t=(0,ie.hashFromEvent)(e);if(e.currentTarget.contains(e.target)||27!==t)return;e.preventDefault(),V(!1),L&&F?.current?.focus()},ref:P},n.createElement("div",{ref:D,className:g.control},n.createElement("div",{...function(){if(!u)return a.mobiletouch?p?{onTouchStart:H,onTouchEnd:U,onTouchMove:j}:{onClick:z}:{onMouseDown:H,onMouseUp:Z};return{}}(),className:i(g.buttonWrap,g.accessible)},n.createElement(T.ToolButton,{icon:o,isActive:h,isGrayed:u,isTransparent:!p,ref:I,tag:"button",tabIndex:W,onClick:function(e){if(!(0,ae.isKeyboardClick)(e))return;b?V(!0,!0):_?.()},tooltip:s,buttonHotKey:r,"data-tooltip-delay":1500,tooltipPosition:"vertical"})),!u&&!a.mobiletouch&&n.createElement("button",{className:i(g.arrow,l&&"apply-common-tooltip common-tooltip-vertical",g.accessible),onClick:function(e){v?.(),V(void 0,(0,ae.isKeyboardClick)(e))},onKeyDown:function(e){if(e.defaultPrevented||!(e.target instanceof Node))return;const t=(0,ie.hashFromEvent)(e);if(e.currentTarget.contains(e.target))switch(t){case 39:if(S)return;e.preventDefault(),V(!0,!0);break;case 27:if(!S)return;e.preventDefault(),V(!1)}},type:"button",ref:F,tabIndex:R,"aria-pressed":h,"aria-label":l,"data-tooltip":l},n.createElement(ne.Icon,{className:g.arrowIcon,icon:ue}))),!u&&(m?S&&n.createElement(le.Drawer,{className:g.drawer,onClose:O,position:"Bottom","data-qa-id":C},c):n.createElement(se.PopupMenu,{theme:x,doNotCloseOn:function(){if(null===P.current)return[];return[P.current]},isOpened:S,onClose:O,position:function(){if(!D||!D.current)return{x:0,y:0};const e=D.current.getBoundingClientRect();return{x:e.left+e.width+1,y:e.top-6}},onKeyDown:w,onFocus:e=>f(e,F),controller:A,onOpen:function(){A.current?.focus()},tabIndex:-1,dataQaId:C},c)));function V(e,t=!1){const o=void 0!==e?e:!S;k(o),M(!!o&&t)}function O(){V(!1)}function z(){_&&_(),V()}function H(){if(a.mobiletouch&&!p)!B.current&&_&&_();else{if(N.current)return clearTimeout(N.current),N.current=0,void V(!0);N.current=setTimeout((()=>{N.current=0,!B.current&&_&&_()}),175)}B.current=setTimeout((()=>{B.current=0,V(!0)}),300)}function j(){clearTimeout(B.current),B.current=0,clearTimeout(N.current),N.current=0}function U(e){e.cancelable&&e.preventDefault(),Z()}function Z(){B.current&&(clearTimeout(B.current),B.current=0,S?V(!1):p||S||a.mobiletouch||!h&&!b?!N.current&&_&&_():V(!0))}}));var me=o(569222),ge=o(524141),_e=o(454546),ve=o(907364),be=o(226722);class fe extends ve.CommonJsonStoreService{constructor(e,t,o,n,i=18){super(be.TVXWindowEvents,l,e,t,[]),this._onChangeDrawingState=()=>{const e=h[this._drawingType].value();this._promote(e)},this._sanitizer=o,this._drawingType=n,
this._maxRecentCount=i,h[this._drawingType].subscribe(this._onChangeDrawingState)}destroy(){h[this._drawingType].unsubscribe(this._onChangeDrawingState),super.destroy()}_deserialize(e){const t=this._sanitizer(e);return this._removeUnavailableRecents(e,t)}_removeUnavailableRecents(e,t){return Array.isArray(e)?e.length>this._maxRecentCount&&(t=e.slice(0,this._maxRecentCount)):t=[],t}_promote(e){let t=[...this.get()];const o=t.indexOf(e);-1!==o&&t.splice(o,1),t=[e,...t.slice(0,this._maxRecentCount-1)],this.set(t)}}const we=new fe("RECENT_ICONS_CHANGED","linetoolicon.recenticons",(function(e){return e.filter((e=>Q.has(e)))}),"iconTool");var Ce=o(854294),Te=o(67574);var ye=o(91160);const Ee=new fe("RECENT_EMOJIS_CHANGED","linetoolemoji.recents",ye.removeUnavailableEmoji,"emojiTool"),xe=["elon","saylor","doge","dislike","yolo","whale","wagmi","tendies","short","rugged","shill","rekt","sell","paper-hands","og","fud","gm","ngmi","moon","love","lambo","ethereum","look","diamond-hand","leap","like","few","bitcoin","bag-holder","buy-the-dip","buy","hodl"];var Se=o(537603),ke=o(90624);const Le=new Set(xe);const Me=[{title:k.t(null,{context:"emoji_group"},o(188906)),emojis:[],content:n.createElement(I.IconItem,{icon:Se})},{title:"TradingView",emojis:xe,content:n.createElement(I.IconItem,{icon:ke})}],Pe=new fe("RECENT_STICKERS_CHANGED","linetoolsticker.recents",(function(e){return e.filter((e=>Le.has(e)))}),"stickerTool",3);var De=o(891130),Ae=o(255969),Ne=o(120217);var Be=o(504519),Ie=o(541224);const We={[S.Icons]:{service:we,toolName:"LineToolIcon",ItemComponent:function(e){const{emoji:t,className:o}=e;return n.createElement("div",{className:s()(Te.item,o)},n.createElement(Ce.CharCodeIcon,{charCode:Number(t)}))},icons:ee,onEmojiSelect:e=>{h.iconTool.setValue(Number(e)),h.tool.setValue("LineToolIcon"),(0,_e.trackDrawingToolSelected)("LineToolIcon","Left panel")}},[S.Emojis]:{service:Ee,toolName:"LineToolEmoji",icons:(0,ye.emojiGroups)(),onEmojiSelect:e=>{h.emojiTool.setValue(e),h.tool.setValue("LineToolEmoji"),(0,_e.trackDrawingToolSelected)("LineToolEmoji","Left panel")}},[S.Stickers]:{service:Pe,toolName:"LineToolSticker",ItemComponent:function(e){const{emoji:t}=e,{size:i}=(0,De.useEnsuredContext)(Ae.EmojiListContentContext),[s,r]=(0,n.useState)();return(0,n.useEffect)((()=>{o.e(25598).then(o.bind(o,828821)).then((({getSvgContentForSticker:e})=>{const o=e(t);o&&r(o)}))}),[]),n.createElement(ne.Icon,{className:Ne.sticker,icon:null!==s?s:void 0,style:{width:`${i}px`,height:`${i}px`}})},RowComponent:function(e){return n.createElement(Be.EmojisRow,{...e,className:Ie.stickerRow})},icons:Me,onEmojiSelect:e=>{h.stickerTool.setValue(e),h.tool.setValue("LineToolSticker"),(0,_e.trackDrawingToolSelected)("LineToolSticker","Left panel")},getEmojiSize:e=>e?78:112}};var Fe=o(617040);function Re(e){const{isSmallTablet:t,maxHeight:o,activeTab:s,setActiveTab:r}=e,a=We[s],{service:l,ItemComponent:c,RowComponent:h,onEmojiSelect:u,getEmojiSize:d}=a,p=d&&d(t),[m,g]=(0,n.useState)(Ve(a));return(0,n.useLayoutEffect)((()=>{const e={},t=()=>{
const e=Ve(a);g(e)};return t(),l.getOnChange().subscribe(e,t),()=>{l.getOnChange().unsubscribeAll(e)}}),[a]),n.createElement("div",{style:{maxHeight:o}},n.createElement(me.EmojiList,{className:i(Fe.desktopSize,t&&Fe.smallSize),emojis:m,onSelect:function(e){u(e),(0,C.globalCloseMenu)()},ItemComponent:c,RowComponent:h,height:o,category:s,emojiSize:p}),n.createElement(ge.GroupTabs,{className:Fe.tabs,tabClassName:Fe.categories,tabs:oe,activeTab:s,onTabClick:function(e){r(e)}}))}function Ve(e){const{icons:t,service:o}=e,n=[...t],i=o.get();return n[0].emojis=i.map((e=>String(e))),n.filter((e=>e.emojis.length))}var Oe=o(887208),ze=o(470316),He=o(998754),je=o(693285);const Ue={icon:k.t(null,void 0,o(37913)),dropdownTooltip:k.t(null,void 0,o(573829))},Ze=(0,ce.mergeThemes)(de,{menuBox:je.menuBox,drawer:je.drawer}),Ge=parseInt(He["default-drawer-min-top-distance"]);function qe(e){const{isGrayed:t,isSmallTablet:o}=e,i=(0,L.filterDataProps)(e),[s,r]=B(),[a]=(0,P.useWatchedValue)(h.tool),{toolName:l}=We[s];return n.createElement(pe,{theme:Ze,buttonIcon:te[s],buttonTitle:Ue.icon,dropdownTooltip:Ue.dropdownTooltip,isActive:a===l,isGrayed:t,isSmallTablet:o,onClickButton:function(){c()},onClickWhenGrayed:()=>(0,u.emit)("onGrayedObjectClicked",{type:"drawing",name:g.lineToolsInfo[l].localizedName}),onArrowClick:function(){c("menu")},openDropdownByClick:!0,onMenuFocus:Ke,onMenuKeyDown:function(e){if(e.defaultPrevented)return;const t=(0,ze.hashFromEvent)(e);9!==t&&t!==ze.Modifiers.Shift+9||(0,Oe.updateTabIndexes)()},dataMenuQaId:"emojipicker-menu",...i},n.createElement(Re,{isSmallTablet:o,maxHeight:o?Math.min(679,window.innerHeight-Ge):679,activeTab:s,setActiveTab:r}));function c(e){(0,M.trackButtonClick)("left toolbar","icons",e)}}function Ke(e){if(!e.target)return;const t=e.currentTarget;e.target===t&&((0,Oe.updateTabIndexes)(),setTimeout((()=>{if(document.activeElement!==t)return;const[e]=(0,Oe.queryTabbableElements)(t).sort(Oe.navigationOrderComparator);e&&e.focus()})))}var Xe=o(890390);class Je extends n.PureComponent{constructor(e){super(e),this._handleClick=()=>{this.props.saveDefaultOnChange&&(0,Xe.allowSavingDefaults)(!0);const e=!this.props.property.value();this.props.property.setValue(e),this.props.saveDefaultOnChange&&(0,Xe.allowSavingDefaults)(!1),this.props.onClick&&this.props.onClick(e)},this.state={isActive:this.props.property.value()}}componentDidMount(){this.props.property.subscribe(this,this._onChange)}componentWillUnmount(){this.props.property.unsubscribe(this,this._onChange)}render(){const{toolName:e}=this.props,{isActive:t}=this.state,o=g.lineToolsInfo[e];return n.createElement(E,{icon:t&&o.iconActive?o.iconActive:o.icon,isActive:t,onClick:this._handleClick,tooltip:o.localizedName,buttonHotKey:o.hotKey,"data-name":e})}_onChange(e){this.setState({isActive:e.value()})}}class $e extends n.PureComponent{constructor(e){super(e),this._handleClick=()=>{h.tool.setValue(this.props.toolName),(0,_e.trackDrawingToolSelected)(this.props.toolName,"Left panel"),this.props.onClick?.()},this._onChange=()=>{this.setState({
isActive:h.tool.value()===this.props.toolName})},this.state={isActive:h.tool.value()===this.props.toolName}}componentDidMount(){h.tool.subscribe(this._onChange)}componentWillUnmount(){h.tool.unsubscribe(this._onChange)}render(){const{toolName:e}=this.props,{isActive:t}=this.state,o=g.lineToolsInfo[e];return n.createElement(E,{icon:g.lineToolsInfo[e].icon,isActive:t,isTransparent:!0,onClick:this._handleClick,tooltip:o.localizedName,buttonHotKey:o.hotKey,"data-name":e})}}var Ye=o(345848);class Qe extends n.PureComponent{constructor(e){super(e),this._boundUndoModel=null,this._handleClick=()=>{const e=this._activeChartWidget();var t,o;e.hasModel()&&e.model().zoomFromViewport(),t="zoom out",(0,M.trackButtonClick)("left toolbar",t,o),(0,Ye.trackEvent)("GUI","Chart Left Toolbar",(0,r.capitalizeFirstLetter)(t))},this._syncUnzoomButton=()=>{const e=this._activeChartWidget();let t=!1;if(e.hasModel()){const o=e.model();this._boundUndoModel!==o&&(this._boundUndoModel&&this._boundUndoModel.zoomStack().onChange().unsubscribe(null,this._syncUnzoomButton),o.zoomStack().onChange().subscribe(null,this._syncUnzoomButton),this._boundUndoModel=o),t=!o.zoomStack().isEmpty()}else e.withModel(null,this._syncUnzoomButton);this.setState({isVisible:t})},this.state={isVisible:!1}}componentDidMount(){this.props.chartWidgetCollection.activeChartWidget.subscribe(this._syncUnzoomButton,{callWithLast:!0})}componentWillUnmount(){this.props.chartWidgetCollection.activeChartWidget.unsubscribe(this._syncUnzoomButton)}render(){return this.state.isVisible?n.createElement(x,{action:this._handleClick,isTransparent:!0,toolName:"zoom-out"}):n.createElement("div",null)}_activeChartWidget(){return this.props.chartWidgetCollection.activeChartWidget.value()}}var et=o(93916),tt=o(625323),ot=o(676864),nt=o(383738),it=o(184981),st=o(62804),rt=o(399578),at=o(545372),lt=o(239070),ct=o(463509),ht=o(631078),ut=o(500859);const dt=(0,ce.mergeThemes)(ct.menuItemSwitcherMobileTheme,{label:ut.switcherLabel}),pt=(0,ce.mergeThemes)(lt.DEFAULT_MENU_ITEM_SWITCHER_THEME,{label:ut.switcherLabel});function mt(e){const{watchedValue:t,reactKey:o,label:i,value:s,isSmallTablet:r}=e,a=(0,ht.useWatchedValueReadonly)({watchedValue:t});return n.createElement(lt.MenuItemSwitcher,{key:o,checked:a,onChange:function(e){t.setValue(e)},label:i,value:s,theme:r?dt:pt})}var gt=o(486443);const _t=new Set([]);class vt extends n.PureComponent{constructor(e){super(e),this._onChangeDrawingState=()=>{const e=this._getActiveToolName();this.setState({current:e||this.state.current,isActive:!!e})},this._handleClickButton=()=>{this._trackClick();const{current:e}=this.state;!p.CheckMobile.any()&&e&&this._selectTool(e)},this._handleClickItem=e=>{this._selectTool(e)},this._handleGrayedClick=e=>{(0,u.emit)("onGrayedObjectClicked",{type:"drawing",name:g.lineToolsInfo[e].localizedName})},this._handleClickFavorite=e=>{this.state.favState&&this.state.favState[e]?tt.LinetoolsFavoritesStore.removeFavorite(e):tt.LinetoolsFavoritesStore.addFavorite(e)},this._onAddFavorite=e=>{this.setState({favState:{
...this.state.favState,[e]:!0}})},this._onRemoveFavorite=e=>{this.setState({favState:{...this.state.favState,[e]:!1}})},this._onSyncFavorites=()=>{this.setState({favState:this._composeFavState()})},this._handleArrowClick=()=>{this._trackClick("menu")},this._trackClick=e=>{const{trackLabel:t}=this.props;t&&(0,M.trackButtonClick)("left toolbar",t,e)};const t=this._getActiveToolName();this.state={current:t||this._firstNonGrayedTool(),favState:this._composeFavState(),isActive:!!t}}componentDidMount(){h.tool.subscribe(this._onChangeDrawingState),tt.LinetoolsFavoritesStore.favoriteAdded.subscribe(null,this._onAddFavorite),tt.LinetoolsFavoritesStore.favoriteRemoved.subscribe(null,this._onRemoveFavorite),tt.LinetoolsFavoritesStore.favoritesSynced.subscribe(null,this._onSyncFavorites)}componentWillUnmount(){h.tool.unsubscribe(this._onChangeDrawingState),tt.LinetoolsFavoritesStore.favoriteAdded.unsubscribe(null,this._onAddFavorite),tt.LinetoolsFavoritesStore.favoriteRemoved.unsubscribe(null,this._onRemoveFavorite),tt.LinetoolsFavoritesStore.favoritesSynced.unsubscribe(null,this._onSyncFavorites)}componentDidUpdate(e,t){e.lineTools!==this.props.lineTools&&this.setState({favState:this._composeFavState()})}render(){const{current:e,favState:t,isActive:o}=this.state;if(!e)return n.createElement(n.Fragment,null);const{favoriting:i,grayedTools:s,lineTools:r,dropdownTooltip:a,isSmallTablet:l}=this.props,c=this._showShortcuts(),h=g.lineToolsInfo[e],u=(0,L.filterDataProps)(this.props);return n.createElement("span",null,n.createElement(pe,{buttonIcon:h.icon,buttonTitle:h.localizedName,buttonHotKey:h.hotKey,dropdownTooltip:a,isActive:o,onClickButton:this._handleClickButton,onArrowClick:this._handleArrowClick,isSmallTablet:l,...u},r.map(((r,a)=>{if("title"in r)return n.createElement(n.Fragment,{key:r.title??`separator${a}`},a>0?n.createElement(et.PopupMenuSeparator,null):null,r.title&&n.createElement(ot.ToolWidgetMenuSummary,{className:gt.sectionTitle},r.title));if((0,v.isLineToolOption)(r))return this._getLineToolOption(r);const{name:h}=r,u=g.lineToolsInfo[h]?.selectHotkey?.hash,d=g.lineToolsInfo[h],p=s[h];return n.createElement(it.AccessibleMenuItem,{key:h,"data-name":h,theme:l?st.multilineLabelWithIconAndToolboxTheme:void 0,dontClosePopup:p,forceShowShortcuts:c,shortcut:!l&&u?(0,ze.humanReadableHash)(u):void 0,icon:d.icon,isActive:o&&e===h,appearAsDisabled:p,label:n.createElement("div",{className:gt.label},d.localizedName,_t.has(h)&&n.createElement(rt.BadgeNew,{className:gt.newBadge})),showToolboxOnFocus:!0,onClick:p?this._handleGrayedClick:this._handleClickItem,onClickArg:h,showToolboxOnHover:!t[h],toolbox:i&&!p?n.createElement(nt.MenuFavoriteButton,{isActive:o&&e===h,isFilled:t[h],onClick:()=>this._handleClickFavorite(h)}):void 0})}))))}_firstNonGrayedTool(){const{grayedTools:e,lineTools:t}=this.props;return t.find((t=>(0,v.isLineTool)(t)&&!e[t.name]))?.name}_showShortcuts(){return this.props.lineTools.some((e=>"hotkeyHash"in e))}_getLineToolOption(e){return(0,v.isLineToolSwitcherOption)(e)?n.createElement(n.Fragment,{
key:`${e.value}-${e.type}`},n.createElement(et.PopupMenuSeparator,null),n.createElement(mt,{...e,isSmallTablet:this.props.isSmallTablet})):null}_getActiveToolName(){return this.props.lineTools.find((e=>(0,v.isLineTool)(e)&&e.name===h.tool.value()))?.name}async _selectTool(e){await(0,at.initLineTool)(e),h.tool.setValue(e),(0,_e.trackDrawingToolSelected)(e,"Left panel")}_composeFavState(){const e={};return this.props.lineTools.forEach((t=>{(0,v.isLineTool)(t)&&(e[t.name]=tt.LinetoolsFavoritesStore.isFavorite(t.name))})),e}}var bt=o(634993),ft=o(917850);const wt=(0,ce.mergeThemes)(bt.DEFAULT_POPUP_MENU_ITEM_THEME,ft);var Ct=o(339796),Tt=o(969682),yt=o(494293);const Et=!0;class xt extends n.PureComponent{constructor(e){super(e),this._handleRemoveToolClick=()=>{a.mobiletouch,kt()},this._handleRemoveDrawings=()=>{St("remove drawing"),this.props.chartWidgetCollection.activeChartWidget.value().actions().paneRemoveAllDrawingTools.execute()},this._handleRemoveStudies=()=>{St("remove indicator"),this.props.chartWidgetCollection.activeChartWidget.value().actions().paneRemoveAllStudies.execute()},this._handleRemoveAll=()=>{St("remove all"),this.props.chartWidgetCollection.activeChartWidget.value().actions().paneRemoveAllStudiesDrawingTools.execute()},this._handleAlwaysRemoveLockedDrawings=()=>{const e=!Ct.deleteLockedLineToolsProperty.value();Ct.deleteLockedLineToolsProperty.setValue(e),e&&Tt.doNotShowDeleteLockedLineConfirmProperty.setValue(!0),this.setState(this._getActualState())},this._handleChartWidgetInitialized=()=>{this._activeChartWidget&&(this._unsubscribeToModelChanges(this._activeChartWidget),this._subscribeToModelChanges(this._activeChartWidget))},this._handleActiveChartWidgetChanged=e=>{this._activeChartWidget&&(this._unsubscribeToModelChanges(this._activeChartWidget),this._activeChartWidget.chartWidgetInitialized().unsubscribe(null,this._handleChartWidgetInitialized)),e&&(this._subscribeToModelChanges(e),e.chartWidgetInitialized().subscribe(null,this._handleChartWidgetInitialized)),this._activeChartWidget=e,this._handleCollectionChanged()},this._handleCollectionChanged=()=>{this.setState(this._getActualState())},this._getActualState=()=>{if(!this._activeChartWidget||!this._activeChartWidget.hasModel())return{removeAllDrawingsLabel:k.t(null,void 0,o(396374)),removeAllStudiesLabel:k.t(null,void 0,o(699984)),removeAllLabel:k.t(null,void 0,o(53981)),alwaysRemoveLockedDrawings:Ct.deleteLockedLineToolsProperty.value()};const e=this._activeChartWidget.actions();return{removeAllDrawingsLabel:e.paneRemoveAllDrawingTools.getState().label,removeAllStudiesLabel:e.paneRemoveAllStudies.getState().label,removeAllLabel:e.paneRemoveAllStudiesDrawingTools.getState().label,alwaysRemoveLockedDrawings:Ct.deleteLockedLineToolsProperty.value()}},this._activeChartWidget=this.props.chartWidgetCollection.activeChartWidget.value(),this.state=this._getActualState()}componentDidMount(){this.props.chartWidgetCollection.activeChartWidget.subscribe(this._handleActiveChartWidgetChanged,{callWithLast:!0})}componentWillUnmount(){
this._activeChartWidget&&this._unsubscribeToModelChanges(this._activeChartWidget),this.props.chartWidgetCollection.activeChartWidget.unsubscribe(this._handleActiveChartWidgetChanged)}render(){const e=this.props.isSmallTablet?wt:void 0,t=this.props.isSmallTablet?ct.menuItemSwitcherMobileTheme:lt.DEFAULT_MENU_ITEM_SWITCHER_THEME,i=this.props.isSmallTablet?yt.wrapper:void 0,{removeAllDrawingsLabel:s,removeAllStudiesLabel:r,removeAllLabel:a,alwaysRemoveLockedDrawings:l}=this.state;return n.createElement(pe,{buttonIcon:g.lineToolsInfo[this.props.toolName].icon,buttonTitle:k.t(null,void 0,o(125852)),onClickButton:this._handleRemoveToolClick,dropdownTooltip:k.t(null,void 0,o(802671)),isSmallTablet:this.props.isSmallTablet,"data-name":this.props.toolName,onArrowClick:this._handleArrowClick,openDropdownByClick:Et},n.createElement(it.AccessibleMenuItem,{"data-name":"remove-drawing-tools",label:s,onClick:this._handleRemoveDrawings,theme:e}),n.createElement(it.AccessibleMenuItem,{"data-name":"remove-studies",label:r,onClick:this._handleRemoveStudies,theme:e}),n.createElement(it.AccessibleMenuItem,{"data-name":"remove-all",label:a,onClick:this._handleRemoveAll,theme:e}),n.createElement(n.Fragment,null,n.createElement(et.PopupMenuSeparator,null),n.createElement(lt.MenuItemSwitcher,{checked:l,onChange:this._handleAlwaysRemoveLockedDrawings,label:k.t(null,void 0,o(894340)),value:"alwaysRemoveLockedDrawingsSwitcher",theme:t,className:i})))}_handleArrowClick(){kt("menu")}_subscribeToModelChanges(e){e.withModel(this,(()=>{this._handleCollectionChanged(),e.model().model().dataSourceCollectionChanged().subscribe(this,this._handleCollectionChanged)}))}_unsubscribeToModelChanges(e){e.hasModel()&&e.model().model().dataSourceCollectionChanged().unsubscribe(this,this._handleCollectionChanged),e.modelCreated().unsubscribeAll(this)}}function St(e){(0,Ye.trackEvent)("GUI","Chart Left Toolbar",e)}function kt(e){(0,M.trackButtonClick)("left toolbar","remove",e)}var Lt=o(378338),Mt=o(650151),Pt=o(951713),Dt=o(597101);const At=n.createContext({hideMode:"drawings",isActive:!1});function Nt(e){const{hideMode:t,option:{label:o,dataName:i,getBoxedValue:s},isSmallTablet:r,onClick:a}=e,{hideMode:l,isActive:c}=(0,n.useContext)(At),h=s?.();return"all"===t||h?n.createElement(it.AccessibleMenuItem,{label:o,isActive:l===t&&c,onClick:function(){a(t,(0,Pt.toggleHideMode)(t))},"data-name":i,theme:r?wt:void 0}):n.createElement(n.Fragment,null)}const Bt={drawings:{active:R.drawingToolsIcons.hideAllDrawingToolsActive,inactive:R.drawingToolsIcons.hideAllDrawingTools},indicators:{active:R.drawingToolsIcons.hideAllIndicatorsActive,inactive:R.drawingToolsIcons.hideAllIndicators},positions:{active:R.drawingToolsIcons.hideAllPositionsToolsActive,inactive:R.drawingToolsIcons.hideAllPositionsTools},all:{active:R.drawingToolsIcons.hideAllDrawingsActive,inactive:R.drawingToolsIcons.hideAllDrawings}};function It(e){const{isSmallTablet:t}=e,[{isActive:i,hideMode:s},r]=(0,n.useState)((()=>({isActive:!1,hideMode:(0,Pt.getSavedHideMode)()})));(0,
n.useEffect)((()=>(Dt.hideStateChange.subscribe(null,r),()=>{Dt.hideStateChange.unsubscribe(null,r)})),[]);const a=g.lineToolsInfo.hideAllDrawings,{trackLabel:l,tooltip:c,dataName:h}=(0,Mt.ensureDefined)((0,Pt.getHideOptions)().get(s)),u=Bt[s][i?"active":"inactive"],d=i?c.active:c.inactive;return n.createElement(pe,{buttonIcon:u,buttonTitle:d,buttonHotKey:a.hotKey,dropdownTooltip:Lt.t(null,void 0,o(595343)),onClickButton:function(){(0,Pt.toggleHideMode)(s),Wt(l,!i),Ft(i?"on":"off")},isSmallTablet:t,isActive:i,checkable:!0,"data-name":"hide-all","data-type":h,onArrowClick:function(){Ft("menu")}},n.createElement(At.Provider,{value:{isActive:i,hideMode:s}},Array.from((0,Pt.getHideOptions)()).map((([e,o])=>n.createElement(Nt,{key:e,hideMode:e,option:o,isSmallTablet:t,onClick:p})))));function p(e,t){Wt((0,Mt.ensureDefined)((0,Pt.getHideOptions)().get(e)).trackLabel,t)}}function Wt(e,t){(0,Ye.trackEvent)("GUI","Chart Left Toolbar",`${e} ${t?"on":"off"}`)}function Ft(e){(0,M.trackButtonClick)("left toolbar","hide",e)}o(738979);let Rt=null;var Vt=o(853573);const Ot=k.t(null,void 0,o(351465));class zt extends n.PureComponent{constructor(){super(...arguments),this._instance=null,this._promise=null,this._bindedForceUpdate=()=>this.forceUpdate(),this._handleClick=()=>{null!==this._instance&&(this._instance.isVisible()?(this._instance.hideAndSaveSettingsValue(),this._trackClick(!1)):(this._instance.showAndSaveSettingsValue(),this._trackClick(!0)))}}componentDidMount(){const e=this._promise=(0,Mt.ensureNotNull)(Rt);e.then((t=>{this._promise===e&&(this._instance=t,this._instance.canBeShown().subscribe(this._bindedForceUpdate),this._instance.visibility().subscribe(this._bindedForceUpdate),this.forceUpdate())}))}componentWillUnmount(){this._promise=null,null!==this._instance&&(this._instance.canBeShown().unsubscribe(this._bindedForceUpdate),this._instance.visibility().unsubscribe(this._bindedForceUpdate),this._instance=null)}render(){return null!==this._instance&&this._instance.canBeShown().value()?n.createElement(E,{id:this.props.id,icon:Vt,isActive:this._instance.isVisible(),onClick:this._handleClick,tooltip:Ot}):null}_trackClick(e){(0,M.trackButtonClick)("left toolbar","favorite toolbar",e?"on":"off")}}var Ht=o(24154),jt=o(889110),Ut=o(399749),Zt=o(189543);const Gt=(0,ce.mergeThemes)(Ut.DEFAULT_HINT_THEME,Zt),qt={...jt.defaultHintStateHandler,getHintState:e=>!e||l.getBool(e,!0)};function Kt(e){return n.createElement(Ht.HintReferenceable,{theme:Gt,text:k.t(null,void 0,o(501452)),placement:"auto",settingsHintKey:"hint.magnet",buttonText:k.t(null,void 0,o(232519)),placeHolderClassName:e.className,hintStateHandler:qt})}var Xt=o(590729),Jt=o(515072),$t=o(48814);const Yt={[Xt.MagnetMode.WeakMagnet]:{id:Xt.MagnetMode.WeakMagnet,name:"weakMagnet",icon:R.drawingToolsIcons.magnet,localizedName:k.t(null,void 0,o(3519))},[Xt.MagnetMode.StrongMagnet]:{id:Xt.MagnetMode.StrongMagnet,name:"strongMagnet",icon:R.drawingToolsIcons.strongMagnet,localizedName:k.t(null,void 0,o(494593))}},Qt=(0,ce.mergeThemes)(ct.menuItemSwitcherMobileTheme,{
label:$t.switcherLabel}),eo=(0,ce.mergeThemes)(lt.DEFAULT_MENU_ITEM_SWITCHER_THEME,{label:$t.switcherLabel});function to(e){const{isSmallTablet:t}=e,i=(0,ht.useWatchedValueReadonly)({watchedValue:(0,Jt.magnetEnabled)()}),s=(0,ht.useWatchedValueReadonly)({watchedValue:(0,Jt.magnetMode)()}),r=(0,ht.useWatchedValueReadonly)({watchedValue:(0,Jt.magnetSnapsToIndicators)()});return n.createElement("div",{className:$t.toolButtonMagnet},n.createElement(pe,{"data-name":"magnet-button",buttonIcon:Yt[s].icon,buttonTitle:g.lineToolsInfo.magnet.localizedName,dropdownTooltip:k.t(null,void 0,o(141964)),isActive:i,onClickButton:function(){const e=!i;(0,Ye.trackEvent)("GUI","Chart Left Toolbar","magnet mode "+(e?"on":"off")),(0,M.trackButtonClick)("left toolbar","magnet mode",e?"on":"off");(0,Jt.setIsMagnetEnabled)(e)},buttonHotKey:g.lineToolsInfo.magnet.hotKey,checkable:!0,isSmallTablet:t,onArrowClick:function(){(0,M.trackButtonClick)("left toolbar","magnet mode","menu")}},Object.values(Yt).map((({id:e,name:o,localizedName:r,icon:l})=>n.createElement(it.AccessibleMenuItem,{key:e,className:t?$t.toolButtonMagnet__menuItem:void 0,"data-name":o,icon:l,isActive:i&&s===e,label:r,onClick:a,onClickArg:e}))),n.createElement(n.Fragment,null,n.createElement(et.PopupMenuSeparator,null),n.createElement(lt.MenuItemSwitcher,{key:"snap-to-indicators",checked:r,onChange:function(e){(0,Ye.trackEvent)("GUI","Chart Left Toolbar","magnet snaps "+(e?"on":"off")),(0,M.trackButtonClick)("left toolbar","magnet snaps",e?"on":"off");(0,Jt.setMagnetSnapsToIndicators)(e)},label:k.t(null,void 0,o(106545)),value:"snapToIndicatorsSwitcher",theme:t?Qt:eo,disabled:!i}))),i&&n.createElement(Kt,{className:$t.toolButtonMagnet__hintPlaceholder}));function a(e){void 0!==e&&((0,Ye.trackEvent)("GUI","Magnet mode",e===Xt.MagnetMode.WeakMagnet?"Weak":"Strong"),(0,Jt.setMagnetMode)(e))}}var oo=o(912749),no=o(962624),io=o(982528);var so=o(320116),ro=o(557655),ao=o(841945),lo=o(71353),co=o(642709),ho=o(18182),uo=o(272644);const po=(0,ao.bindScreenshot)((function(e){return n.createElement(ho.MatchMedia,{rule:co.DialogBreakpoints.TabletSmall},(t=>n.createElement(pe,{"data-name":e.id,buttonTitle:e.tooltip,buttonIcon:uo,isSmallTablet:t,openDropdownByClick:!0},n.createElement(lo.ToolWidgetScreenshotContent,{...e}))))}));var mo=o(439235),go=o(53806),_o=o(445397);const vo={1:{id:1,name:"layoutDrawingSync",icon:mo,localizedName:k.t(null,void 0,o(893027)),tooltip:k.t(null,void 0,o(859377))},2:{id:2,name:"globalDrawingSync",icon:go,localizedName:k.t(null,void 0,o(403521)),tooltip:k.t(null,void 0,o(417415))}};function bo(){const{drawOnAllChartsMode:e,drawOnAllCharts:t}=(0,h.properties)().childs(),[o,i]=(0,n.useState)(s());return n.useEffect((()=>{const o={};function n(){i(s())}return e.subscribe(o,n),t.subscribe(o,n),()=>{e.unsubscribe(o,n),t.unsubscribe(o,n)}}),[]),n.useMemo((()=>({state:o,toggleDrawingsSyncMode:r,setDrawingsSyncMode:a})),[o]);function s(){return{drawOnAllChartsMode:e.value(),drawOnAllCharts:t.value()}}function r(){!function(){const{drawOnAllCharts:e}=(0,
h.properties)().childs();(0,Xe.allowSavingDefaults)(!0),e.setValue(!e.value()),(0,Xe.allowSavingDefaults)(!1)}();{const e=(0,h.properties)().childs().drawOnAllCharts.value();(0,Ye.trackEvent)("GUI","Chart Left Toolbar","sync "+(e?"on":"off")),(0,M.trackButtonClick)("left toolbar","sync",e?"on":"off")}}function a(e){void 0!==e&&(!function(e){const{drawOnAllCharts:t,drawOnAllChartsMode:o}=(0,h.properties)().childs();(0,Xe.allowSavingDefaults)(!0),o.setValue(e),t.setValue(!0),(0,Xe.allowSavingDefaults)(!1)}(e),(0,Ye.trackEvent)("GUI","Chart Left Toolbar",`sync mode ${e}`))}}function fo(e){const{isSmallTablet:t=!1}=e,{state:{drawOnAllCharts:i,drawOnAllChartsMode:s},toggleDrawingsSyncMode:r,setDrawingsSyncMode:a}=bo(),l=vo[s];return n.createElement(pe,{"data-name":"drawingSyncMode-button",buttonIcon:l.icon,buttonTitle:i?l.tooltip:k.t(null,void 0,o(994309)),onClickButton:r,dropdownTooltip:k.t(null,void 0,o(81828)),isSmallTablet:t,isActive:i,checkable:!0},Object.values(vo).map((({id:e,name:o,icon:r,localizedName:l})=>n.createElement(it.AccessibleMenuItem,{key:e,"data-name":o,icon:r,isActive:i&&e===s,label:l,onClick:a,onClickArg:e,className:t?_o.popupMenuItem:void 0}))))}var wo=o(384364);class Co extends n.PureComponent{constructor(e){super(e),this._syncVisibleState=()=>{this.setState({isVisible:this._isMultipleLayout()})},this.state={isVisible:this._isMultipleLayout()}}componentDidMount(){this.props.layout.subscribe(this._syncVisibleState)}componentWillUnmount(){this.props.layout.unsubscribe(this._syncVisibleState)}render(){return this.state.isVisible?this.props.children:n.createElement("div",null)}_isMultipleLayout(){return(0,wo.isMultipleLayout)(this.props.layout.value())}}var To=o(332585);const yo={chartWidgetCollection:o(719036).any.isRequired};var Eo=o(371830),xo=o(960873);const So=!!window.user.is_pro,ko=(c.enabled("right_toolbar"),c.enabled("keep_object_tree_widget_in_right_toolbar"),c.enabled("saveload_separate_drawings_storage")),Lo=(0,p.onWidget)(),Mo=new d.Delegate,Po=Ye.trackEvent.bind(null,"GUI","Chart Left Toolbar"),Do=(e,t)=>Po(`${e} ${t?"on":"off"}`);class Ao extends n.PureComponent{constructor(e){super(e),this._grayedTools={},this._handleMeasureClick=()=>{No("measure")},this._handleZoomInClick=()=>{No("zoom in")},this._handleDrawingClick=e=>{Do("drawing mode",e),No("drawing mode",e?"on":"off")},this._handleLockClick=e=>{Do("lock all drawing",e),No("lock",e?"on":"off")},this._handleSyncClick=e=>{Do("sync",e),No("sync",e?"on":"off")},this._handleObjectsTreeClick=()=>{this._activeChartWidget().showObjectsTreeDialog(),No("object tree")},this._handleMouseOver=e=>{(0,no.hoverMouseEventFilter)(e)&&this.setState({isHovered:!0})},this._handleMouseOut=e=>{(0,no.hoverMouseEventFilter)(e)&&this.setState({isHovered:!1})},this._handleChangeVisibility=e=>{this.setState({isVisible:e})},this._handleEsc=()=>{h.resetToCursor(!0)},this._handleWidgetbarSettled=e=>{this.setState({isWidgetbarVisible:Boolean(window.widgetbar?.visible().value()),widgetbarSettled:e})},this._handleWidgetbarVisible=e=>{this.setState({
isWidgetbarVisible:e})},h.init(),this._toolsFilter=new _(this.props.drawingsAccess),this._filteredLineTools=v.lineTools.reduce(((e,t)=>{const{id:o,title:n,trackLabel:i}=t,s=e=>(0,v.isLineToolOption)(e)||this._toolsFilter.isToolEnabled(g.lineToolsInfo[e.name].localizedName),r=[];return(0,v.isLineToolsGroupWithSections)(t)?t.sections.forEach((e=>{const t=e.items.filter(s);t.length&&r.push({title:e.title},...t)})):r.push(...t.items.filter(s)),r.length&&e.push({id:o,title:n,trackLabel:i,items:r}),e}),[]),this._filteredLineTools.forEach((e=>{e.items.forEach((e=>{"name"in e&&(this._grayedTools[e.name]=this._toolsFilter.isToolGrayed(g.lineToolsInfo[e.name].localizedName))}))})),this.state={isHovered:!1,isVisible:b.isDrawingToolbarVisible.value(),isWidgetbarVisible:Boolean(window.widgetbar?.visible().value()),widgetbarSettled:void 0!==window.widgetbar},this._features={favoriting:!this.props.readOnly&&!Lo&&c.enabled("items_favoriting"),multicharts:c.enabled("support_multicharts"),tools:!Lo||!1},this._registry={chartWidgetCollection:this.props.chartWidgetCollection},this._negotiateResizer()}componentDidMount(){b.isDrawingToolbarVisible.subscribe(this._handleChangeVisibility),C.globalCloseDelegate.subscribe(this,this._handleGlobalClose),this._tool=h.tool.spawn(),this._tool.subscribe(this._updateHotkeys.bind(this)),this._initHotkeys(),this.props.widgetbarSettled&&(this.props.widgetbarSettled.subscribe(this,this._handleWidgetbarSettled),p.CheckMobile.any()&&window.widgetbar?.visible().subscribe(this._handleWidgetbarVisible))}componentWillUnmount(){window.widgetbar?.visible().unsubscribe(this._handleWidgetbarVisible),b.isDrawingToolbarVisible.unsubscribe(this._handleChangeVisibility),C.globalCloseDelegate.unsubscribe(this,this._handleGlobalClose),this._tool.destroy(),this._hotkeys.destroy()}componentDidUpdate(e,t){const{isVisible:o,widgetbarSettled:n}=this.state;o!==t.isVisible&&(u.emit("toggle_sidebar",!o),l.setValue("ChartDrawingToolbarWidget.visible",o),this._negotiateResizer()),t.widgetbarSettled!==n&&n&&p.CheckMobile.any()&&window.widgetbar?.visible().subscribe(this._handleWidgetbarVisible)}render(){const{bgColor:e,chartWidgetCollection:t,readOnly:o}=this.props,{isHovered:s,isVisible:r}=this.state,l={backgroundColor:e&&`#${e}`};const c=()=>!!this._features.tools&&(!this.state.isWidgetbarVisible&&p.CheckMobile.any()||(0,m.isOnMobileAppPage)("new"));return n.createElement(Eo.RegistryProvider,{validation:yo,value:this._registry},n.createElement(so.CloseDelegateContext.Provider,{value:Mo},n.createElement(To.DrawerManager,null,n.createElement(ho.MatchMedia,{rule:co.DialogBreakpoints.TabletSmall},(e=>n.createElement(ro.Toolbar,{id:"drawing-toolbar",className:i(xo.drawingToolbar,{[xo.isHidden]:!r}),style:l,onClick:this.props.onClick,onContextMenu:io.preventDefaultForContextMenu,orientation:"vertical"},n.createElement(f.VerticalScroll,{onScroll:this._handleGlobalClose,isVisibleFade:a.mobiletouch,isVisibleButtons:!a.mobiletouch&&s,isVisibleScrollbar:!1,onMouseOver:this._handleMouseOver,onMouseOut:this._handleMouseOut
},n.createElement("div",{className:xo.inner},!o&&n.createElement("div",{className:xo.group,style:l},this._filteredLineTools.map((o=>n.createElement(vt,{key:o.id,"data-name":o.id,chartWidgetCollection:t,favoriting:this._features.favoriting&&!("linetool-group-cursors"===o.id&&(0,m.isOnMobileAppPage)("any")),grayedTools:this._grayedTools,dropdownTooltip:o.title,lineTools:o.items,isSmallTablet:e,trackLabel:o.trackLabel}))),this._toolsFilter.isToolEnabled("Font Icons")&&n.createElement(qe,{"data-name":"linetool-group-font-icons",isGrayed:this._grayedTools["Font Icons"],isSmallTablet:e})),!o&&n.createElement("div",{className:xo.group,style:l},n.createElement($e,{toolName:"measure",onClick:this._handleMeasureClick}),n.createElement($e,{toolName:"zoom",onClick:this._handleZoomInClick}),n.createElement(Qe,{chartWidgetCollection:t})),!o&&n.createElement("div",{className:xo.group,style:l},n.createElement(to,{isSmallTablet:e}),this._features.tools&&n.createElement(Je,{property:h.properties().childs().stayInDrawingMode,saveDefaultOnChange:!0,toolName:"drawginmode",onClick:this._handleDrawingClick}),this._features.tools&&n.createElement(Je,{property:h.lockDrawings(),toolName:"lockAllDrawings",onClick:this._handleLockClick}),this._features.tools&&n.createElement(It,{isSmallTablet:e}),this._features.tools&&this._features.multicharts&&(So?n.createElement(fo,{isSmallTablet:e}):n.createElement(n.Fragment,null,ko?n.createElement(Je,{property:h.drawOnAllCharts(),saveDefaultOnChange:!0,toolName:"SyncDrawing",onClick:this._handleSyncClick}):n.createElement(Co,{layout:t.layout},n.createElement(Je,{property:h.drawOnAllCharts(),saveDefaultOnChange:!0,toolName:"SyncDrawing",onClick:this._handleSyncClick}))))),!o&&this._features.tools&&n.createElement("div",{className:xo.group,style:l},n.createElement(xt,{chartWidgetCollection:t,isSmallTablet:e,toolName:"removeAllDrawingTools"})),n.createElement("div",{className:xo.fill,style:l}),!o&&(this._features.tools||this.props.screenshotButton)&&n.createElement("div",{className:i(xo.group,xo.lastGroup),style:l},this.props.screenshotButton&&n.createElement(po,{id:oo.DrawingToolbarComponentIds.Screenshot}),this._features.tools&&this._features.favoriting&&n.createElement(zt,{id:oo.DrawingToolbarComponentIds.FavoriteDrawings}),c()&&n.createElement(x,{id:oo.DrawingToolbarComponentIds.ObjectTree,action:this._handleObjectsTreeClick,toolName:"showObjectsTree"}))))))),undefined)))}_activeChartWidget(){return this.props.chartWidgetCollection.activeChartWidget.value()}_negotiateResizer(){this.props.resizerBridge.negotiateWidth(this.state.isVisible?52:0)}_handleGlobalClose(){Mo.fire()}_updateHotkeys(){this._hotkeys.promote()}_initHotkeys(){this._hotkeys=w.createGroup({desc:"Drawing Toolbar"}),this._hotkeys.add({desc:"Reset",hotkey:27,handler:()=>this._handleEsc(),isDisabled:()=>h.toolIsCursor(h.tool.value())})}}function No(e,t){(0,M.trackButtonClick)("left toolbar",e,t),Po((0,r.capitalizeFirstLetter)(e))}},849043:(e,t,o)=>{"use strict";o.d(t,{isLineTool:()=>d,isLineToolOption:()=>p,isLineToolSwitcherOption:()=>m,
isLineToolsGroupWithSections:()=>u,lineTools:()=>h,lineToolsFlat:()=>g});var n=o(444372),i=o(638456),s=(o(931924),o(125226)),r=o(927104),a=o(974288),l=o(536794);const c=!(0,i.onWidget)(),h=[{id:"linetool-group-cursors",title:n.t(null,void 0,o(681578)),sections:[{items:[{name:"cursor"},{name:"dot"},{name:"arrow"},{name:"demonstration"},r.performanceTestMode?{name:"performance"}:null].filter(l.isExistent)},{items:[{name:"eraser"},i.CheckMobile.any()?null:{type:"switcher",reactKey:"values-tooltip-on-long-press",label:n.t(null,void 0,o(784145)),value:"valuesTooltipOnLongPress",watchedValue:a.chartFloatingTooltipEnabledWV}].filter(l.isExistent)}],trackLabel:"cursors"},{id:"linetool-group-trend-line",title:n.t(null,void 0,o(948773)),sections:[{title:n.t(null,void 0,o(156982)),items:[{name:"LineToolTrendLine"},{name:"LineToolRay"},{name:"LineToolInfoLine"},{name:"LineToolExtended"},{name:"LineToolTrendAngle"},{name:"LineToolHorzLine"},{name:"LineToolHorzRay"},{name:"LineToolVertLine"},{name:"LineToolCrossLine"}]},{title:n.t(null,void 0,o(159934)),items:[{name:"LineToolParallelChannel"},{name:"LineToolRegressionTrend"},{name:"LineToolFlatBottom"},{name:"LineToolDisjointAngle"}]},{title:n.t(null,void 0,o(536167)),items:[{name:"LineToolPitchfork"},{name:"LineToolSchiffPitchfork2"},{name:"LineToolSchiffPitchfork"},{name:"LineToolInsidePitchfork"}]}],trackLabel:"trend line tools"},{id:"linetool-group-gann-and-fibonacci",title:n.t(null,void 0,o(602654)),sections:[{title:n.t(null,void 0,o(26578)),items:[{name:"LineToolFibRetracement"},{name:"LineToolTrendBasedFibExtension"},{name:"LineToolFibChannel"},{name:"LineToolFibTimeZone"},{name:"LineToolFibSpeedResistanceFan"},{name:"LineToolTrendBasedFibTime"},{name:"LineToolFibCircles"},{name:"LineToolFibSpiral"},{name:"LineToolFibSpeedResistanceArcs"},{name:"LineToolFibWedge"},{name:"LineToolPitchfan"}]},{title:n.t(null,void 0,o(451494)),items:[{name:"LineToolGannSquare"},{name:"LineToolGannFixed"},{name:"LineToolGannComplex"},{name:"LineToolGannFan"}]}],trackLabel:"gan and fib tools"},{id:"linetool-group-patterns",title:n.t(null,void 0,o(846417)),sections:[{title:n.t(null,void 0,o(846417)),items:[{name:"LineTool5PointsPattern"},{name:"LineToolCypherPattern"},{name:"LineToolHeadAndShoulders"},{name:"LineToolABCD"},{name:"LineToolTrianglePattern"},{name:"LineToolThreeDrivers"}]},{title:n.t(null,void 0,o(44255)),items:[{name:"LineToolElliottImpulse"},{name:"LineToolElliottCorrection"},{name:"LineToolElliottTriangle"},{name:"LineToolElliottDoubleCombo"},{name:"LineToolElliottTripleCombo"}]},{title:n.t(null,void 0,o(177915)),items:[{name:"LineToolCircleLines"},{name:"LineToolTimeCycles"},{name:"LineToolSineLine"}]}],trackLabel:"patterns"},{id:"linetool-group-prediction-and-measurement",title:n.t(null,void 0,o(501410)),sections:[{title:n.t(null,void 0,o(375747)),items:[{name:"LineToolRiskRewardLong"},{name:"LineToolRiskRewardShort"},{name:"LineToolPrediction"},{name:"LineToolBarsPattern"},{name:"LineToolGhostFeed"},{name:"LineToolProjection"}].filter(l.isExistent)},{
title:n.t(null,void 0,o(669260)),items:[{name:"LineToolAnchoredVWAP"},{name:"LineToolFixedRangeVolumeProfile"},{name:"LineToolAnchoredVolumeProfile"}].filter(l.isExistent)},{title:n.t(null,void 0,o(897050)),items:[{name:"LineToolPriceRange"},{name:"LineToolDateRange"},{name:"LineToolDateAndPriceRange"}]}],trackLabel:"prediction tools"},{id:"linetool-group-geometric-shapes",title:n.t(null,void 0,o(22145)),sections:[{title:n.t(null,void 0,o(565695)),items:[{name:"LineToolBrush"},{name:"LineToolHighlighter"}]},{title:n.t(null,void 0,o(819147)),items:[{name:"LineToolArrowMarker"},{name:"LineToolArrow"},{name:"LineToolArrowMarkUp"},{name:"LineToolArrowMarkDown"},null,null].filter(l.isExistent)},{title:n.t(null,void 0,o(65781)),items:[{name:"LineToolRectangle"},{name:"LineToolRotatedRectangle"},{name:"LineToolPath"},{name:"LineToolCircle"},{name:"LineToolEllipse"},{name:"LineToolPolyline"},{name:"LineToolTriangle"},{name:"LineToolArc"},{name:"LineToolBezierQuadro"},{name:"LineToolBezierCubic"}]}],trackLabel:"geometric shapes"},{id:"linetool-group-annotation",title:n.t(null,void 0,o(432064)),sections:[{title:n.t(null,void 0,o(565831)),items:[{name:"LineToolText"},{name:"LineToolTextAbsolute"},{name:"LineToolTextNote"},{name:"LineToolPriceNote"},{name:"LineToolNote"},{name:"LineToolTable"},{name:"LineToolCallout"},{name:"LineToolComment"},{name:"LineToolPriceLabel"},{name:"LineToolSignpost"},{name:"LineToolFlagMark"}].filter(l.isExistent)},{title:n.t(null,void 0,o(93111)),items:[c?{name:"LineToolImage"}:null,!c||(0,s.isFeatureEnabled)("hide_tweet_drawingtool")||(0,i.isSymphonyEmbed)()?null:{name:"LineToolTweet"},c&&!(0,i.isSymphonyEmbed)()?{name:"LineToolIdea"}:null].filter(l.isExistent)}],trackLabel:"annotation tools"}];function u(e){return"sections"in e}function d(e){return"name"in e}function p(e){return"type"in e}function m(e){return p(e)&&"switcher"===e.type}const g=h.map((function(e){return u(e)?e.sections.map((e=>e.items.filter(d))).flat():e.items.filter(d)})).flat()},617557:(e,t,o)=>{"use strict";o.d(t,{VerticalScroll:()=>d});var n=o(50959),i=o(497754),s=o.n(i),r=o(79205),a=o(913950),l=o(335048),c=o(389401),h=o(65380),u=o(661380);class d extends n.PureComponent{constructor(e){super(e),this._scroll=null,this._handleScrollTop=()=>{this.animateTo(Math.max(0,this.currentPosition()-(this.state.heightWrap-50)))},this._handleScrollBot=()=>{this.animateTo(Math.min((this.state.heightContent||0)-(this.state.heightWrap||0),this.currentPosition()+(this.state.heightWrap-50)))},this._handleResizeWrap=([e])=>{this.setState({heightWrap:e.contentRect.height})},this._handleResizeContent=([e])=>{this.setState({heightContent:e.contentRect.height})},this._handleScroll=()=>{const{onScroll:e}=this.props;e&&e(this.currentPosition(),this.isAtTop(),this.isAtBot()),this._checkButtonsVisibility()},this._checkButtonsVisibility=()=>{const{isVisibleTopButton:e,isVisibleBotButton:t}=this.state,o=this.isAtTop(),n=this.isAtBot();o||e?o&&e&&this.setState({isVisibleTopButton:!1}):this.setState({isVisibleTopButton:!0}),n||t?n&&t&&this.setState({
isVisibleBotButton:!1}):this.setState({isVisibleBotButton:!0})},this.state={heightContent:0,heightWrap:0,isVisibleBotButton:!1,isVisibleTopButton:!1}}componentDidMount(){this._checkButtonsVisibility()}componentDidUpdate(e,t){t.heightWrap===this.state.heightWrap&&t.heightContent===this.state.heightContent||this._handleScroll()}currentPosition(){return this._scroll?this._scroll.scrollTop:0}isAtTop(){return this.currentPosition()<=1}isAtBot(){return this.currentPosition()+this.state.heightWrap>=this.state.heightContent-1}animateTo(e,t=l.dur){const o=this._scroll;o&&(0,a.doAnimate)({onStep(e,t){o.scrollTop=t},from:o.scrollTop,to:Math.round(e),easing:l.easingFunc.easeInOutCubic,duration:t})}render(){const{children:e,isVisibleScrollbar:t,isVisibleFade:o,isVisibleButtons:i,onMouseOver:a,onMouseOut:l}=this.props,{heightContent:d,heightWrap:p,isVisibleBotButton:m,isVisibleTopButton:g}=this.state;return n.createElement(c.Measure,{onResize:this._handleResizeWrap},(_=>n.createElement("div",{className:h.wrap,onMouseOver:a,onMouseOut:l,ref:_},n.createElement("div",{className:s()(h.scrollWrap,{[h.noScrollBar]:!t}),onScroll:this._handleScroll,ref:e=>this._scroll=e},n.createElement(c.Measure,{onResize:this._handleResizeContent},(t=>n.createElement("div",{className:h.content,ref:t},e)))),o&&n.createElement("div",{className:s()(h.fadeTop,{[h.isVisible]:g&&d>p})}),o&&n.createElement("div",{className:s()(h.fadeBot,{[h.isVisible]:m&&d>p})}),i&&n.createElement("div",{className:s()(h.scrollTop,{[h.isVisible]:g&&d>p}),onClick:this._handleScrollTop},n.createElement("div",{className:h.iconWrap},n.createElement(r.Icon,{icon:u,className:h.icon}))),i&&n.createElement("div",{className:s()(h.scrollBot,{[h.isVisible]:m&&d>p}),onClick:this._handleScrollBot},n.createElement("div",{className:h.iconWrap},n.createElement(r.Icon,{icon:u,className:h.icon}))))))}}d.defaultProps={isVisibleScrollbar:!0}},738979:(e,t,o)=>{"use strict";o.d(t,{HEADER_TOOLBAR_HEIGHT_COLLAPSED:()=>s,HEADER_TOOLBAR_HEIGHT_EXPANDED:()=>i});var n=o(541183);const i=parseInt(n["css-value-header-toolbar-height"]),s=3},854294:(e,t,o)=>{"use strict";o.d(t,{CharCodeIcon:()=>r});var n=o(50959),i=o(79205),s=o(929230);function r(e){const{fallback:t,...o}=e;return n.createElement(n.Suspense,{fallback:t??null},n.createElement(a,{...o}))}const a=n.lazy((async()=>{const{getSvgContentForCharCode:e}=await o.e(27987).then(o.bind(o,841970));return{default:t=>{const{charCode:o}=t,r=e(o)??void 0;return n.createElement(i.Icon,{icon:r,className:s.iconContainer})}}}))},228054:(e,t,o)=>{"use strict";o.d(t,{FLOATING_TOOLBAR_REACT_WIDGETS_CLASS:()=>C,FloatingToolbar:()=>y});var n=o(224743),i=o(778785),s=o(335048),r=o(62802),a=o(547465),l=o(820028),c=o(357517);class h{constructor(){this._retries=5,this._cache=null,this._tryLoad=(e,t)=>{this._retries=this._retries-1;this._startLoading(e).then(t,0!==this._retries?o=>{(0,c.isAbortError)(o)||setTimeout((()=>this._tryLoad(e,t)),3e3)}:void 0)}}load(e){return this._cache||(this._cache=new Promise(this._tryLoad.bind(this,e??null))),this._cache}}class u extends h{
_startLoading(){return Promise.all([o.e(11553),o.e(42377)]).then(o.bind(o,825806)).then((e=>e.HammerJS))}}var d=o(49437),p=o(404573),m=o(462140),g=o(969680),_=o(998034);class v{constructor(e){this._items=[],this._backends=[],this._helper=null,this._handleDragStart=e=>{const t=this._getAllItems()[e];if(!(t instanceof HTMLElement)||null!==this._helper)return;t.style.zIndex="10";const o=this._options.source,n=t.getBoundingClientRect(),i=o.getBoundingClientRect();this._helper={movedIndexes:new Set,draggableIndex:e,leftBorder:i.left+b(o,"padding-left")+b(o,"border-left-width")-n.left-1,rightBorder:i.right-b(o,"padding-right")-b(o,"border-right-width")-n.right+1,topBorder:i.top+b(o,"padding-top")+b(o,"border-top-width")-n.top-1,bottomBorder:i.bottom-b(o,"padding-bottom")-b(o,"border-bottom-width")-n.bottom+1},this._options.start?.(e)},this._handleDragMove=e=>{if(null===this._helper)return;const{topBorder:t,bottomBorder:o,leftBorder:n,rightBorder:i,draggableIndex:s}=this._helper,r=this._getAllItems()[s],{current:a,initial:l}=e.detail,{axis:c}=this._options,h=a.clientX-l.clientX,u=a.clientY-l.clientY;if("y"===c){const e=(0,m.clamp)(u,t,o);r.style.transform=`translateY(${e}px)`}if("x"===c){const e=(0,m.clamp)(h,n,i);r.style.transform=`translateX(${e}px)`}this._updateIdleItemsStateAndPosition()},this._handleDragStop=()=>{if(null===this._helper)return;this._getAllItems()[this._helper.draggableIndex].style.zIndex="";const e=this._applyNewItemsOrder();this._cleanup(),this._initBackends(),null!==e&&this._options.stop?.(e)},this._options=e,this._initBackends()}destroy(){this._cleanup();for(const e of this._backends)e.destroy()}updateOptions(e){(0,_.default)(this._options,e)}updateList(){this._cleanup(),this._initBackends()}_initBackends(){for(const e of this._backends)e.destroy();const e=[];this._getAllItems().forEach(((t,o)=>{e.push(new p.PointerBackend({handle:t,onDragStart:()=>this._handleDragStart(o),onDragMove:this._handleDragMove,onDragStop:this._handleDragStop,distance:5,rootElement:window.document.documentElement}))})),this._backends=e}_cleanup(){this._getAllItems().forEach((e=>{e.style.transform=""})),this._helper=null,this._items=[]}_getAllItems(){return this._items?.length||(this._items=Array.from(this._options.source.children)),this._items}_updateIdleItemsStateAndPosition(){if(null===this._helper)return;const{axis:e}=this._options,{draggableIndex:t}=this._helper,o=this._getAllItems(),n=o[t].getBoundingClientRect(),i=n.top+n.height/2,s=n.left+n.width/2,r="x"===e?s:i,a=new Set;o.forEach(((o,i)=>{if(t===i)return;const s=o.getBoundingClientRect(),l=s.left+s.width/2,c=s.top+s.height/2,h="x"===e?l:c,u=t>i,d=(0,g.isRtl)();let p;if(p=u?d&&r>=h||!d&&r<=h:d&&r<=h||!d&&r>=h,p){a.add(i);const t=u?d?-1:1:d?1:-1;switch(e){case"x":o.style.transform=`translateX(${t*n.width}px)`;break;case"y":o.style.transform=`translateY(${t*n.height}px)`}}else o.style.transform="",a.delete(i)})),this._helper.movedIndexes=a}_applyNewItemsOrder(){if(null===this._helper)return null
;const{draggableIndex:e,movedIndexes:t}=this._helper,o=this._getAllItems(),n=o[e];let i=null;const s=[];o.forEach(((o,n)=>{if(n===e)return;const i=e>n;if(!t.has(n))return void(s[n]=o);s[i?n+1:n-1]=o}));for(let e=0;e<o.length;e++){void 0===s[e]&&(i=e,s[e]=n)}return t.size&&s.forEach((e=>{this._options.source.appendChild(e)})),i}}function b(e,t){return parseInt(function(e,t){return getComputedStyle(e,null).getPropertyValue(t)}(e,t))}var f=o(760863),w=o(25388);o(500413);const C="floating-toolbar-react-widgets",T=`<div class="tv-floating-toolbar i-closed i-hidden"><div class="tv-floating-toolbar__widget-wrapper"><div class="tv-floating-toolbar__drag js-drag">${w}</div><div class="tv-floating-toolbar__content js-content"></div><div class="${C}"></div></div></div>`;class y{constructor(e){this._widget=document.createElement("div"),this._isVertical=!1,this._hiddingTimeoutId=null,this._visibility=new l.WatchedValue(!1),this._windowResizeListener=this._onWindowResize.bind(this),this._reorderedDelegate=new a.Delegate,this._startSortableDelegate=new a.Delegate,this._responsiveResizeFunction=null,this._showTimeStamp=null,this._draggable=null,this._sortable=null,this._preventClickUntilAnimation=e=>{null!==this._showTimeStamp&&performance.now()-this._showTimeStamp<this.hideDuration()&&e.stopPropagation()},y._toolbars.push(this),this._options=e,this._widget=(0,f.parseHtmlElement)(T),this._content=this._widget.getElementsByClassName("js-content").item(0),this._reactWidgetsContainer=this._widget.getElementsByClassName(C).item(0),this._setZIndex(y._startZIndex+y._toolbars.length-1),this._options.addClass&&(this._widget.className+=` ${this._options.addClass}`),this._options["data-name"]&&(this._widget.dataset.name=this._options["data-name"]),this._options.layout&&"auto"!==this._options.layout&&(this._isVertical="vertical"===this._options.layout,this._updateLayoutType()),this._widget.addEventListener("click",this._preventClickUntilAnimation,!0)}destroy(){this.hide(!0),y._toolbars.splice(y._toolbars.indexOf(this),1),this._widget.removeEventListener("click",this._preventClickUntilAnimation,!0),document.body.contains(this._widget)&&document.body.removeChild(this._widget),null!==this._draggable&&this._draggable.destroy(),null!==this._sortable&&this._sortable.destroy(),this._widget.innerHTML="",this._responsiveResizeFunction=null}setResponsiveResizeFunc(e){this._responsiveResizeFunction=e}isVisible(){return this._visibility.value()}visibility(){return this._visibility.readonly()}isVertical(){return this._isVertical}show(e){this.isVisible()||(document.body.contains(this._widget)||(this._init(),document.body.appendChild(this._widget)),this._setHiddingTimeout(null),window.addEventListener("resize",this._windowResizeListener),this.raise(),this._visibility.setValue(!0),this._showTimeStamp=performance.now(),this._widget.classList.contains("i-hidden")?(this._widget.classList.remove("i-hidden"),setTimeout((()=>{this.isVisible()&&(e?.(),this._widget.classList.remove("i-closed"))}))):(e?.(),this._widget.classList.remove("i-closed")),
this._onWindowResize())}hide(e=!1){if(!this.isVisible())return;const t=this._widget.classList.contains("i-closed");if(this._widget.classList.add("i-closed"),this._visibility.setValue(!1),e||t)this._setHiddingTimeout(null),this._widget.classList.add("i-hidden");else{const e=setTimeout((()=>{this._setHiddingTimeout(null),this._widget.classList.add("i-hidden")}),this.hideDuration());this._setHiddingTimeout(e)}window.removeEventListener("resize",this._windowResizeListener)}raise(){y._toolbars.length+y._startZIndex!==this._zIndex()&&(y._toolbars.splice(y._toolbars.indexOf(this),1),y._toolbars.push(this),y._updateAllZIndexes())}hideDuration(){return.75*s.dur}addWidget(e,t={}){const o=this.widgetsCount();if(void 0===t.index&&(t.index=o),t.index<0||t.index>o)throw new Error(`Index must be in [0, ${o}]`);const n=document.createElement("div");n.className="tv-floating-toolbar__widget js-widget",n.appendChild(e);const i=t.index===o?null:this._content.childNodes.item(t.index);this._content.insertBefore(n,i),this._onWindowResize(),this._sortable?.updateList()}getReactWidgetContainer(){return this._reactWidgetsContainer}onWidgetsReordered(){return this._reorderedDelegate}onSortableStart(){return this._startSortableDelegate}removeWidget(e){const t=this._findWrapperForWidget(e);t&&(this._content.removeChild(t),this._onWindowResize(),this._sortable?.updateList())}widgetsCount(){return this._content.childNodes.length}showWidget(e){const t=this._findWrapperForWidget(e);t&&t.classList.remove("i-hidden")}hideWidget(e){const t=this._findWrapperForWidget(e);t&&t.classList.add("i-hidden")}removeWidgets(){for(;this._content.firstChild;)this._content.removeChild(this._content.firstChild);this._onWindowResize()}onContextMenu(e){if(i.mobiletouch){(new u).load().then((t=>{const o=new t(this._widget);o.get("press").set({time:500}),o.on("press",(t=>{this._preventWidgetTouchEndEvent(),e(t.srcEvent)}))}))}else this._widget.addEventListener("contextmenu",e)}checkPosition(){const e=this._getCorrectedWidgetRect(),t={left:e.left,top:e.top};this._correctPosition(t),e.left===t.left&&e.top===t.top||(this._widget.style.left=t.left+"px",this._widget.style.top=t.top+"px")}_determineCurrentLayoutVertical(e){const t=this._isVertical?e.height:e.width;return window.innerWidth<t&&window.innerWidth<window.innerHeight}_getWidget(){return this._widget}_findWrapperForWidget(e){const t=this._content.getElementsByClassName("js-widget");for(let o=0;o<t.length;++o){const n=t.item(o);if(n.contains(e))return n}return null}_onVerticalChanged(e,t){}_correctPosition(e){const t=this._getCorrectedWidgetRect(),o=this._getSavedPosition(),n=window.innerWidth-t.right,i=window.innerHeight-t.bottom;n<0?e.left=Math.max(0,window.innerWidth-t.width):o&&o.left>e.left&&(e.left=Math.min(e.left+n,o.left)),i<0?e.top=Math.max(0,window.innerHeight-t.height):o&&o.top>e.top&&(e.top=Math.min(e.top+i,o.top))}_getCorrectedWidgetRect(){const e=this._widget.getBoundingClientRect();if(this._widget.classList.contains("i-closed")){const t=1/.925-1,o=e.width*t,n=e.height*t;return{bottom:e.bottom+n/2,
height:e.height+n,left:e.left-o/2,right:e.right+o/2,top:e.top-n/2,width:e.width+o}}return e}_getSavedPosition(){let e;if("device"===this._options.positionStorageType){const t=d.TVLocalStorage.getItem(this._options.positionSettingsKey);e=null!==t?JSON.parse(t):null}else e=(0,r.getJSON)(this._options.positionSettingsKey)??null;return null!==e&&"top"in e&&"left"in e?e:null}_setHiddingTimeout(e){null!==this._hiddingTimeoutId&&clearTimeout(this._hiddingTimeoutId),this._hiddingTimeoutId=e}_preventWidgetTouchEndEvent(){const e=t=>{t.preventDefault(),this._widget.removeEventListener("touchend",e)};this._widget.addEventListener("touchend",e)}_updateLayoutType(){this._widget.classList.toggle("i-vertical",this._isVertical)}_updateAxisOption(){this._sortable&&this._sortable.updateOptions({axis:this._isVertical?"y":"x"})}_onWindowResize(){if("auto"===(this._options.layout||"auto")){const e=this._isVertical,t=this._getCorrectedWidgetRect();this._isVertical=this._determineCurrentLayoutVertical(t),this._updateLayoutType(),e!==this._isVertical&&(this._onVerticalChanged(this._isVertical,e),this._updateAxisOption())}this.checkPosition(),this._resizeResponsive()}_resizeResponsive(){if(null===this._responsiveResizeFunction)return;let e=this._options.layout||"auto";"auto"===e&&(e=this._isVertical?"vertical":"horizontal");const t="vertical"===e?this._widget.clientHeight:this._widget.clientWidth,o=("vertical"===e?window.innerHeight:window.innerWidth)-t;this._responsiveResizeFunction(t,o,e)}_setZIndex(e){this._widget.style.zIndex=String(e)}_zIndex(){return Number(this._widget.style.zIndex)}_loadPosition(){const e=this._getSavedPosition()??this._options.defaultPosition;this._widget.style.left=Math.round(e.left)+"px",this._widget.style.top=Math.round(e.top)+"px",this._onWindowResize()}_savePosition(){const e=this._widget.getBoundingClientRect();if("device"===this._options.positionStorageType)try{d.TVLocalStorage.setItem(this._options.positionSettingsKey,JSON.stringify({left:e.left,top:e.top}))}catch{}else(0,r.setJSON)(this._options.positionSettingsKey,{left:e.left,top:e.top})}_init(){this._loadPosition(),this._draggable=new p.Draggable({source:this._widget,containment:"window",handle:".js-drag",start:n.globalCloseMenu,stop:this._savePosition.bind(this)}),this._initSortable(),this._widget.addEventListener("pointerdown",this.raise.bind(this))}_initSortable(){if(!this._options.allowSortable)return;let e=-1;this._sortable=new v({source:this._content,axis:this._isVertical?"y":"x",start:t=>{(0,n.globalCloseMenu)(),e=t,this._startSortableDelegate.fire(e)},stop:t=>{this._reorderedDelegate.fire(e,t)}})}static _updateAllZIndexes(){y._toolbars.forEach(((e,t)=>{e._setZIndex(y._startZIndex+t)}))}}y._startZIndex=20,y._toolbars=[]},129236:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LineToolPropertiesWidget:()=>Ut})
;var n=o(50959),i=o(632227),s=o(444372),r=o(418450),a=o(931924),l=o(68777),c=o(536794),h=o(87913),u=o(205453),d=o(702067),p=o(497754),m=o.n(p),g=o(650151),_=o(79205),v=o(327711),b=o(68077),f=o(634993),w=o(995683),C=o(283336),T=o(222978),y=o(114631),E=o(206096),x=o(206483),S=o(266611),k=o(579951);const L=(0,w.mergeThemes)(f.DEFAULT_POPUP_MENU_ITEM_THEME,k),M=[{value:1,icon:T},{value:2,icon:y},{value:3,icon:E},{value:4,icon:x}];function P(e){const{multipleProperty:t,title:o,undoText:i,propertyApplier:s,isToolbarFixed:r,className:a,isSmallScreen:l}=e,c=(0,b.useProperty)((0,g.ensureDefined)(t)),h="mixed"===c||!c,u=function(e){const t=M.find((t=>t.value===e));if(!t)return S;return t.icon}(c);return n.createElement(v.ToolWidgetMenu,{className:a,arrow:!1,title:o,"data-name":e["data-name"],menuDataName:`${e["data-name"]}-menu`,verticalDropDirection:r?C.VerticalDropDirection.FromBottomToTop:void 0,horizontalDropDirection:r?C.HorizontalDropDirection.FromRightToLeft:void 0,horizontalAttachEdge:r?C.HorizontalAttachEdge.Right:void 0,verticalAttachEdge:r?C.VerticalAttachEdge.Top:void 0,content:n.createElement("div",null,h?n.createElement("div",{className:k.multiWidth},n.createElement(_.Icon,{icon:S})):n.createElement("div",{className:k.buttonWrap},!l&&n.createElement(_.Icon,{icon:u}),n.createElement("div",{className:p(!l&&k.buttonLabel)},`${c}px`)))},M.map((({value:e,icon:t})=>n.createElement(f.PopupMenuItem,{key:e,theme:L,label:`${e}px`,icon:t,isActive:e===c,onClick:d,onClickArg:e}))));function d(e){e&&t&&(s.beginUndoMacro(i),t.setValue(e,void 0,{applyValue:(e,t)=>{s.setProperty(e,t,i)}}),s.endUndoMacro())}}var D=o(724377),A=o(534328),N=o(311155),B=o(836376),I=o(354543),W=o(737408);function F(e){const{property:t,icon:o,propertyApplier:i,title:s,undoText:r,isToolbarFixed:a,className:l}=e,c=(0,b.useProperty)(t),h=(0,n.useRef)(null),u=c?(0,D.parseRgba)(c)[3]:void 0,d=""===c,p=String(y()).toLowerCase()===I.white,[f,w,T]=(0,N.useCustomColors)();return n.createElement(v.ToolWidgetMenu,{className:l,verticalDropDirection:a?C.VerticalDropDirection.FromBottomToTop:void 0,horizontalDropDirection:a?C.HorizontalDropDirection.FromLeftToRight:void 0,horizontalAttachEdge:a?C.HorizontalAttachEdge.Left:void 0,verticalAttachEdge:a?C.VerticalAttachEdge.Top:void 0,content:n.createElement("div",{className:W.wrap},n.createElement(_.Icon,{className:W.icon,icon:o}),n.createElement("div",{className:W.colorBg},n.createElement("div",{className:m()(W.color,d&&W.multicolor,p&&W.white),style:d?void 0:{backgroundColor:c}}))),arrow:!1,title:s,ref:h,"data-name":e["data-name"],menuDataName:`${e["data-name"]}-menu`},n.createElement(B.ColorPicker,{color:y(),opacity:u,onColorChange:function(e,t){const o=c?(0,A.alphaToTransparency)((0,D.parseRgba)(c)[3]):0;E((0,A.generateColor)(String(e),o,true)),t||(0,g.ensureNotNull)(h.current).close()},onOpacityChange:function(e){E((0,A.generateColor)(c,(0,A.alphaToTransparency)(e),!0))},selectOpacity:void 0!==u,selectCustom:!0,customColors:f,onAddColor:function(e){w(e),(0,g.ensureNotNull)(h.current).close()},onRemoveCustomColor:T
}));function y(){return c?(0,D.rgbToHexString)((0,D.parseRgb)(c)):null}function E(e){i.setProperty(t,e,r)}}var R=o(905520);class V extends R.Property{constructor(e,t,o){super(),this._listenersMappers=[],this._isProcess=!1,this._baseProperty=e,this._propertyApplier=t,this._undoText=o}destroy(){this._baseProperty.destroy(),super.destroy()}value(){return this._baseProperty.value()}setValue(e){this._isProcess=!0,this._baseProperty.setValue(e,void 0,{applyValue:(e,t)=>this._propertyApplier.setProperty(e,t,this._undoText)}),this._isProcess=!1,this._listenersMappers.forEach((e=>{e.method.call(e.obj,this,"")}))}subscribe(e,t){const o=o=>{this._isProcess||t.call(e,this,"")},n={obj:e,method:t,callback:o};this._listenersMappers.push(n),this._baseProperty.subscribe(e,o)}unsubscribe(e,t){const o=(0,g.ensureDefined)(this._listenersMappers.find((o=>o.obj===e&&o.method===t))?.callback);this._baseProperty.unsubscribe(e,o)}unsubscribeAll(e){this._baseProperty.unsubscribeAll(e)}}var O=o(471542),z=o(157773),H=o(228054),j=o(642709);const U=H.FLOATING_TOOLBAR_REACT_WIDGETS_CLASS+"__button";function Z(e){const{templateButton:t,cancelButton:o,propertyButtons:i,commonButtons:s,actionButtons:r,isDrawingFinished:a,isToolbarFixed:l,buttonClassName:c,activeChartWidget:h}=e,u=h.hasModel()&&h.model().selection().dataSources();return u&&u.length?n.createElement(z.MatchMediaMap,{rules:{isSmallWidth:j.DialogBreakpoints.TabletSmall,isSmallHeight:"(max-height: 440px)"}},(({isSmallWidth:e,isSmallHeight:t})=>n.createElement(n.Fragment,null,d(),a&&n.createElement(n.Fragment,null,Boolean(r.length)&&r.map(((e,t)=>n.createElement(e.component,{...e.props,key:`${e.props.title}_${t}`,className:m()(U,c)}))),Boolean(i.length)&&i.map(((o,i)=>n.createElement(o.component,{...o.props,key:`${o.props.title}_${i}`,className:m()(U,c),isSmallScreen:e||t,isToolbarFixed:l}))),Boolean(s.length)&&s.map(((o,i)=>{const s=e||t;return s?o.showForSmallScreen?n.createElement(o.component,{...o.props,isSmallScreen:s,key:`${o.props.title}_${i}`,className:m()(U,c)}):null:n.createElement(o.component,{...o.props,key:`${o.props.title}_${i}`,className:m()(U,c)})}))),null!==o&&n.createElement(o.component,{...o.props,key:`${o.props.title}`,className:m()(U,c),isSmallScreen:e||t,isToolbarFixed:l})))):d();function d(){return null===t?null:n.createElement(t.component,{...t.props,isToolbarFixed:l,isDrawingFinished:a,className:m()(U,c)})}}var G=o(345848),q=o(801036),K=o(634369);function X(e){const{title:t,activeChartWidget:o,className:i}=e;return n.createElement(q.ToolWidgetIconButton,{className:i,icon:K,title:t,onClick:async function(){(0,G.trackEvent)("GUI","Context action on drawings","Settings");const e=o.model().selection().lineDataSources(),t=e.length;1===t?await o.showChartPropertiesForSource(e[0],void 0,{onWidget:o.onWidget()}):t>1&&await o.showChartPropertiesForSources({sources:e})},"data-name":"settings"})}var J=o(612518),$=o(516465);function Y(e){const{className:t,...o}=e;return n.createElement(J.ToolButton,{className:p(t,$.button),tooltipPosition:"horizontal",...o})}
var Q=o(665186),ee=o(691244);function te(e){const{activeChartWidget:t,className:i}=e,r=t.model().selection().lineDataSources();if(0===r.length)return null;const a=r[0].properties().frozen,l=(0,b.useProperty)(a),c=l?{tooltip:s.t(null,void 0,o(999894)),icon:Q}:{tooltip:s.t(null,void 0,o(205837)),icon:ee};return n.createElement(Y,{className:i,isActive:Boolean(l),onClick:function(){(0,G.trackEvent)("GUI","Context action on drawings","Lock"),t.toggleLockSelectedObject()},"data-name":Boolean(l)?"unlock":"lock",...c})}var oe=o(337350),ne=o(405071),ie=o(475724);function se(e){const{activeChartWidget:t,className:i}=e,r=t.model().selection().lineDataSources(),a=r.find((e=>e.anchorable())),l=(0,b.useProperty)(a?.properties().anchored??new R.Property(!1)),c=(0,oe.usePromise)((async()=>{const{ActionsProvider:e}=await(0,ne.actionsProviderModule)();return new e(t).actionForLineTools(r,"Chart.SelectedObject.ToggleAnchored")}),(e=>e?.destroy()),[t,l]);return c?n.createElement(Y,{className:i,isActive:Boolean(l),tooltip:s.t(null,void 0,o(174089)),icon:ie.icons.get("Chart.AnchorLineTool"),onClick:()=>c.execute(),"data-name":"toggle-anchor"}):null}var re=o(993544);function ae(e){const{title:t,activeChartWidget:o,className:i}=e;return n.createElement(q.ToolWidgetIconButton,{className:i,icon:re,title:t,"data-name":"remove",onClick:function(){(0,G.trackEvent)("GUI","Context action on drawings","Remove"),o.removeSelectedSources()}})}var le=o(638456),ce=o(953054);const he=le.CheckMobile.any();function ue(e){if(!he)return null;const{activeChartWidget:t,className:i}=e,r=t.model().selection().lineDataSources();if(0===r.length)return null;const a=r[0];if(!a.snapTo45DegreesAvailable())return null;const l=(0,b.useProperty)((0,h.alignTo45Degrees)()),c=l?{tooltip:s.t(null,void 0,o(631145)),icon:ce}:{tooltip:s.t(null,void 0,o(383187)),icon:ce};return n.createElement(Y,{className:i,isActive:Boolean(l),onClick:function(){(0,G.trackEvent)("GUI","Context action on drawings","Align to 45 degrees");const e=(0,h.alignTo45Degrees)().value();(0,h.alignTo45Degrees)().setValue(!e),e||t.model().alignToolTo45Degrees(a,(0,g.ensureNotNull)(a.ownerSource()))},"data-name":Boolean(l)?"disable-align-to-45-degrees":"enable-align-to-45-degrees",...c})}var de=o(698486);function pe(e){const{title:t,activeChartWidget:o,className:i}=e;return n.createElement(q.ToolWidgetIconButton,{className:i,icon:de,title:t,"data-name":"cancel-drawing",onClick:function(){(0,G.trackEvent)("GUI","Context action on drawings","Cancel Drawing"),o.resetDrawingState()}})}var me=o(23482),ge=o(778785),_e=o(42278),ve=o(257381),be=o(470316),fe=o(799786),we=o(172073);async function Ce(e,t){const{createVisualOrderAction:n,createChangeIntervalsVisibilitiesAction:i,createActionToggleVisibilityDataSources:r,createSyncDrawingActions:a}=await(0,ne.actionsProviderModule)(),l=[n(e,t),i(e,t)],c=function(e,t){const n=[],i=be.isMacKeyboard?" +":"",r=t.filter((e=>e.cloneable()));r.length>0&&n.push(new we.Action({actionId:"Chart.LineTool.Clone",options:{name:"clone",icon:o(636296),
shortcutHint:be.humanReadableModifiers(fe.Modifiers.Mod)+i+" Drag",label:s.t(null,void 0,o(712537)),onExecute:()=>{e.model().cloneLineTools(r,!1),(0,G.trackEvent)("GUI","Context action on drawings","Clone")}}}));const a=t.filter((e=>e.copiable()));if(a.length>0){const t={name:"copy",label:s.t(null,void 0,o(249680)),shortcutHint:be.humanReadableModifiers(fe.Modifiers.Mod)+i+" C",onExecute:()=>{e.chartWidgetCollection().clipboard.uiRequestCopy(a)}};n.push(new we.Action({actionId:"Chart.Clipboard.CopyLineTools",options:t,id:"Copy"}))}return n}(e,t);if(c.length&&l.push(new we.Separator,...c),t.some((e=>e.isSynchronizable()))){const o=a(e,t);o.length&&l.push(new we.Separator,...o)}if(1===t.length&&t[0].additionalActions){const o=await t[0].additionalActions(e.model(),"FloatingToolbarButton");o.actions.length&&(l.push(new we.Separator),l.push(...o.actions))}return l.push(new we.Separator,r(e,t)),l}var Te=o(844996);function ye(e){const{title:t,activeChartWidget:o,isSmallScreen:i,className:s}=e,r=o.model(),a=r.selection().lineDataSources(),[l,c]=(0,n.useState)([]),h=(0,n.useRef)(null),u=(0,oe.usePromise)((async()=>{const{ActionsProvider:e}=await(0,ne.actionsProviderModule)(),t=new e(o),n=a[0],i=r.paneForSource(n);return i?t.contextMenuActionsForSources(a,i):[]}),void 0,[o,a]),d=(0,n.useCallback)((async()=>{if(i)return;const e=await Ce(o,a);c(Ee(e))}),[i,o,a]),p=(0,n.useCallback)((e=>{if(!i||null===u)return;const t=Ee(u);window.matchMedia(j.DialogBreakpoints.TabletSmall).matches||!me.isAnyMobile?ve.ContextMenuManager.showMenu(t,e,{mode:me.isAnyMobile?"drawer":"menu","data-name":"more-menu"},{menuName:"LineToolFloatingToolbarMoreMenu"}):c(t)}),[i,u]);return(0,n.useEffect)((()=>{l.length&&h.current?.update()}),[l]),n.createElement(v.ToolWidgetMenu,{className:s,ref:h,arrow:!1,onOpen:d,onClick:p,title:t,content:n.createElement(_.Icon,{icon:Te}),"data-name":"more",menuDataName:"more-menu",noMomentumBasedScroll:!0,closeOnEsc:!0},n.createElement(_e.ActionsTable,{parentIsOpened:!0,items:l}))}function Ee(e){if(ge.touch&&!window.matchMedia("(pointer:fine)").matches){const t=e.filter((e=>"Copy"!==e.id));if(t.length===e.length)return t;const o=[];return t.forEach((e=>{("separator"!==e.type||o.length>0&&"separator"!==o[o.length-1].type)&&o.push(e)})),o}return e}var xe=o(770885),Se=o(200501),ke=o(123851),Le=o(357740),Me=o(780427);function Pe(e){const{property:t,propertyApplier:i,title:r,undoText:a,isToolbarFixed:l,className:c}=e,h=(0,b.useProperty)(t),u=(0,n.useMemo)((()=>[new we.Action({actionId:"Chart.LineTool.Toolbar.ChangeLineStyleToSolid",options:{icon:Se,label:s.t(null,void 0,o(903554)),active:xe.LineStyle.Solid===h,onExecute:()=>i.setProperty(t,xe.LineStyle.Solid,a)}}),new we.Action({actionId:"Chart.LineTool.Toolbar.ChangeLineStyleToDashed",options:{icon:ke,label:s.t(null,void 0,o(488123)),active:xe.LineStyle.Dashed===h,onExecute:()=>i.setProperty(t,xe.LineStyle.Dashed,a)}}),new we.Action({actionId:"Chart.LineTool.Toolbar.ChangeLineStyleToDotted",options:{icon:Le,label:s.t(null,void 0,o(27390)),active:xe.LineStyle.Dotted===h,
onExecute:()=>i.setProperty(t,xe.LineStyle.Dotted,a)}})]),[i,t,h]);return n.createElement(v.ToolWidgetMenu,{className:c,arrow:!1,content:n.createElement(_.Icon,{icon:De(h)}),title:r,"data-name":e["data-name"],menuDataName:`${e["data-name"]}-menu`,verticalDropDirection:l?C.VerticalDropDirection.FromBottomToTop:void 0,horizontalDropDirection:l?C.HorizontalDropDirection.FromRightToLeft:void 0,horizontalAttachEdge:l?C.HorizontalAttachEdge.Right:void 0,verticalAttachEdge:l?C.VerticalAttachEdge.Top:void 0},n.createElement(_e.ActionsTable,{items:u}))}function De(e){switch(e){case xe.LineStyle.Solid:return Se;case xe.LineStyle.Dashed:return ke;case xe.LineStyle.Dotted:return Le;case"mixed":return Me;default:return""}}const Ae=[8,10,11,12,14,16,18,20,22,24,28,32,40];function Ne(e){const{property:t,propertyApplier:o,title:i,undoText:s,isToolbarFixed:r,className:a}=e,l=(0,b.useProperty)(t),c=Ae.map((e=>new we.Action({actionId:"Chart.LineTool.Toolbar.ChangeFontSizeProperty",options:{label:e.toString(),onExecute:()=>o.setProperty(t,e,s),active:e===l}})));return n.createElement(v.ToolWidgetMenu,{arrow:!1,content:l,className:a,title:i,verticalDropDirection:r?C.VerticalDropDirection.FromBottomToTop:void 0,horizontalDropDirection:r?C.HorizontalDropDirection.FromRightToLeft:void 0,horizontalAttachEdge:r?C.HorizontalAttachEdge.Right:void 0,verticalAttachEdge:r?C.VerticalAttachEdge.Top:void 0,"data-name":e["data-name"],menuDataName:`${e["data-name"]}-menu`},n.createElement(_e.ActionsTable,{items:c}))}var Be=o(738979),Ie=o(545372),We=o(631078),Fe=o(533497),Re=o(810978),Ve=o(154550),Oe=o(625923),ze=o(270068);function He(e){const{activeChartWidget:t,className:i}=e,r=t.model(),[a]=r.selection().lineDataSources(),l=(0,We.useWatchedValueReadonly)({watchedValue:a?.hasAlert(),defaultValue:!1}),c=(0,We.useWatchedValueReadonly)({watchedValue:a?.alertStatus(),defaultValue:0}),h=(0,We.useWatchedValueReadonly)({watchedValue:a?.alertCreationAvailable(),defaultValue:!1});if(!a||!h&&!l)return null;const u=t.chartWidgetCollection(),d=t.getSaveChartService(),p=l&&0!==c?{tooltip:s.t(null,void 0,o(709219)),icon:ze,onClick:function(){window.runOrSignIn((()=>{a.editAlert("linetool_toolbar_edit_alert")}),{source:"Alert edit from line properties"})},"data-name":"edit-alert"}:{tooltip:s.t(null,void 0,o(165216)),icon:Oe,onClick:async function(){const e=r.model(),t="linetool_toolbar",o="chart";(0,Ve.trackAlertCreationAttempt)(e.mainSeries().symbol(),t,o),(0,Re.runOrSigninWithFeature)((()=>{(0,Fe.invokeAlertEditor)({dataSourceHub:e,drawing:a,actionSource:"linetool_toolbar_add_alert",method:t,source:o,onCreateSuccess:m})}),{source:"Alert add from line properties",feature:"alert"})},"data-name":"add-alert"};return n.createElement(Y,{className:i,isActive:l,...p});function m(){if(!d)return;null===u.metaInfo.id.value()&&d.saveChartOrShowTitleDialog()}}var je=o(125226),Ue=o(477786),Ze=o(923995),Ge=o(789246),qe=o(16241),Ke=o(104436),Xe=o(608280);function Je(e){const{model:t,onRestore:i,onSave:r,isDrawingFinished:l,isToolbarFixed:c,className:h,...u}=e,[d,p]=(0,
n.useState)(!1),[m,g]=(0,n.useState)(null),b=(0,n.useRef)(null);(0,n.useEffect)((()=>{b.current?.update()}),[d]);const f=(0,n.useMemo)((()=>{if(r)return()=>{t.showSaveDialog((e=>{t.saveTemplate(e,JSON.stringify(r()))}))}}),[t,r]),w=(0,n.useMemo)((()=>{const e=[];return l&&f&&e.push(new we.Action({actionId:"Chart.LineTool.Templates.SaveAs",options:{label:(0,qe.appendEllipsis)(s.t(null,void 0,o(776047))),onExecute:f}})),e.push(new we.Action({actionId:"Chart.LineTool.Templates.ApplyDefaults",options:{label:s.t(null,void 0,o(114663)),onExecute:i}})),d?e.push(new we.Loader("Chart.LineTool.Templates.Apply")):!d&&m?.length&&(e.push(new we.Separator),e.push(...m.map((e=>new we.Action({actionId:"Chart.LineTool.Templates.Apply",options:{label:e,onExecute:()=>function(e){void 0!==e&&t.loadTemplate(e)}(e),showToolboxOnHover:!0,toolbox:{type:Ke.ToolboxType.Delete,action:()=>t.deleteAction(e)}}}))))),e}),[f,i,m,t,l,d]);return n.createElement(v.ToolWidgetMenu,{title:s.t(null,void 0,o(881152)),content:n.createElement(_.Icon,{icon:Xe}),onOpen:a.enabled("drawing_templates")?function(){p(!0),t.templatesLoaded().then((()=>{const e=t.getData();void 0!==e&&(g(e),p(!1))})),(0,G.trackEvent)("GUI","Context action on drawings","Templates")}:void 0,arrow:!1,className:h,"data-name":"templates",menuDataName:"templates-menu",verticalDropDirection:c?C.VerticalDropDirection.FromBottomToTop:void 0,horizontalDropDirection:c?C.HorizontalDropDirection.FromLeftToRight:void 0,horizontalAttachEdge:c?C.HorizontalAttachEdge.Left:void 0,verticalAttachEdge:c?C.VerticalAttachEdge.Top:void 0,ref:b,...u},n.createElement(_e.ActionsTable,{items:w}))}var $e=o(890390),Ye=o(193579),Qe=o(529751),et=o(520583),tt=o(543278),ot=o(128245),nt=o(446189);const it=(0,w.mergeThemes)(f.DEFAULT_POPUP_MENU_ITEM_THEME,nt),st=[8,12,20,32,48,64,80,96];function rt(e){const{multipleProperty:t,title:o,undoText:i,propertyApplier:s,isToolbarFixed:r,className:a,isSmallScreen:l}=e,c=(0,b.useProperty)((0,g.ensureDefined)(t));return n.createElement(v.ToolWidgetMenu,{className:a,arrow:!1,title:o,"data-name":e["data-name"],menuDataName:`${e["data-name"]}-menu`,verticalDropDirection:r?C.VerticalDropDirection.FromBottomToTop:void 0,horizontalDropDirection:r?C.HorizontalDropDirection.FromRightToLeft:void 0,horizontalAttachEdge:r?C.HorizontalAttachEdge.Right:void 0,verticalAttachEdge:r?C.VerticalAttachEdge.Top:void 0,content:n.createElement("div",{className:m()(nt.buttonWrap,l&&nt.small)},n.createElement(_.Icon,{icon:ot}),!l&&"mixed"!==c&&n.createElement("div",{className:nt.buttonLabel},`${c}px`))},st.map((e=>n.createElement(f.PopupMenuItem,{key:e,theme:it,label:`${e}px`,isActive:e===c,onClick:h,onClickArg:e}))));function h(e){e&&t&&(s.beginUndoMacro(i),t.setValue(e,void 0,{applyValue:(e,t)=>{s.setProperty(e,t,i)}}),s.endUndoMacro())}}function at(e){const{activeChartWidget:t,className:o,actionId:i}=e,s=t.model().selection().lineDataSources(),r=(0,oe.usePromise)((async()=>{const{ActionsProvider:e}=await(0,ne.actionsProviderModule)()
;return new e(t).actionForLineTools(t.model().selection().lineDataSources(),i)}),(e=>e?.destroy()),[t,s]);if(!r)return null;const{label:a,icon:l}=r.options();return n.createElement(Y,{className:o,tooltip:a,icon:l,onClick:()=>r.execute(),"data-name":`toggle-insert-cells-button-${i}`})}var lt=o(405880),ct=o.n(lt),ht=o(621065),ut=o.n(ht),dt=o(448984),pt=o.n(dt);const mt=!a.enabled("widget")||window.is_authenticated,gt=(0,je.isFeatureEnabled)("enable_step_by_step_hints_for_drawings"),_t=new r.TranslatedString("change line tool(s) font size",s.t(null,void 0,o(237453))),vt=new r.TranslatedString("change line tool(s) line style",s.t(null,void 0,o(413423))),bt=new r.TranslatedString("change line tool(s) line width",s.t(null,void 0,o(81303))),ft=new r.TranslatedString("change line tool(s) color",s.t(null,void 0,o(578655))),wt=new r.TranslatedString("change line tool(s) background color",s.t(null,void 0,o(150522))),Ct=new r.TranslatedString("change line tool(s) text color",s.t(null,void 0,o(196142))),Tt=new r.TranslatedString("line tool(s) line style",s.t(null,{context:"line tool property name"},o(664974))),yt=s.t(null,void 0,o(232514)),Et=s.t(null,void 0,o(199919)),xt=s.t(null,void 0,o(767410)),St=s.t(null,void 0,o(904543)),kt=s.t(null,void 0,o(437117)),Lt=s.t(null,void 0,o(492516)),Mt=s.t(null,void 0,o(702573)),Pt=s.t(null,void 0,o(353002)),Dt=s.t(null,void 0,o(475056)),At=s.t(null,void 0,o(211989)),Nt=s.t(null,void 0,o(614097)),Bt=s.t(null,void 0,o(681956)),It=s.t(null,void 0,o(747370)),Wt=s.t(null,void 0,o(77753)),Ft=s.t(null,void 0,o(369715)),Rt=s.t(null,void 0,o(128736)),Vt=s.t(null,void 0,o(265086)),Ot=s.t(null,void 0,o(346193)),zt=s.t(null,void 0,o(307977)),Ht=s.t(null,void 0,o(908111)),jt=le.CheckMobile.any()||le.CheckMobile.isIPad();class Ut{constructor(e){this._currentTool=null,this._updateVisibilityTimeout=null,this._lineWidthsProperty=null,this._lineColorsProperty=null,this._textColorsProperty=null,this._backgroundsProperty=null,this._highlighterWidthsProperty=null,this._floatingContainer=null,this._isDrawingFinished=!0,this._floatingToolbarRendered=!1,this._toolbarVisible=!1,this._propertiesVisible=!1,this._templatesButton=null,this._cancelButton=null,this._propertyButtons=[],this._commonButtons=[],this._actionCommonButtons=[],this._toolExceptionCases=null,this._chartWidgetCollection=e,this._floatingToolbar=new H.FloatingToolbar({defaultPosition:{top:Be.HEADER_TOOLBAR_HEIGHT_EXPANDED+15,left:window.innerWidth/2},positionSettingsKey:"properties_toolbar.position",positionStorageType:"device",layout:"horizontal","data-name":"drawing-toolbar"}),this._floatingContainer=this._floatingToolbar.getReactWidgetContainer(),this._selectedLineTool=(0,l.combine)(((...e)=>{this._onToolChanged(h.tool.value())}),h.tool.weakReference(),h.iconTool.weakReference(),h.emojiTool.weakReference()),this._selectedLineDataSourcesSourcesSpawn=(0,l.combine)((e=>e.filter(Ie.isLineTool)),this._chartWidgetCollection.selectedSources.weakReference()),this._isToolMovingOrEditingNow=(0,l.combine)(((e,t)=>{this._handleSourceEdit(e||t)
}),h.isToolMovingNow.weakReference(),h.isToolEditingNow.weakReference()),this._selectedLineDataSourcesSourcesSpawn.subscribe(this._onSourceChanged.bind(this)),this._chartWidgetCollection.onAboutToBeDestroyed.subscribe(this,this.destroy,!0)}destroy(){this._selectedLineTool.destroy(),this._isToolMovingOrEditingNow.destroy(),this._selectedLineDataSourcesSourcesSpawn.destroy()}async refresh(){await this._onSourceChanged()}hide(){this._propertiesVisible=!1,this._toolbarVisible=!1,this._updateVisibility()}_createWidthsButton(e,t){if(this._lineWidthsProperty&&(this._lineWidthsProperty.destroy(),this._lineWidthsProperty=null),this._lineWidthsProperty=this._createProperty(e,t,"linesWidths",bt),!this._lineWidthsProperty)return!0;let o=Pt;if(t){1!==this._selectedLineDataSources().filter((e=>e.properties().linesWidths)).length&&(o=Dt)}return this._addPropertyButton({component:P,props:{title:o,property:this._lineWidthsProperty,multipleProperty:this._lineWidthsProperty,propertyApplier:this._propertyApplierImpl(),"data-name":"line-tool-width",undoText:bt}}),!0}_createColorsButton(e,t){return this._lineColorsProperty&&(this._lineColorsProperty.destroy(),this._lineColorsProperty=null),this._lineColorsProperty=this._createProperty(e,t,"linesColors",ft),!this._lineColorsProperty||(this._addPropertyButton({component:F,props:{icon:ct(),title:At,property:this._lineColorsProperty,propertyApplier:this._propertyApplierImpl(),"data-name":"line-tool-color",undoText:ft}}),!0)}_createBackgroundsButton(e,t){return this._backgroundsProperty&&(this._backgroundsProperty.destroy(),this._backgroundsProperty=null),this._backgroundsProperty=this._createProperty(e,t,"backgroundsColors",wt),!this._backgroundsProperty||(this._addPropertyButton({component:F,props:{icon:ut(),title:Nt,property:this._backgroundsProperty,propertyApplier:this._propertyApplierImpl(),"data-name":"background-color",undoText:wt}}),!0)}_createTextColorsButton(e,t){return this._textColorsProperty&&(this._textColorsProperty.destroy(),this._textColorsProperty=null),this._textColorsProperty=this._createProperty(e,t,"textsColors",Ct),!this._textColorsProperty||(this._addPropertyButton({component:F,props:{icon:pt(),title:Bt,property:this._textColorsProperty,propertyApplier:this._propertyApplierImpl(),"data-name":"text-color",undoText:Ct}}),!0)}_createLineStyleButton(e,t){const o=this._selectedLineDataSources();if(!o.length)return!1;let n,i=this._propertyApplierImpl();if(1===o.length){if(n=o[0].properties().linesStyles||e,!n)return!1}else{const e=o.map((e=>e.properties().linestyle||e.properties().lineStyle||e.properties().linesStyles)).filter(c.notUndefined);if(!e.length)return!1;n=new u.CollectiblePropertyUndoWrapper(new d.LineToolCollectedProperty(e),Tt,this._propertyApplierImpl()),i={...i,setProperty:(e,t)=>e.setValue(t)}}return this._addPropertyButton({component:Pe,props:{property:n,title:Lt,propertyApplier:i,"data-name":"style",undoText:vt}}),!0}_createHighlighterWidthsButton(e,t){if(this._highlighterWidthsProperty&&(this._highlighterWidthsProperty.destroy(),
this._highlighterWidthsProperty=null),this._highlighterWidthsProperty=this._createProperty(e,t,"widths",bt)||null,!this._highlighterWidthsProperty)return!0;const o=t&&1!==this._selectedLineDataSources().filter((e=>e.properties().widths)).length?Dt:Pt;return this._addPropertyButton({component:rt,props:{title:o,multipleProperty:this._highlighterWidthsProperty,propertyApplier:this._propertyApplierImpl(),"data-name":"highlighter-width",undoText:bt}}),!0}_createFontSizeButton(e,t){const[o]=this._selectedLineDataSources();if(!o)return!1;const n={component:Ne,props:{property:o.properties().fontsize||e,title:Mt,propertyApplier:this._propertyApplierImpl(),"data-name":"font-size",undoText:_t}};return this._addPropertyButton(n),!0}async _onToolChanged(e,t){if(this._currentTool=e,await(0,Ye.ensureLineToolLoaded)(e),this._currentTool!==e)return;if(this._isDrawingToolExcludingCustomUrlEventTool(e)){if(this._isDrawingFinished=!1,mt){const o=t instanceof $e.DefaultProperty?t:(0,Ie.setNewToolProperties)(e,"LineToolIcon"===e?h.iconTool.value():"LineToolEmoji"===e?h.emojiTool.value():void 0,this._chartWidgetCollection.activeChartWidget.value().model().model());this._showPropertiesOf(e,o,t instanceof $e.DefaultProperty),this._showTemplatesOf({tool:e,properties:o}),this._toolbarVisible=!0}return this._createCancelButton(),void this._updateVisibility()}const o=this._selectedLineDataSources();o.length?(o.length>1&&(this._isDrawingFinished=!0),await this._onSourceChanged(o)):this.hide()}async _onSourceChanged(e=this._selectedLineDataSources()){try{if(!e.length)return this._propertiesVisible=!1,this._toolbarVisible=!1,void this._clearProperties();const t=e.reduce(((e,t)=>e.add(t.toolname)),new Set);if(await Promise.all([...t].map((async e=>(0,Ye.ensureLineToolLoaded)(e)))),e!==this._selectedLineDataSources())return;if(this._createActionCommonButtons(),this._createCommonButtons(),this._createCancelButton(),1===t.size?this._showTemplatesOf({sources:e}):this._templatesButton&&this._clearTemplatesButton(),1===e.length){const[t]=e;t.isAvailableInFloatingWidget()&&this._activeChartWidget().model().model().dataSourceForId(t.id())&&(!t.userEditEnabled()||!(0,Qe.isLineDrawnWithPressedButton)(t.toolname)&&this._activeChartWidget().model().lineBeingCreated()||(this._isDrawingFinished=!0),this._showPropertiesOf(t.toolname,t.properties(),!0),this._toolbarVisible=!0)}else this._clearProperties(),this._createWidthsButton(void 0,!0),this._createHighlighterWidthsButton(void 0,!0),this._createLineStyleButton(void 0,!0),this._createColorsButton(void 0,!0),this._createBackgroundsButton(void 0,!0),this._createTextColorsButton(void 0,!0),this._propertiesVisible=!0}finally{this._updateVisibility()}}_propertyApplierImpl(){return this._propertyApplier||(this._propertyApplier=new tt.PropertyApplierWithoutSavingChart((()=>this._activeChartWidget().model()))),this._propertyApplier}_clearProperties(){this._clearPropertyButtons(),this._lineWidthsProperty&&(this._lineWidthsProperty.destroy(),this._lineWidthsProperty=null),
this._lineColorsProperty&&(this._lineColorsProperty.destroy(),this._lineColorsProperty=null),this._textColorsProperty&&(this._textColorsProperty.destroy(),this._textColorsProperty=null),this._backgroundsProperty&&(this._backgroundsProperty.destroy(),this._backgroundsProperty=null),this._highlighterWidthsProperty&&(this._highlighterWidthsProperty.destroy(),this._highlighterWidthsProperty=null)}_addPropertyButton(e){this._propertyButtons.push(e),this._renderFloatingToolbar()}_addCommonButton(e){this._commonButtons.push(e),this._renderFloatingToolbar()}_addActionCommonButton(e){this._actionCommonButtons.push(e),this._renderFloatingToolbar()}_addCancelButton(e){this._cancelButton=e,this._renderFloatingToolbar()}_addTemplatesButton(e){this._templatesButton=e}_renderFloatingToolbar(){null!==this._floatingContainer&&this._activeChartWidget()&&this._activeChartWidget().hasModel()&&(i.render(n.createElement(Z,{templateButton:this._templatesButton,cancelButton:this._cancelButton,propertyButtons:this._propertyButtons,commonButtons:this._commonButtons,actionButtons:this._actionCommonButtons,isDrawingFinished:this._isDrawingFinished,activeChartWidget:this._activeChartWidget()}),this._floatingContainer),this._floatingToolbarRendered=!0)}_unmountFloatingToolbar(){null!==this._floatingContainer&&(i.unmountComponentAtNode(this._floatingContainer),this._floatingToolbarRendered=!1)}_clearTemplatesButton(){this._templatesButton=null}_clearPropertyButtons(){this._propertyButtons=[]}_clearCommonButtons(){this._commonButtons=[]}_clearActionCommonButtons(){this._actionCommonButtons=[]}_clearCancelButtons(){this._cancelButton=null}_isToolbarRendered(){return this._floatingToolbarRendered}_createSettingsButton(){const e={component:X,props:{title:yt,activeChartWidget:this._activeChartWidget()}};this._addCommonButton(e)}_createLockButton(){const e={component:te,props:{title:"Lock",activeChartWidget:this._activeChartWidget()}};this._addCommonButton(e)}_createAnchorButton(){const e={component:se,props:{title:s.t(null,void 0,o(24185)),activeChartWidget:this._activeChartWidget()}};this._addCommonButton(e)}_createAlignTo45DegreesButton(){const e={component:ue,props:{title:Et,activeChartWidget:this._activeChartWidget()},showForSmallScreen:!0};this._addCommonButton(e)}_createRemoveButton(){if(jt&&null!==this._currentTool&&(0,Qe.isLineDrawnWithPressedButton)(this._currentTool))return;const e={component:ae,props:{title:xt,activeChartWidget:this._activeChartWidget()},showForSmallScreen:!0};this._addCommonButton(e)}_createCancelButton(){if(null!==this._cancelButton&&this._clearCancelButtons(),!jt||null===this._currentTool)return;if(!(0,Qe.isLineDrawnWithPressedButton)(this._currentTool))return;const e={component:pe,props:{title:St,activeChartWidget:this._activeChartWidget()},showForSmallScreen:!0};this._addCancelButton(e)}_createDotsButton(){this._addCommonButton({component:ye,props:{title:kt,activeChartWidget:this._activeChartWidget()},showForSmallScreen:!0})}_createAlertButton(){if(this._selectedLineDataSources().length>1)return
;const[e]=this._selectedLineDataSources(),t=this._activeChartWidget(),n=Ue.Interval.isTicks(t.resolutionWV().value());if(!e||!(0,et.isDataSource)(e)||!e.canHasAlert()||n)return;const i=e.ownerSource();if(!i?.alertCreationAvailable().value())return;const r={component:He,props:{title:s.t(null,void 0,o(711774)),activeChartWidget:this._activeChartWidget()}};this._addCommonButton(r)}_createSourceActions(){Ze.alertsAvailable&&this._createAlertButton(),this._createLockButton(),this._createAnchorButton()}_createActionCommonButtons(){this._actionCommonButtons.length&&this._clearActionCommonButtons();const e={component:at,props:{actionId:"Chart.SelectedObject.InsertColumnTable",activeChartWidget:this._activeChartWidget()}};this._addActionCommonButton(e);const t={component:at,props:{actionId:"Chart.SelectedObject.InsertRowTable",activeChartWidget:this._activeChartWidget()}};this._addActionCommonButton(t)}_createCommonButtons(){this._commonButtons.length&&this._clearCommonButtons(),a.enabled("property_pages")&&this._createSettingsButton(),this._createSourceActions(),this._createAlignTo45DegreesButton(),this._createRemoveButton(),this._createDotsButton()}_prepareProperties(e){const t=this._selectedLineDataSources().filter((t=>t.properties()[e]));if(!(t.filter((t=>t.properties()[e].visible())).length<1))return t.map((t=>t.properties()[e])).filter(c.notNull)}_createProperty(e,t,o,n){if(t){const e=this._prepareProperties(o);return e?this._isWidthProperty(e[0])?new V(new d.MultipleLineWidthsProperty(e),this._propertyApplierImpl(),n):new O.CollectibleColorPropertyUndoWrapper(new d.MultipleLineColorsProperty(e),this._propertyApplierImpl(),n):null}return e&&e.visible()?this._isWidthProperty(e)?new d.MultipleLineWidthsProperty([e]):new O.CollectibleColorPropertyDirectWrapper(new d.MultipleLineColorsProperty([e])):null}_shouldShowBackgroundProperty(e){return!e||!e.fillBackground||!!e.fillBackground.value()}_isDrawingToolExcludingCustomUrlEventTool(e){return Boolean(e?.toLowerCase().includes("linetool"))&&"LineToolTweet"!==e&&"LineToolIdea"!==e&&"LineToolImage"!==e}_updateVisibility(){(this._isDrawingFinished||!(!mt||gt&&le.CheckMobile.any()))&&(this._toolbarVisible||this._propertiesVisible)?this._show():this._hide()}_show(){this._updateVisibilityTimeout&&clearTimeout(this._updateVisibilityTimeout),this._updateVisibilityTimeout=setTimeout((()=>{this._renderFloatingToolbar(),this._floatingToolbar.show(),this._floatingToolbar.checkPosition()}),0)}_hide(){this._updateVisibilityTimeout&&clearTimeout(this._updateVisibilityTimeout),this._updateVisibilityTimeout=setTimeout((()=>{(0,Ie.unsetNewToolProperties)(!0),this._floatingToolbar.hide(!0),this._isToolbarRendered()&&this._unmountFloatingToolbar(),this._clearProperties(),this._clearCommonButtons(),this._clearActionCommonButtons(),this._clearCancelButtons(),this._clearTemplatesButton(),this._templatesList=void 0}),0),delete this._propertyApplier}_activeChartWidget(){return this._chartWidgetCollection.activeChartWidget.value()}_selectedLineDataSources(){
return this._selectedLineDataSourcesSourcesSpawn.value()}_showTemplatesOf(e){if(this._templatesButton&&this._clearTemplatesButton(),!mt)return;const t="sources"in e;if(t&&!e.sources.length)return;const o=t?e.sources[0].toolname:e.tool;let n;if(this._templatesList=new Ge.LinetoolTemplatesList(o,(async n=>{this._activeChartWidget().model().applyLineToolsTemplate({...e,data:n}),t?await this._onSourceChanged(e.sources):await this._onToolChanged(o,e.properties)})),t&&1===e.sources.length){const{sources:[t]}=e;n=()=>t.template()}this._addTemplatesButton({component:Je,props:{key:"Templates",model:this._templatesList,onSave:a.enabled("drawing_templates")?n:void 0,onRestore:async()=>{t?this._activeChartWidget().model().restoreLineToolsFactoryDefaults(e.sources):e.properties.restoreFactoryDefaults(),await this.refresh()}}})}_showPropertiesOf(e,t,o){this._toolExceptionCases||(this._toolExceptionCases=this._createToolExceptionCases());const n=this._toolExceptionCases[e]||this._getPossibleProperty(t);if(this._clearProperties(),this._propertiesVisible=!1,n.length)for(let e=0;e<n.length;e++){const i=n[e];let s=t;const r=i.name.split(".");for(let e=0;e<r.length;++e)s=s&&s.child(r[e]);const a=i.showIf;if(void 0===a||a(t)){if("factory"in i&&i.factory.call(this,s,o))continue;if(!s)continue;const e=i;this._propertiesVisible=!0;const t={component:F,props:{icon:e.icon,title:e.title,"data-name":e["data-name"],property:s,propertyApplier:this._propertyApplierImpl(),undoText:e.undoText}};this._addPropertyButton(t)}}}_getPossibleProperty(e){const t=[],o=this._defaultToolProperties();for(let n=0;n<o.length;n++){const i=o[n];i.name in e&&t.push(i)}return t}_defaultToolProperties(){return[this._defaultLinesColorProperty(),{name:"backgroundsColors",showIf:this._shouldShowBackgroundProperty,factory:this._createBackgroundsButton},{name:"textsColors",factory:this._createTextColorsButton},{name:"linesWidths",factory:this._createWidthsButton},{name:"linesStyles",factory:this._createLineStyleButton}]}_defaultLinesColorProperty(){return{name:"linesColors",factory:this._createColorsButton}}_createToolExceptionCases(){return{LineToolBrush:this._brushPropertiesExceptionCase(),LineToolBezierQuadro:this._bezierPropertiesExceptionCases(),LineToolBezierCubic:this._bezierPropertiesExceptionCases(),LineToolText:this._textPropertiesExceptionCases(),LineToolTextAbsolute:this._textPropertiesExceptionCases(),LineToolBalloon:this._textPropertiesExceptionCases(),LineToolComment:this._textPropertiesExceptionCases(),LineToolCallout:this._textPropertiesExceptionCases(),LineToolPriceLabel:this._textPropertiesExceptionCases(),LineToolDateRange:this._rangeExceptionCases(),LineToolPriceRange:this._rangeExceptionCases(),LineToolDateAndPriceRange:this._rangeExceptionCases(),LineToolNote:this._notePropertiesExceptionCases(),LineToolNoteAbsolute:this._notePropertiesExceptionCases(),LineToolRiskRewardLong:this._riskPropertiesExceptionCases(),LineToolRiskRewardShort:this._riskPropertiesExceptionCases(),LineToolPath:this._pathExceptionCases(),
LineToolRegressionTrend:this._regressionToolExceptionCases(),LineToolBarsPattern:[{name:"color",title:It,icon:ut(),"data-name":"background-color",undoText:ft}],LineToolProjection:[{name:"color1",title:zt,icon:ut(),"data-name":"background-color",undoText:wt},{name:"color2",title:Ht,icon:ut(),"data-name":"background-color",undoText:wt},{name:"linesWidths",factory:this._createWidthsButton}],LineToolSignpost:[{name:"linesColors",factory:this._createBackgroundsButton,showIf:e=>e&&e.childs().showImage.value()},{name:"fontSize",factory:this._createFontSizeButton}],LineToolHighlighter:this._highlighterPropertiesExceptionCase()}}_brushPropertiesExceptionCase(){return[this._defaultLinesColorProperty(),{name:"backgroundsColors",factory:this._createBackgroundsButton},{name:"linesWidths",factory:this._createWidthsButton}]}_bezierPropertiesExceptionCases(){return[this._defaultLinesColorProperty(),{name:"backgroundsColors",factory:this._createBackgroundsButton,showIf:this._shouldShowBackgroundProperty},{name:"linesWidths",factory:this._createWidthsButton},{name:"linesStyles",factory:this._createLineStyleButton}]}_textPropertiesExceptionCases(){return[{name:"color",title:Wt,icon:pt(),"data-name":"text-color",undoText:Ct},{name:"backgroundColor",title:Ft,icon:ut(),"data-name":"background-color",undoText:wt,showIf:this._shouldShowBackgroundProperty},{name:"fontsize",factory:this._createFontSizeButton}]}_rangeExceptionCases(){return[{name:"linecolor",icon:ct(),title:It,"data-name":"line-tool-color",undoText:ft},{name:"backgroundColor",icon:ut(),title:Ft,"data-name":"background-color",undoText:wt,showIf:this._shouldShowBackgroundProperty},{name:"textsColors",factory:this._createTextColorsButton},{name:"linesWidths",factory:this._createWidthsButton}]}_notePropertiesExceptionCases(){return[{name:"markerColor",title:Ot,icon:ct(),"data-name":"line-tool-color",undoText:ft},{name:"textColor",title:Wt,icon:pt(),"data-name":"text-color",undoText:Ct},{name:"fontSize",factory:this._createFontSizeButton}]}_riskPropertiesExceptionCases(){return[{name:"textcolor",title:Wt,icon:pt(),"data-name":"text-color",undoText:Ct},{name:"profitBackground",title:Rt,icon:ut(),"data-name":"background-color",undoText:wt},{name:"stopBackground",title:Vt,icon:ut(),"data-name":"background-color",undoText:wt}]}_pathExceptionCases(){return[this._defaultLinesColorProperty(),{name:"linesWidths",factory:this._createWidthsButton},{name:"lineStyle",factory:this._createLineStyleButton}]}_regressionToolExceptionCases(){return[{name:"linesWidths",factory:this._createWidthsButton}]}_highlighterPropertiesExceptionCase(){return[this._defaultLinesColorProperty(),{name:"widths",factory:this._createHighlighterWidthsButton}]}_isWidthProperty(e){return e instanceof d.LineToolWidthsProperty}_handleSourceEdit(e){h.isDirectionalMovementActive.value()||(e?this._floatingToolbar.hide(!0):this._floatingToolbarRendered&&this._floatingToolbar.show())}}},789246:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LinetoolTemplatesList:()=>h})
;var n=o(444372),i=o(738713),s=o(44805),r=o(920389),a=o(779923),l=o(646264);const c=o(931924).enabled("drawing_templates");class h{constructor(e,t){this._toolName=e,this._applyTemplate=t,this._templatesDeferred=c?this._loadData():Promise.resolve()}getData(){return i.store.getState().templates[this._toolName]}templatesLoaded(){return this._templatesDeferred}loadTemplate(e,t){i.store.dispatch((0,s.loadTemplate)(this._toolName,e,(async e=>{await this._applyTemplate(e),t?.()})))}removeTemplate(e){i.store.dispatch((0,s.startRemoveTemplate)(this._toolName,e))}saveTemplate(e,t){i.store.dispatch((0,s.saveTemplate)(this._toolName,e,t))}deleteAction(e){(0,r.runOrSignIn)((()=>{const t=n.t(null,{replace:{name:e}},o(57285));(0,a.showConfirm)({text:t,onConfirm:t=>{this.removeTemplate(e),t.dialogClose()}})}),{source:"Delete line tool template"})}showSaveDialog(e){(0,r.runOrSignIn)((()=>{(0,a.showRename)({title:n.t(null,void 0,o(776047)),text:n.t(null,void 0,o(59233))+":",maxLength:64,source:this.getData()||[],autocompleteFilter:l.autocompleteFilter,onRename:t=>{if(-1!==(this.getData()||[]).indexOf(t.newValue)){const i=n.t(null,{replace:{name:t.newValue}},o(623276));(0,a.showConfirm)({text:i,onConfirm:o=>{e(t.newValue),o.dialogClose(),t.dialogClose()},onClose:t.focusInput},t.innerManager)}else e(t.newValue),t.dialogClose()}})}),{source:"Save line tool template",sourceMeta:"Chart"})}async _loadData(){return new Promise((e=>{this.getData()?e():i.store.dispatch((0,s.getTemplates)(this._toolName,e))}))}}},907364:(e,t,o)=>{"use strict";o.d(t,{AbstractJsonStoreService:()=>i,CommonJsonStoreService:()=>s});var n=o(547465);class i{constructor(e,t,o,i,s){this._onChange=new n.Delegate,this._handleChange=()=>{this._onChange.fire(this.get())},this._crossTabEvents=e,this._jsonKeyValueStore=t,this.CROSSTAB_EVENT_NAME=o,this.JSON_STORE_KEY=i,this.defaultStoreValue=this._serialize(s),this._subscribe()}get(){const e=this._jsonKeyValueStore.getJSON(this.JSON_STORE_KEY,this.defaultStoreValue);return this._deserialize(e)}set(e,t){const o=this._serialize(e);this._jsonKeyValueStore.setJSON(this.JSON_STORE_KEY,o,t),this._crossTabEvents.emit(this.CROSSTAB_EVENT_NAME),this._onChange.fire(e)}getOnChange(){return this._onChange}destroy(){this._unsubscribe(),this._onChange.destroy(),delete this._onChange}_subscribe(){this._crossTabEvents.on(this.CROSSTAB_EVENT_NAME,this._handleChange),this._jsonKeyValueStore.onSync.subscribe(this,this._handleChange)}_unsubscribe(){this._crossTabEvents.off(this.CROSSTAB_EVENT_NAME,this._handleChange),this._jsonKeyValueStore.onSync.unsubscribe(this,this._handleChange)}}class s extends i{_serialize(e){return e}_deserialize(e){return e}}},44805:(e,t,o)=>{"use strict";o.d(t,{addTemplate:()=>r,getTemplates:()=>i,loadTemplate:()=>h,removeTemplate:()=>l,saveTemplate:()=>c,setTemplates:()=>s,startRemoveTemplate:()=>a});var n=o(261192);function i(e,t){return{type:n.GET_TEMPLATES,toolName:e,callback:t}}function s(e,t){return{type:n.SET_TEMPLATES,templates:t,toolName:e}}function r(e,t){return{type:n.ADD_TEMPLATE,templateName:t,toolName:e}}
function a(e,t){return{type:n.START_REMOVE_TEMPLATE,templateName:t,toolName:e}}function l(e,t){return{type:n.REMOVE_TEMPLATE,templateName:t,toolName:e}}function c(e,t,o){return{type:n.SAVE_TEMPLATE,templateName:t,toolName:e,content:o}}function h(e,t,o){return{type:n.LOAD_TEMPLATE,toolName:e,templateName:t,callback:o}}},261192:(e,t,o)=>{"use strict";function n(e){return"LINE_TOOL_TEMPLATE__"+e}o.d(t,{ADD_TEMPLATE:()=>c,GET_TEMPLATES:()=>i,LOAD_TEMPLATE:()=>h,REMOVE_TEMPLATE:()=>a,SAVE_TEMPLATE:()=>l,SET_TEMPLATES:()=>s,START_REMOVE_TEMPLATE:()=>r});const i=n("GET_TEMPLATES"),s=n("SET_TEMPLATES"),r=n("START_REMOVE_TEMPLATE"),a=n("REMOVE_TEMPLATE"),l=n("SAVE_TEMPLATE"),c=n("ADD_TEMPLATE"),h=n("LOAD_TEMPLATE")},738713:(e,t,o)=>{"use strict";o.d(t,{store:()=>T});var n=o(406047),i=o(746212),s=o(129885),r=o(650151),a=o(261192),l=o(735566),c=o(44805);function h(e,t){return t}var u=o(507778);const d=(0,l.getLogger)("Chart.LineToolTemplatesList");function p(e,t){return t}function*m(){for(;;){const{toolName:e,templateName:t,content:o}=p(a.SAVE_TEMPLATE,yield(0,s.take)(a.SAVE_TEMPLATE));try{yield(0,s.call)(u.backend.saveDrawingTemplate,e,t,o),yield(0,s.put)((0,c.addTemplate)(e,t))}catch(e){d.logWarn(e)}}}function*g(){for(;;){const{toolName:e,templateName:t}=p(a.START_REMOVE_TEMPLATE,yield(0,s.take)(a.START_REMOVE_TEMPLATE));try{yield(0,s.call)(u.backend.removeDrawingTemplate,e,t),yield(0,s.put)((0,c.removeTemplate)(e,t))}catch(e){d.logWarn(e)}}}function*_(){const e=new Map;for(;;){const{toolName:o,callback:n}=p(a.GET_TEMPLATES,yield(0,s.take)(a.GET_TEMPLATES));e.has(o)?(0,r.ensureDefined)(e.get(o)).push(n):(e.set(o,[n]),yield(0,s.fork)(t,o))}function*t(t){try{const e=h(u.backend.getDrawingTemplates,yield(0,s.call)(u.backend.getDrawingTemplates,t));yield(0,s.put)((0,c.setTemplates)(t,e))}catch(e){d.logWarn(e)}(0,r.ensureDefined)(e.get(t)).forEach((e=>e?.())),e.delete(t)}}function*v(){for(;;){const{toolName:e,templateName:t,callback:o}=p(a.LOAD_TEMPLATE,yield(0,s.take)(a.LOAD_TEMPLATE));try{const n=h(u.backend.loadDrawingTemplate,yield(0,s.call)(u.backend.loadDrawingTemplate,e,t));o&&o(n)}catch(e){d.logWarn(e)}}}function*b(){yield(0,s.all)([(0,s.call)(_),(0,s.call)(m),(0,s.call)(g),(0,s.call)(v)])}const f={templates:{}};function w(e,t){return e.localeCompare(t,void 0,{numeric:!0})}function C(e=f,t){switch(t.type){case a.ADD_TEMPLATE:{const{toolName:o,templateName:n}=t;if(!e.templates[o].includes(n)){const t=[...e.templates[o],n].sort(w);return{...e,templates:{...e.templates,[o]:t}}}return e}case a.SET_TEMPLATES:{const{toolName:o,templates:n}=t;return{...e,templates:{...e.templates,[o]:[...n].sort(w)}}}case a.REMOVE_TEMPLATE:{const{toolName:o,templateName:n}=t;return{...e,templates:{...e.templates,[o]:e.templates[o].filter((e=>e!==n))}}}default:return e}}const T=function(){const e=(0,i.default)(),t=(0,n.createStore)(C,(0,n.applyMiddleware)(e));return e.run(b),t}()},471542:(e,t,o)=>{"use strict";o.d(t,{CollectibleColorPropertyDirectWrapper:()=>a,CollectibleColorPropertyUndoWrapper:()=>r});var n=o(650151),i=o(905520)
;class s extends i.Property{constructor(e){super(),this._listenersMappers=[],this._isProcess=!1,this._baseProperty=e}destroy(){this._baseProperty.destroy(),super.destroy()}value(){const e=this._baseProperty.value();return"mixed"===e?"":e}visible(){return this._baseProperty.visible()}setValue(e){this._isProcess=!0,this._baseProperty.setValue(""===e?"mixed":e,void 0,{applyValue:this._applyValue.bind(this)}),this._isProcess=!1,this._listenersMappers.forEach((e=>{e.method.call(e.obj,this,"")}))}subscribe(e,t){const o=o=>{this._isProcess||t.call(e,this,"")},n={obj:e,method:t,callback:o};this._listenersMappers.push(n),this._baseProperty.subscribe(e,o)}unsubscribe(e,t){const o=(0,n.ensureDefined)(this._listenersMappers.find((o=>o.obj===e&&o.method===t))?.callback);this._baseProperty.unsubscribe(e,o)}unsubscribeAll(e){this._baseProperty.unsubscribeAll(e)}}class r extends s{constructor(e,t,o){super(e),this._propertyApplier=t,this._undoText=o}_applyValue(e,t){this._propertyApplier.setProperty(e,t,this._undoText)}}class a extends s{_applyValue(e,t){e.setValue(t)}}},205453:(e,t,o)=>{"use strict";o.d(t,{CollectiblePropertyUndoWrapper:()=>l});var n=o(650151),i=o(444372),s=o(418450),r=o(905520);const a=new s.TranslatedString("change {propertyName} property",i.t(null,void 0,o(925167)));class l extends r.Property{constructor(e,t,o){super(),this._isProcess=!1,this._listenersMappers=[],this._valueApplier={applyValue:(e,t)=>{this._propertyApplier.setProperty(e,t,a)}},this._baseProperty=e,this._propertyApplier=o,this._propertyName=t}destroy(){this._baseProperty.destroy(),super.destroy()}value(){return this._baseProperty.value()}setValue(e,t){this._propertyApplier.beginUndoMacro(a.format({propertyName:this._propertyName})),this._isProcess=!0,this._baseProperty.setValue(e,void 0,this._valueApplier),this._isProcess=!1,this._propertyApplier.endUndoMacro(),this._listenersMappers.forEach((e=>{e.method.call(e.obj,this,"")}))}subscribe(e,t){const o=()=>{this._isProcess||t.call(e,this,"")};this._listenersMappers.push({obj:e,method:t,callback:o}),this._baseProperty.subscribe(e,o)}unsubscribe(e,t){const o=(0,n.ensureDefined)(this._listenersMappers.find((o=>o.obj===e&&o.method===t))?.callback);this._baseProperty.unsubscribe(e,o)}unsubscribeAll(e){this._baseProperty.unsubscribeAll(e)}}},625323:(e,t,o)=>{"use strict";o.d(t,{LinetoolsFavoritesStore:()=>h});var n=o(547465),i=o(536794),s=o(125226),r=o(62802);const a=["LineToolBalloon","LineToolNoteAbsolute","LineToolArrowMarkLeft","LineToolArrowMarkRight"].filter(i.isExistent),l=[(0,s.isFeatureEnabled)("hide_tweet_drawingtool")?"LineToolTweet":null].filter(i.isExistent);var c,h;!function(e){function t(){e.favorites=[];let t=!1;Boolean(void 0===(0,r.getValue)("chart.favoriteDrawings"));(0,r.getJSON)("chart.favoriteDrawings",[]).forEach(((n,i)=>{const s=n.tool||n;o(s)?a.includes(s)?t=!0:e.favorites.push(s):l&&l.includes(s)&&e.hiddenToolsPositions.set(s,i)})),t&&i(),e.favoritesSynced.fire()}function o(e){return"string"==typeof e&&""!==e&&!(l&&l.includes(e))}function i(t){const o=e.favorites.slice()
;e.hiddenToolsPositions.forEach(((e,t)=>{o.splice(e,0,t)})),(0,r.setJSON)("chart.favoriteDrawings",o,t)}e.favorites=[],e.favoritesSynced=new n.Delegate,e.hiddenToolsPositions=new Map,e.favoriteIndex=function(t){return e.favorites.indexOf(t)},e.isValidLineToolName=o,e.saveFavorites=i,t(),r.onSync.subscribe(null,t)}(c||(c={})),function(e){function t(e){return c.isValidLineToolName(e)}function o(){return c.favorites.length}function i(e){return-1!==c.favoriteIndex(e)}e.favoriteAdded=new n.Delegate,e.favoriteRemoved=new n.Delegate,e.favoriteMoved=new n.Delegate,e.favoritesSynced=c.favoritesSynced,e.favorites=function(){return c.favorites.slice()},e.isValidLineToolName=t,e.favoritesCount=o,e.favorite=function(e){return e<0||e>=o()?"":c.favorites[e]},e.addFavorite=function(o,n){return!(i(o)||!t(o)||"performance"===o)&&(c.favorites.push(o),c.saveFavorites(n),e.favoriteAdded.fire(o),!0)},e.removeFavorite=function(t,o){const n=c.favoriteIndex(t);if(-1===n)return!1;c.favorites.splice(n,1);const i=c.hiddenToolsPositions;return i.forEach(((e,t)=>{e>n&&i.set(t,e-1)})),c.saveFavorites(o),e.favoriteRemoved.fire(t),!0},e.isFavorite=i,e.moveFavorite=function(n,i,s){if(i<0||i>=o()||!t(n))return!1;const r=c.favoriteIndex(n);if(-1===r||i===r)return!1;const a=c.hiddenToolsPositions;return a.forEach(((e,t)=>{r<e&&i>e?e--:i<e&&r>e&&e++,a.set(t,e)})),c.favorites.splice(r,1),c.favorites.splice(i,0,n),c.saveFavorites(s),e.favoriteMoved.fire(n,r,i),!0}}(h||(h={}))},543278:(e,t,o)=>{"use strict";o.d(t,{PropertyApplierWithoutSavingChart:()=>i});var n=o(472354);class i{constructor(e){this._undoModelSupplier=e}setProperty(e,t,o){this._undoModelSupplier().setProperty(e,t,o,n.lineToolsDoNotAffectChartInvalidation)}beginUndoMacro(e){return this._undoModelSupplier().beginUndoMacro(e)}endUndoMacro(){this._undoModelSupplier().endUndoMacro()}setWatchedValue(e,t,o){this._undoModelSupplier().undoHistory().setWatchedValue(e,t,o,n.lineToolsDoNotAffectChartInvalidation)}}},646264:(e,t,o)=>{"use strict";function n(e,t){return Boolean(""===e||e&&-1!==t.toLowerCase().indexOf(e.toLowerCase()))}o.d(t,{autocompleteFilter:()=>n})},381909:(e,t,o)=>{"use strict";function n(e){return e.charAt(0).toUpperCase()+e.substring(1)}o.d(t,{capitalizeFirstLetter:()=>n})},405880:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill="currentColor" d="M10.62.72a2.47 2.47 0 0 1 3.5 0l1.16 1.16c.96.97.96 2.54 0 3.5l-.58.58-8.9 8.9-1 1-.14.14H0v-4.65l.14-.15 1-1 8.9-8.9.58-.58Zm2.8.7a1.48 1.48 0 0 0-2.1 0l-.23.23 3.26 3.26.23-.23c.58-.58.58-1.52 0-2.1l-1.16-1.16Zm.23 4.2-3.26-3.27-8.2 8.2 3.25 3.27 8.2-8.2Zm-8.9 8.9-3.27-3.26-.5.5V15h3.27l.5-.5Z"/></svg>'},560004:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M22 9.06 11 20 6 14.7l1.09-1.02 3.94 4.16L20.94 8 22 9.06Z"/></svg>'},953054:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M12.56 16.15 6.71 22h8.28a9.46 9.46 0 0 0-2.43-5.85Zm.71-.71 8.08-8.09-.7-.7-15.5 15.5-.86.85H24v-1h-8.01a10.46 10.46 0 0 0-2.72-6.56Z"/></svg>'},698486:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M21.35 7.35a.5.5 0 0 0-.7-.7L14 13.29 7.35 6.65a.5.5 0 1 0-.7.7L13.29 14l-6.64 6.65a.5.5 0 0 0 .7.7L14 14.71l6.65 6.64a.5.5 0 0 0 .7-.7L14.71 14l6.64-6.65z"/></svg>'},465890:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11" height="9" fill="none"><path stroke="currentColor" stroke-width="2" d="M0.999878 4L3.99988 7L9.99988 1"/></svg>'},366493:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.5 20L11 14.5 16.5 9"/></svg>'},661380:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 10" width="20" height="10"><path fill="none" stroke="currentColor" stroke-width="1.5" d="M2 1l8 8 8-8"/></svg>'},379978:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'},844996:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path fill="currentColor" fillRule="evenodd" clipRule="evenodd" d="M7.5 13a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM5 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm9.5-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM12 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm9.5-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM19 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0z"/></svg>'},53806:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M12.65 5.1a9.07 9.07 0 0 1 2.7 0 12.44 12.44 0 0 1 2.13 4.61c-1.06.2-2.24.29-3.48.29a18.6 18.6 0 0 1-3.48-.3 12.44 12.44 0 0 1 2.13-4.6Zm-.53-.92a10 10 0 0 0 0 19.65 10.05 10.05 0 0 0 3.76 0 10 10 0 0 0 0-19.65 10.05 10.05 0 0 0-3.76 0Zm4.68 1.26a14.4 14.4 0 0 1 1.66 4.05 7.06 7.06 0 0 0 2.5-1.2 9.01 9.01 0 0 0-4.16-2.85Zm4.75 3.66a8.12 8.12 0 0 1-2.88 1.37 18.93 18.93 0 0 1 0 7.06c1.1.3 2.08.74 2.88 1.37a8.96 8.96 0 0 0 0-9.8Zm-.59 10.6a7.05 7.05 0 0 0-2.5-1.19 14.1 14.1 0 0 1-1.65 4.04 9.01 9.01 0 0 0 4.15-2.85Zm-5.61 3.2a12.27 12.27 0 0 0 2.14-4.61c-1.07-.2-2.25-.29-3.49-.29-1.25 0-2.42.09-3.49.3a12.27 12.27 0 0 0 2.14 4.6 9.06 9.06 0 0 0 2.7 0Zm-4.16-.35a14.1 14.1 0 0 1-1.65-4.03c-.96.27-1.8.66-2.5 1.19a9.01 9.01 0 0 0 4.15 2.84ZM6.45 18.9a8.57 8.57 0 0 1 2.87-1.35 19.19 19.19 0 0 1 .01-7.1A8.58 8.58 0 0 1 6.45 9.1a8.96 8.96 0 0 0 0 9.8Zm.6-10.6a9.01 9.01 0 0 1 4.15-2.86 14.38 14.38 0 0 0-1.65 4.04 7.54 7.54 0 0 1-2.5-1.19ZM10 14c0-1.15.1-2.27.3-3.32 1.17.23 2.42.32 3.7.32 1.27 0 2.53-.09 3.7-.3a17.93 17.93 0 0 1 0 6.61A20 20 0 0 0 14 17c-1.29 0-2.54.09-3.7.32A18.2 18.2 0 0 1 10 14Z"/></svg>'},439235:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M15.08 5.75a5.07 5.07 0 0 1 7.17 7.17l-3.23 3.23-.7-.7 3.22-3.24a4.07 4.07 0 1 0-5.75-5.75l-3.23 3.23-.7-.71 3.22-3.23Zm-9.33 9.33a5.07 5.07 0 1 0 7.17 7.17l3.23-3.23-.7-.7-3.24 3.22a4.07 4.07 0 1 1-5.75-5.75l3.23-3.23-.71-.7-3.23 3.22Zm10.77-4.3-5.74 5.74.7.7 5.75-5.74-.71-.7Z"/></svg>'},299088:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="currentColor"><path fill-rule="nonzero" d="M15.039 5.969l-.019-.019-2.828 2.828.707.707 2.474-2.474c1.367-1.367 3.582-1.367 4.949 0s1.367 3.582 0 4.949l-2.474 2.474.707.707 2.828-2.828-.019-.019c1.415-1.767 1.304-4.352-.334-5.99-1.638-1.638-4.224-1.749-5.99-.334zM5.97 15.038l-.019-.019 2.828-2.828.707.707-2.475 2.475c-1.367 1.367-1.367 3.582 0 4.949s3.582 1.367 4.949 0l2.474-2.474.707.707-2.828 2.828-.019-.019c-1.767 1.415-4.352 1.304-5.99-.334-1.638-1.638-1.749-4.224-.334-5.99z"/><path d="M10.485 16.141l5.656-5.656.707.707-5.656 5.656z"/></g></svg>'},339750:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 15l5 5L23 9"/></svg>'},151609:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M4.31 14.5a1.07 1.07 0 0 1 0-1.5L13 4.3c.42-.41 1.1-.41 1.52 0l.99 1c.42.42.41 1.11-.02 1.53l-5.38 5.12h12.83c.6 0 1.07.48 1.07 1.07v1.43c0 .6-.48 1.07-1.07 1.07H10.1l5.38 5.13c.44.41.45 1.1.02 1.53l-1 .99c-.41.42-1.1.42-1.5 0L4.3 14.5Zm7.97 9.38-8.67-8.67c-.81-.8-.82-2.12 0-2.93l8.68-8.67c.8-.81 2.12-.82 2.92 0l1 .99c.82.82.8 2.16-.04 2.96l-3.57 3.4h10.33c1.14 0 2.07.93 2.07 2.07v1.43c0 1.15-.93 2.07-2.07 2.07H12.6l3.57 3.4c.84.8.86 2.14.03 2.97l-.99.99c-.8.8-2.12.8-2.93 0Z"/></svg>'},922976:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M4.87 4.52a.5.5 0 0 1 .61.35L6.91 10h5.47l1.03-4.67c.14-.63 1.04-.63 1.18 0L15.62 10h5.47l1.43-5.13a.5.5 0 0 1 .96.26L22.13 10H25a.5.5 0 0 1 0 1h-3.15l-.83 3H25a.5.5 0 0 1 0 1h-4.26l-2.15 7.75c-.17.6-1.03.58-1.16-.03L15.7 15h-3.42l-1.72 7.72c-.13.6-1 .63-1.16.03L7.26 15H3a.5.5 0 1 1 0-1h3.98l-.83-3H3a.5.5 0 1 1 0-1h2.87L4.52 5.13a.5.5 0 0 1 .35-.61ZM7.19 11l.83 3h3.47l.66-3H7.2Zm5.99 0-.67 3h2.98l-.67-3h-1.64Zm1.42-1L14 7.3l-.6 2.7h1.2Zm1.25 1 .66 3h3.47l.83-3h-4.96Zm3.85 4h-2.97l1.32 5.94L19.7 15Zm-8.43 0H8.3l1.65 5.94L11.27 15Z"/></svg>'},670616:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" d="M7.5 24v-5.5m0 0s2.7-1.1 4.5-1c2.1.12 2.9 1.88 5 2 1.8.1 4.5-1 4.5-1v-6m-14 6v-6m0 0v-6s2.7-1.1 4.5-1c2.1.12 2.9 1.88 5 2 1.8.1 4.5-1 4.5-1v6m-14 0s2.7-1.1 4.5-1c2.1.12 2.9 1.88 5 2 1.8.1 4.5-1 4.5-1"/></svg>'},548748:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M14.08 3.73c.1.16.1.37 0 .54a9.4 9.4 0 0 0 3.35 13.26 9.9 9.9 0 0 0 6.49 1.18.5.5 0 0 1 .5.76 10.67 10.67 0 0 1-3.83 3.64 10.91 10.91 0 0 1-14.28-3.3A10.44 10.44 0 0 1 8.69 5.56a10.86 10.86 0 0 1 4.9-2.06.5.5 0 0 1 .49.22Zm8.3 15.61v.5c-1.91 0-3.8-.5-5.45-1.44a10.64 10.64 0 0 1-3.95-3.97 10.4 10.4 0 0 1-.3-9.72 9.6 9.6 0 0 0-6.37 5.39 9.39 9.39 0 0 0 .83 9.14 9.7 9.7 0 0 0 3.6 3.17 9.92 9.92 0 0 0 12.21-2.59c-.19.02-.38.02-.57.02v-.5Z"/></svg>'},918042:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M6 11.69C6 7.46 9.56 4 14 4c4.44 0 8 3.46 8 7.69 0 2.63-1.2 4.93-3.25 6.31H14.5v-5H18v-1h-8v1h3.5v5H9.14A8.06 8.06 0 0 1 6 11.69Zm2 6.67a9.1 9.1 0 0 1-3-6.67C5 6.87 9.05 3 14 3s9 3.87 9 8.69a8.51 8.51 0 0 1-3 6.62V22h-2v3h-8v-3H8v-3.64ZM11 22v2h6v-2h-6Zm-2-1v-2h10v2H9Z"/></svg>'},44986:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M6 14.5C6 9.78 9.78 6 14.5 6c4.72 0 8.5 3.78 8.5 8.5 0 4.72-3.78 8.5-8.5 8.5A8.46 8.46 0 0 1 6 14.5ZM14.5 5A9.46 9.46 0 0 0 5 14.5c0 5.28 4.22 9.5 9.5 9.5s9.5-4.22 9.5-9.5S19.78 5 14.5 5ZM14 16V9h1v6h4v1h-5Z"/></svg>'},683778:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M6 14.5C6 9.78 9.78 6 14.5 6c4.72 0 8.5 3.78 8.5 8.5 0 4.72-3.78 8.5-8.5 8.5A8.46 8.46 0 0 1 6 14.5ZM14.5 5A9.46 9.46 0 0 0 5 14.5c0 5.28 4.22 9.5 9.5 9.5s9.5-4.22 9.5-9.5S19.78 5 14.5 5ZM12 12a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 1a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm-6 4-.43.26v.01l.03.03a3.55 3.55 0 0 0 .3.4 5.7 5.7 0 0 0 9.22 0 5.42 5.42 0 0 0 .28-.4l.02-.03v-.01L19 17l-.43-.26v.02a2.45 2.45 0 0 1-.24.32c-.17.21-.43.5-.78.79a4.71 4.71 0 0 1-6.88-.8 4.32 4.32 0 0 1-.23-.31l-.01-.02L10 17Z"/></svg>'},123851:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="currentColor" d="M4 13h5v1H4v-1zM12 13h5v1h-5v-1zM20 13h5v1h-5v-1z"/></svg>'},357740:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M3 13h2v2H3v-2Zm5 0h2v2H8v-2Zm7 0h-2v2h2v-2Zm3 0h2v2h-2v-2Zm7 0h-2v2h2v-2Z"/></svg>'},780427:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M23 8H5V7h18v1ZM9 14H5v-1h4v1Zm3 0h4v-1h-4v1Zm11 0h-4v-1h4v1ZM7 19H5v2h2v-2Zm2 0h2v2H9v-2Zm6 0h-2v2h2v-2Zm2 0h2v2h-2v-2Zm6 0h-2v2h2v-2Z"/></svg>'},200501:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path stroke="currentColor" d="M4 13.5h20"/></svg>'},90624:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 72" width="28" height="28"><path fill="#fff" d="M58.66 60.95a30 30 0 0 1-43.58-11.71q-1.3-.66-2.55-1.43a41 41 0 0 1-4.65-3.38 60 60 0 0 1-4.96-4.41A22 22 0 0 1 .2 36.37c-.46-.7-.04-1.27.47-1.72l.95-.8q.9-.78 1.8-1.58c.4-.37.62-.6.9-.92l.4-.45c.4-.43.34-.83-.06-1.24-.52-.53-.82-.9-1.13-1.25-.3-.36-.61-.72-1.14-1.26-.48-.48-.6-.9-.05-1.46.59-.63 1.34-1.39 2.11-2.16.97-.96 1.96-1.95 2.68-2.75.64-.7.72-.67 1.36.1.6.72 1 1.3 1.4 1.85a25 25 0 0 0 1.81 2.32c.58.67.87 1.02 1.82.64l.36-.15q.34-.9.73-1.78-.11-.34-.24-.81a30 30 0 0 0-.76-2.47c-.18-.52-.38-1.07-.62-1.88l-.19-.61c-.26-.99-.23-1.09.65-1.39.86-.3 2.03-.66 3.19-1.03 1.07-.34 2.13-.67 2.92-.94.51-.17.8.02.98.4a30 30 0 1 1 38.12 45.92M12.02 34.93l-.4.22-.53.3q-.8.47-.13 1.14.51.52 1.08.96a30 30 0 0 1-.02-2.62"/><path fill="#2962FF" d="M42 64c5.53 0 10.95-1.61 15.55-4.63s8.2-7.32 10.32-12.34a27 27 0 0 0 1.6-15.9 27.4 27.4 0 0 0-7.67-14.07 28 28 0 0 0-14.34-7.53 28.5 28.5 0 0 0-16.18 1.56 28 28 0 0 0-12.56 10.13 27.15 27.15 0 0 0 3.48 34.72A28.3 28.3 0 0 0 42 64"/><path fill="#FF5200" d="M27.83 30.91c-.54.03-1.47 0-2.38.14-1.76.28-3.54.58-5.27 1.03-1.25.32-2.46.85-3.64 1.37-1.42.61-2.8 1.31-4.19 2q-.74.38-.12.94.6.54 1.28.98c1.81 1.1 3.67 2.14 5.47 3.3 2.07 1.32 4.38 2.05 6.7 2.73 2.61.78 5.35.58 8.03.26 3.03-.37 6.06-.88 8.91-2.01 1.62-.65 3.15-1.51 4.69-2.34.66-.34.65-.58.06-1.01-1.19-.88-2.37-1.78-3.6-2.58-2.8-1.8-5.74-3.3-9.04-4.07-2.15-.5-4.3-.85-6.9-.73zM32.73 16v5.98l-.01 2.22c0 .58.24.94.85 1q.44.03.87.08c2.09.23 2.35.08 2.99-1.95q.84-2.77 1.66-5.53c.23-.77.37-.81 1.13-.54q2.21.8 4.44 1.57c.57.2.77.41.52 1.06-.73 2-1.39 4.03-2.07 6.04l-.16.59c-.3 1.37-.27 1.43 1.03 1.9q.29.1.56.23c.38.2.68.18 1.03-.13 1.75-1.5 3.55-2.95 5.28-4.48.55-.5 1.17-.42 1.61-.03q1.4 1.25 2.72 2.6.7.76-.03 1.57a192 192 0 0 1-3.52 3.81c-.34.37-.33.67 0 .98q1.62 1.58 3.3 3.15 1.22 1.15 2.46 2.28c.78.74.83 1.14.04 1.89-1.08 1.01-2.14 2.09-3.38 2.87a67 67 0 0 1-7.48 4.27 26 26 0 0 1-9.2 2.39c-3.4.23-6.8.28-10.17-.11a48 48 0 0 1-7.25-1.41 30 30 0 0 1-6.26-2.6 39 39 0 0 1-4.34-2.81 54 54 0 0 1-4.63-3.65c-.97-.88-1.75-1.98-2.53-3.03-.44-.58-.04-1.06.44-1.43.85-.66 1.73-1.29 2.56-1.97.54-.44 1.02-.94 1.53-1.43.37-.36.31-.69-.06-1.03l-2.93-2.67c-.44-.4-.55-.74-.05-1.21 1.24-1.17 2.44-2.4 3.65-3.59.6-.58.68-.55 1.27.09q1.79 1.96 3.64 3.86c.65.67 1.4.87 2.38.52 1.78-.64 1.85-.6 1.31-2.39-.48-1.6-1.06-3.18-1.6-4.78q-.1-.25-.18-.5c-.24-.82-.22-.9.6-1.15q2.32-.69 4.64-1.36c.61-.18.87.12 1.05.63q.8 2.6 1.64 5.2.22.74.63 1.4c.53.8 1.39.78 2.24.75 1.48-.05 1.68-.2 1.68-1.66q0-3.17-.1-6.33c-.03-1.04-.06-1.1 1-1.13 1.73-.05 3.46-.01 5.21-.01"/><path fill="#FDD600" d="m34.25 33.43.13-.26c-.4-.39-.74-.92-1.22-1.15a8 8 0 0 0-5.53-.64c-1.58.4-2.61 1.54-3.34 2.85-.8 1.44-1.08 3.05-.08 4.53.44.64 1.11 1.15 1.74 1.63a5.67 5.67 0 0 0 8.59-2.14c.32-.7.21-.95-.54-1.19q-1.2-.36-2.39-.73c-.52-.17-1.06-.34-1.06-1.04 0-.65.43-.92 1-1.07zm-6.31-3.4a24 24 0 0 1 6.94.73c3.3.77 6.25 2.24 9.06 4.05 1.25.8 2.43 1.7 3.62 2.56.59.43.6.67-.06 1.02-1.55.82-3.08 1.68-4.7 2.32a36 36 0 0 1-8.95 2c-2.7.33-5.44.52-8.07-.25-2.32-.68-4.64-1.4-6.73-2.73-1.8-1.14-3.66-2.17-5.48-3.28a10 10 0 0 1-1.29-.97c-.41-.36-.37-.7.13-.94q2.09-1.06 4.2-2a26 26 0 0 1 3.66-1.36c1.74-.44 3.51-.74 5.29-1.02.9-.15 1.84-.11 2.38-.14"/><path fill="#1D1D1B" d="M33.55 34.2q-1.33.39-2.66.75c-.57.15-1 .4-1 1.04 0 .66.54.84 1.05 1q1.19.34 2.36.7c.74.23.85.46.53 1.13a5.65 5.65 0 0 1-6.21 3.06c-.82-.16-1.6-.5-2.26-1a7 7 0 0 1-1.72-1.56c-1-1.43-.72-2.97.07-4.35a5.3 5.3 0 0 1 3.3-2.75 8 8 0 0 1 5.45.62c.48.22.82.73 1.2 1.11z"/></svg>'
},214665:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" width="10" height="16"><path d="M.6 1.4l1.4-1.4 8 8-8 8-1.4-1.4 6.389-6.532-6.389-6.668z"/></svg>'},621065:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" fill="none"><path stroke="currentColor" d="M13.5 6.5l-3-3-7 7 7.59 7.59a2 2 0 0 0 2.82 0l4.18-4.18a2 2 0 0 0 0-2.82L13.5 6.5zm0 0v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v6"/><path fill="currentColor" d="M0 16.5C0 15 2.5 12 2.5 12S5 15 5 16.5 4 19 2.5 19 0 18 0 16.5z"/><circle fill="currentColor" cx="9.5" cy="9.5" r="1.5"/></svg>'},25388:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 12" width="8" height="12" fill="currentColor"><rect width="2" height="2" rx="1"/><rect width="2" height="2" rx="1" y="5"/><rect width="2" height="2" rx="1" y="10"/><rect width="2" height="2" rx="1" x="6"/><rect width="2" height="2" rx="1" x="6" y="5"/><rect width="2" height="2" rx="1" x="6" y="10"/></svg>'},128245:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M11.68 9.74a95.6 95.6 0 0 0-5.76 7.56l-.84-.56c.51-.76 3.05-4.4 5.84-7.65a33.25 33.25 0 0 1 4.16-4.22c.66-.52 1.3-.94 1.89-1.17.59-.23 1.22-.3 1.76 0 .6.33.75.99.75 1.61a8.7 8.7 0 0 1-.42 2.3 56.38 56.38 0 0 1-2.33 5.98l-.42.97c-.78 1.78-1.52 3.48-2 4.86-.3.81-.49 1.48-.55 1.96a1.57 1.57 0 0 0 .01.57c.06.02.17.04.42-.08.28-.13.62-.38 1.02-.75.8-.73 1.71-1.82 2.66-2.94l.07-.08c.9-1.08 1.84-2.2 2.67-2.98.43-.4.85-.74 1.26-.95.4-.2.9-.33 1.35-.1.47.24.63.68.65 1.1.02.41-.1.88-.24 1.34-.14.47-.34 1-.55 1.53l-.02.05-.59 1.59c-.37 1.12-.57 2.12-.39 2.88.09.36.26.66.55.9.3.24.76.45 1.45.57l-.16.98c-.81-.13-1.45-.4-1.92-.78a2.6 2.6 0 0 1-.9-1.44c-.25-1.05.05-2.3.43-3.43.18-.55.4-1.1.6-1.62l.02-.06c.2-.54.4-1.03.53-1.46.14-.45.2-.78.2-1-.02-.2-.07-.24-.1-.25-.04-.02-.16-.05-.45.1-.29.14-.63.4-1.03.78-.8.74-1.7 1.82-2.62 2.92l-.05.05a34.79 34.79 0 0 1-2.74 3.04c-.43.39-.86.72-1.27.92-.41.19-.9.29-1.36.02a1.04 1.04 0 0 1-.48-.7 2.52 2.52 0 0 1-.01-.84c.07-.6.3-1.35.59-2.18.5-1.4 1.26-3.15 2.04-4.93l.41-.96c.92-2.11 1.8-4.2 2.29-5.87.24-.83.37-1.51.38-2.01 0-.52-.14-.68-.23-.74-.17-.1-.45-.12-.92.06-.46.18-1 .53-1.63 1.02a32.32 32.32 0 0 0-4.02 4.09Zm2.1 12.21Z"/></svg>'},222978:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 1" width="18" height="1"><rect width="18" height="1" fill="currentColor" rx=".5"/></svg>'},114631:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 2" width="18" height="2"><rect width="18" height="2" fill="currentColor" rx="1"/></svg>'},206096:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 3" width="18" height="3"><rect width="18" height="3" fill="currentColor" rx="1.5"/></svg>'},206483:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 4" width="18" height="4"><rect width="18" height="4" fill="currentColor" rx="2"/></svg>'},266611:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="currentColor"><rect width="18" height="2" rx="1" x="5" y="14"/><rect width="18" height="1" rx=".5" x="5" y="20"/><rect width="18" height="3" rx="1.5" x="5" y="7"/></svg>'},608280:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none" stroke="currentColor"><path stroke-linecap="round" d="M15.5 18.5h6m-3 3v-6"/><rect width="6" height="6" rx="1.5" x="6.5" y="6.5"/><rect width="6" height="6" rx="1.5" x="15.5" y="6.5"/><rect width="6" height="6" rx="1.5" x="6.5" y="15.5"/></svg>'},448984:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 15" width="13" height="15" fill="none"><path stroke="currentColor" d="M4 14.5h2.5m2.5 0H6.5m0 0V.5m0 0h-5a1 1 0 0 0-1 1V4m6-3.5h5a1 1 0 0 1 1 1V4"/></svg>'}}]);