(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[56148,68984],{646021:e=>{e.exports={"common-tooltip":"common-tooltip-EJBD96zX","common-tooltip--hidden":"common-tooltip--hidden-EJBD96zX","common-tooltip--horizontal":"common-tooltip--horizontal-EJBD96zX","common-tooltip--farther":"common-tooltip--farther-EJBD96zX","common-tooltip--vertical":"common-tooltip--vertical-EJBD96zX","common-tooltip-farther":"common-tooltip-farther-EJBD96zX","common-tooltip--direction_normal":"common-tooltip--direction_normal-EJBD96zX","common-tooltip__body":"common-tooltip__body-EJBD96zX","common-tooltip__button-container":"common-tooltip__button-container-EJBD96zX","common-tooltip__body--no-buttons":"common-tooltip__body--no-buttons-EJBD96zX","common-tooltip__button":"common-tooltip__button-EJBD96zX","common-tooltip--direction_reversed":"common-tooltip--direction_reversed-EJBD96zX","common-tooltip__ear-holder":"common-tooltip__ear-holder-EJBD96zX","common-tooltip__ear-holder--below":"common-tooltip__ear-holder--below-EJBD96zX","common-tooltip__ear-holder--above":"common-tooltip__ear-holder--above-EJBD96zX","common-tooltip__ear-holder--before":"common-tooltip__ear-holder--before-EJBD96zX","common-tooltip__ear-holder--after":"common-tooltip__ear-holder--after-EJBD96zX","common-tooltip__body--with-hotkey":"common-tooltip__body--with-hotkey-EJBD96zX","common-tooltip__body--width_wide":"common-tooltip__body--width_wide-EJBD96zX","common-tooltip__body--width_narrow":"common-tooltip__body--width_narrow-EJBD96zX","common-tooltip__body--no-padding":"common-tooltip__body--no-padding-EJBD96zX","common-tooltip__hotkey-block":"common-tooltip__hotkey-block-EJBD96zX","common-tooltip__hotkey-block--divider":"common-tooltip__hotkey-block--divider-EJBD96zX","common-tooltip__hotkey-text":"common-tooltip__hotkey-text-EJBD96zX","common-tooltip__hotkey-button":"common-tooltip__hotkey-button-EJBD96zX","common-tooltip__plus-sign":"common-tooltip__plus-sign-EJBD96zX"}},507458:(e,t,o)=>{"use strict";function n(){return navigator.androidClipboard??navigator.clipboard}function i(e){return s(e,null)}function s(e,t){const o=e.files&&e.files.length>0;if(!o&&t&&t.eventPhase>0)return r(t,e),Promise.resolve();if(!o){let t=!1;const o=o=>{o.stopImmediatePropagation(),r(o,e),t=!0};try{document.addEventListener("copy",o,!0),document.execCommand("copy")}finally{document.removeEventListener("copy",o,!0)}if(t)return Promise.resolve()}return async function(e){const t=n();if(!t||!t.write||!window.ClipboardItem)throw new DOMException("ClipboardApi is not supported","NotSupportedError");const o={};for(const t of e.files||[])o[t.type]=t;e.text&&(o["text/plain"]=e.text);e.html&&(o["text/html"]=e.html);return t.write([new window.ClipboardItem(o)])}(e)}function r(e,t){e.preventDefault();const o=e.clipboardData;t.text&&o.setData("text/plain",t.text),t.html&&o.setData("text/html",t.html)}async function a(e,t){const o=n();if("text/plain"===t&&!o.write){const t=await e;return o.writeText(await t.text())}
if(!o||!o.write||!window.ClipboardItem)throw new DOMException("ClipboardApi is not supported","NotSupportedError");let i=null;try{i=new window.ClipboardItem({[t]:e})}catch(o){i=new window.ClipboardItem({[t]:await e})}if(i)return o.write([i]);throw new Error("ClipboardApi is not supported")}o.r(t),o.d(t,{copyToClipboard:()=>i,getClipboard:()=>n,writeImpl:()=>s,writePromiseUsingApi:()=>a})},764250:(e,t,o)=>{"use strict";o.d(t,{ActionGroup:()=>i});class n{constructor(e,t){this._group=e;const{hotkey:o,handler:n,desc:i,isDisabled:s,element:r=null,isRepeatAccepted:a=!1}=t;this.hotkey=o,this.handler=n,this.desc=i,this.element=r,this.isRepeatAccepted=a,this.isDisabled=s?"function"==typeof s?s:()=>!0:()=>!1}destroy(){this._group&&(this._group.remove(this),this._group=null)}}class i{constructor(e,t){this._actions=new Map,this._manager=e,this.order=t?.order??0,this.modal=!(!t||!t.modal),t&&(this.desc=t.desc),t&&t.isDisabled?"function"==typeof t.isDisabled?this.isDisabled=t.isDisabled:this.isDisabled=()=>!0:this.isDisabled=()=>!1,this._manager.registerGroup(this)}add(e){let t=this._actions.get(e.hotkey);t||(t=[],this._actions.set(e.hotkey,t));const o=new n(this,e);return t.push(o),o}remove(e){const t=this._actions.get(e.hotkey);if(!t)return;const o=t.findIndex((t=>t===e));o>=0&&(1===t.length?this._actions.delete(e.hotkey):t.splice(o,1))}handleHotkey(e,t){const o=this._actions.get(e);if(!o)return!1;for(const n of o)if((!n.element||t.target&&n.element.contains(t.target))&&!n.isDisabled(t))return t.repeat&&!n.isRepeatAccepted||(n.handler(t),this._callMatchedHotkeyHandler(e)),t.preventDefault(),!0;return!1}promote(){this._manager.promoteGroup(this)}destroy(){for(const[,e]of this._actions)for(const t of e)t.destroy();this._actions.clear(),this._manager.unregisterGroup(this)}static setMatchedHotkeyHandler(e){i._matchedHotkeyHandler=e}_callMatchedHotkeyHandler(e){i._matchedHotkeyHandler&&i._matchedHotkeyHandler(e)}}},163586:(e,t,o)=>{"use strict";o.d(t,{ActionManager:()=>c});var n=o(158942),i=o(591800),s=o(607423);class r{constructor(e,t){this.modifiers=e,this.code=t}altOrOptionCode(){return"AltLeft"===this.code||"AltRight"===this.code}controlOrMetaCode(){return i.isMacKeyboard?"MetaLeft"===this.code||"MetaRight"===this.code||"OSLeft"===this.code||"OSRight"===this.code:"ControlLeft"===this.code||"ControlRight"===this.code}}class a extends n.WatchedValue{setValue(e,t){const o=this.value();(t||void 0===o||o.code!==e.code||o.modifiers!==e.modifiers)&&super.setValue(e)}}class c{constructor(){this._groups=[],this._pressedKeys=new n.WatchedValue(0),this._keyboardPressedKeysState=new a(new r(0)),this._keyDownListener=e=>{if(e.defaultPrevented)return;const t=(0,i.hashFromEvent)(e);if(this._pressedKeys.setValue(t),this._keyboardPressedKeysState.setValue(new r((0,i.modifiersFromEvent)(e),e.code)),!(0,s.isNativeUIInteraction)(t,e.target))for(let o=this._groups.length;o-- >0;){const n=this._groups[o];if(!n.isDisabled()){if(n.handleHotkey(t,e))return;if(n.modal)return}}},this._keyUpListener=e=>{const t=(0,i.hashFromEvent)(e)
;this._pressedKeys.setValue(t),this._keyboardPressedKeysState.setValue(new r((0,i.modifiersFromEvent)(e),""))},this._blurEvent=()=>{this._pressedKeys.setValue(0),this._keyboardPressedKeysState.setValue(new r(0,""))},this._mouseEvent=e=>{const t=(0,i.modifiersFromEvent)(e),o=255&(this._pressedKeys.value()??0);this._pressedKeys.setValue(t|o)}}listen(e){e.addEventListener("keydown",this._keyDownListener),e.addEventListener("keyup",this._keyUpListener),e.addEventListener("blur",this._blurEvent),e.addEventListener("mousemove",this._mouseEvent)}unlisten(e){e.removeEventListener("keydown",this._keyDownListener),e.removeEventListener("keyup",this._keyUpListener),e.removeEventListener("blur",this._blurEvent),e.removeEventListener("mousemove",this._mouseEvent)}registerGroup(e){this._groups.push(e),this.sortGroups()}unregisterGroup(e){for(let t=this._groups.length;t--;)this._groups[t]===e&&this._groups.splice(t,1)}promoteGroup(e){const t=this._getModalOrderEpoch(),o=l(e,t);let n=this._groups.findIndex((e=>l(e,t)===o)),i=0;for(;n<this._groups.length&&l(this._groups[n],t)===o;){const s=this._groups[n];s===e?i=1:l(s,t)===o&&(this._groups[n-i]=s),n++}this._groups[n-i]=e}pressedKeys(){return this._pressedKeys.readonly()}keyboardPressedKeysState(){return this._keyboardPressedKeysState.readonly()}sortGroups(){const e=this._getModalOrderEpoch();this._groups.sort(((t,o)=>l(o,e)-l(t,e)))}_getMinOrder(){return this._groups.reduce(((e,t)=>Math.min(e,t.order)),0)}_getModalOrderEpoch(){return-2*(Math.abs(this._getMinOrder())-1)}}function l(e,t){return e.order+(e.modal?t:0)}},173777:(e,t,o)=>{"use strict";o.d(t,{SEPARATOR_PREFIX:()=>n,isSeparatorItem:()=>i});const n="###";function i(e){return e.startsWith(n)}},499994:(e,t,o)=>{"use strict";o.d(t,{getTooltipData:()=>i,setTooltipData:()=>s});const n=new WeakMap;function i(e,t){const o=n.get(e);return o instanceof Function?o(t):o&&o[t]}function s(e,t,o){if(o instanceof Function)return void n.set(e,o);const i=n.get(e),s=void 0===i||i instanceof Function?{}:i;s[t]=o,n.set(e,s)}},471802:(e,t,o)=>{"use strict";o.d(t,{getDataFromTarget:()=>m,getTooltip:()=>f,hideTooltip:()=>T,setStyle:()=>E,showTooltip:()=>g,updateTooltipTextFromTarget:()=>p});var n=o(650151),i=o(760863),s=o(969680),r=(o(142492),o(982528)),a=o(462140),c=o(638456);const l={default:"",white:"theme-white",chart:"theme-chart","round-shadow":"theme-round-shadow"},u=Object.keys(l);var d=o(499994),_=o(604286),h=o(646021);function p(e){const t=e.hasAttribute("data-tooltip")?e.getAttribute("data-tooltip"):e.getAttribute("title");return t&&((0,d.setTooltipData)(e,"text",t),e.removeAttribute("title")),(0,d.getTooltipData)(e,"text")||""}function m(e){const t=p(e),o=e.getBoundingClientRect(),n={h:o.height,w:o.width,x:o.left,y:o.top},i=e.getAttribute("data-color-theme")||"",s=e.classList.contains("common-tooltip-html"),r=parseInt(e.getAttribute("data-tooltip-delay")||""),a=parseInt(e.getAttribute("data-tooltip-debounce")||"");let c={type:"none"};return t&&(c={type:s?"html":"text",data:t}),{above:e.classList.contains("common-tooltip-above"),
below:e.classList.contains("common-tooltip-below"),otl:e.classList.contains("common-tooltip-otl"),otr:e.classList.contains("common-tooltip-otr"),vertical:e.classList.contains("common-tooltip-vertical"),hotkey:e.getAttribute("data-tooltip-hotkey"),narrow:e.classList.contains("common-tooltip-narrow"),wide:e.classList.contains("common-tooltip-wide"),colorTheme:i,tooltipDelay:r,tooltipDebounce:a,rect:n,content:c,target:e}}function f(e){const t=(0,n.ensureNotNull)(R).cloneNode(!0),o=C(t),{content:i}=e;switch(i.type){case"element":o.innerHTML="",o.appendChild(i.data);break;case"html":o.innerHTML=i.data;break;case"text":if(e.hotkey){const e=(0,n.ensureNotNull)(O).cloneNode(!0);e.innerText=i.data,o.appendChild(e)}else o.innerText=i.data}if(e.hotkey){const t="none"!==i.type,s=(0,n.ensureNotNull)(b).cloneNode(!0),r=(0,_.hotKeyDeserialize)(e.hotkey),a=r.keys.map((e=>`<span class="${h["common-tooltip__hotkey-button"]}">${e}</span>`));s.innerHTML=function(e,t){const o=/{\d}|{hotkey_\d}/gi;return e.replace(o,(e=>{const o=Number(e.match(/\d/));return t[o]}))}(r.text,a).replace(/\s\+\s/g,`<span class="${h["common-tooltip__plus-sign"]}">+</span>`),o.classList.add(h["common-tooltip__body--with-hotkey"]),t&&s.classList.add(h["common-tooltip__hotkey-block--divider"]),o.appendChild(s)}return t.addEventListener("contextmenu",r.preventDefault),t}function E(e,t){const o=t.rect;if(!o)return;!function(e,t){const o=u.includes(t)?l[t]:"";e.classList.remove(...u.map((e=>l[e])).filter((e=>!!e))),o&&!e.classList.contains(o)&&e.classList.add(o)}(e,t.colorTheme||"default"),t.addClass&&e.classList.add(t.addClass);const n=C(e),i=e.querySelector(`.${h["common-tooltip__button-container"]}`);n.classList.toggle(h["common-tooltip__body--width_wide"],Boolean(t.wide)),n.classList.toggle(h["common-tooltip__body--no-padding"],Boolean(t.noPadding)),n.classList.toggle(h["common-tooltip__body--width_narrow"],Boolean(t.narrow)),n.classList.toggle(h["common-tooltip__body--no-buttons"],!0),n.style.left=S(0),n.style.width=S(n.clientWidth+(Boolean(t.noPadding)?0:2));const r=document.body.clientWidth,d=c.CheckMobile.iOS()||c.CheckMobile.Android()||(0,c.supportTouch)()&&(0,c.isMac)()?window.innerHeight:document.body.clientHeight,_=t.vertical,p=t.extendMargin||_&&o.w<20||!_&&o.h<20;e.classList.toggle(h["common-tooltip--farther"],p),e.classList.toggle(h["common-tooltip--vertical"],_),e.classList.toggle(h["common-tooltip--horizontal"],!_);const m=function(e){return e.querySelector(`.${h["common-tooltip__ear-holder"]}`)}(e),f=e.offsetHeight;if(_){const c=10,l=d-10,u=12,_=c+u,p=l-u,E=(0,a.clamp)(o.y+o.h/2,_,p)-f/2,g=E+f;e.style.left=S(o.x+o.w),e.style.top=S(E),E<c?n.style.top=i.style.top=S(c-E):g>l&&(n.style.top=i.style.top=S(l-g));const{right:T}=(e.querySelector(":last-child")||n).getBoundingClientRect(),I=T+10>r;e.classList.toggle(h["common-tooltip--direction_reversed"],I),e.classList.toggle(h["common-tooltip--direction_normal"],!I);let A=I?"after":"before";(0,s.isRtl)()?(A=t.otr?"after":A,A=t.otl?"before":A):(A=t.otr?"before":A,A=t.otl?"after":A),
m.classList.toggle(h["common-tooltip__ear-holder--before"],"before"===A),m.classList.toggle(h["common-tooltip__ear-holder--after"],"after"===A),"after"===A&&(e.style.left="auto",e.style.right=S(r-o.x))}else{const s=o.x-(n.offsetWidth-o.w)/2,a=r-e.offsetWidth-20<=0?(r-e.offsetWidth)/2:10,c=r-a-e.offsetWidth,l=Math.max(a,Math.min(s,c));e.style.left=S(l);const u=c<s;e.classList.toggle(h["common-tooltip--direction_reversed"],u),e.classList.toggle(h["common-tooltip--direction_normal"],!u);const _=function(e,t,o,n){if(e.above)return N(t,n)?"above":"below";if(e.below)return function(e,t,o){return o.y+o.h+t+10<e}(t,o,n)?"below":"above";return N(o,n)?"above":"below"}(t,d,f,o);"above"===_?e.style.bottom=S(d-o.y):e.style.top=S(o.y+o.h),m.classList.add("above"===_?h["common-tooltip__ear-holder--above"]:h["common-tooltip__ear-holder--below"]);const{left:p}=n.getBoundingClientRect();let E=Math.trunc(o.x+o.w/2-(p+n.clientWidth/2));e.style.left=S(l+E),e.style.width=S(n.clientWidth+i.clientWidth),E=u?Math.max(0,E):Math.min(0,E),i.style.left=S(-E),n.style.left=S(-E)}}function g(e){e.classList.toggle(h["common-tooltip--hidden"],!1)}function T(e){e.classList.toggle(h["common-tooltip--hidden"],!0)}function S(e){return`${Math.floor(e)}px`}const I=`\n\t<div id="common-tooltip-wrapper" class="${h["common-tooltip"]}">\n\t\t<div class="${h["common-tooltip__ear-holder"]}" >\n\t\t\t<div class="${h["common-tooltip__body"]} js-tooltip-body"></div>\n\t\t</div>\n\t\t<div class="${h["common-tooltip__button-container"]}"></div>\n\t</div>\n`,A=`\n\t<div class="${h["common-tooltip__hotkey-block"]}"></div>\n`,y=`\n\t<div class="${h["common-tooltip__hotkey-text"]}"></div>\n`,R=(0,i.parseHtmlElement)(I),b=(0,i.parseHtmlElement)(A),O=(0,i.parseHtmlElement)(y);function C(e){return e.querySelector(`.${h["common-tooltip__body"]}`)}function N(e,t){return 10+e<t.y}},630112:(e,t,o)=>{"use strict";o.d(t,{empty:()=>r,setTooltip:()=>a});const n="tooltip-root-element";let i;function s(){const e=document.getElementById(n);e?i=e:(i=document.createElement("div"),i.id=n,document.body.appendChild(i))}function r(){i&&(i.innerHTML="")}function a(e){r(),i||s(),i.appendChild(e)}"interactive"===document.readyState?s():document.addEventListener("DOMContentLoaded",s)},112539:(e,t,o)=>{"use strict";o.d(t,{clearSchedule:()=>r,scheduleHide:()=>c,scheduleRemove:()=>a,scheduleRender:()=>l});let n=0,i=0,s=0;function r(){clearTimeout(n),clearTimeout(i),clearTimeout(s)}function a(e,t){s=setTimeout(e,t)}function c(e,t){i=setTimeout(e,t)}function l(e,t){n=setTimeout(e,t)}},351440:(e,t,o)=>{"use strict";async function n(){return Promise.all([o.e(33334),o.e(18883),o.e(32937),o.e(98185),o.e(46195),o.e(15371),o.e(38452),o.e(87833),o.e(56963),o.e(82321),o.e(62526),o.e(97486)]).then(o.bind(o,826618))}o.d(t,{importPopupRender:()=>n})},613122:(e,t,o)=>{"use strict";o.r(t),o.d(t,{closeCurrentPublicationViewPopup:()=>u,getPublicationType:()=>r,importEntryComponent:()=>a,openPublicationViewPopup:()=>_,preloadPublicationViewPopup:()=>d});var n=o(783359),i=o(351440)
;const s=new Set([n.ScriptType.Indicator,n.ScriptType.Library,n.ScriptType.Strategy,"indicator","library","strategy"]);function r({isVideo:e,isScript:t,scriptType:o}){switch(!0){case e:return"video";case t:case s.has(o||""):return"script";default:return"idea"}}async function a(e){switch(e){case"video":return Promise.all([o.e(33941),o.e(98185),o.e(83439),o.e(92537),o.e(61681),o.e(98933),o.e(61171),o.e(67780),o.e(38752),o.e(19190),o.e(78894),o.e(39759),o.e(38452),o.e(90579),o.e(87833),o.e(73425),o.e(52186),o.e(67691),o.e(76052),o.e(20563),o.e(84712),o.e(99787),o.e(71803),o.e(43329),o.e(40887),o.e(50575),o.e(87265),o.e(14391),o.e(93240),o.e(32950),o.e(89126),o.e(27702),o.e(55033),o.e(16990),o.e(11069),o.e(78257),o.e(6061),o.e(37242),o.e(84616),o.e(59546),o.e(18639),o.e(45868),o.e(68417),o.e(98559),o.e(92874),o.e(44059),o.e(96908),o.e(38490),o.e(42893),o.e(54468),o.e(65161),o.e(38110),o.e(13556),o.e(14405),o.e(83732),o.e(33289),o.e(92400),o.e(95542),o.e(32299),o.e(91961),o.e(65835),o.e(48598),o.e(80226),o.e(1508),o.e(9021),o.e(26383),o.e(63922),o.e(50884),o.e(52165),o.e(24781),o.e(9123),o.e(97286),o.e(626),o.e(5566),o.e(95330),o.e(53387),o.e(98392),o.e(4198),o.e(85387),o.e(64134),o.e(28189),o.e(82321),o.e(47793),o.e(82043),o.e(24951),o.e(73248),o.e(82687),o.e(19195),o.e(19642),o.e(54921),o.e(88536),o.e(59423),o.e(57084),o.e(25149),o.e(82196),o.e(15166),o.e(16177),o.e(20389),o.e(97071)]).then(o.bind(o,720253)).then((e=>e.PublicationViewVideo));case"script":return Promise.all([o.e(98419),o.e(98185),o.e(83439),o.e(92537),o.e(61681),o.e(98933),o.e(61171),o.e(67780),o.e(38752),o.e(19190),o.e(78894),o.e(39759),o.e(90579),o.e(73425),o.e(52186),o.e(67691),o.e(65743),o.e(76052),o.e(20563),o.e(50874),o.e(98158),o.e(84712),o.e(84587),o.e(99787),o.e(71803),o.e(43329),o.e(40887),o.e(50575),o.e(87265),o.e(14391),o.e(27321),o.e(93240),o.e(32950),o.e(89126),o.e(92990),o.e(27702),o.e(55033),o.e(16990),o.e(11069),o.e(78257),o.e(82870),o.e(6061),o.e(37242),o.e(84616),o.e(59546),o.e(18639),o.e(45868),o.e(68417),o.e(98559),o.e(92874),o.e(44059),o.e(96908),o.e(38490),o.e(42893),o.e(54468),o.e(65161),o.e(38110),o.e(13556),o.e(14405),o.e(83732),o.e(33289),o.e(92400),o.e(95542),o.e(32299),o.e(91961),o.e(65835),o.e(48598),o.e(80226),o.e(1508),o.e(9021),o.e(26383),o.e(63922),o.e(50884),o.e(52165),o.e(24781),o.e(68056),o.e(9123),o.e(97286),o.e(626),o.e(5566),o.e(95330),o.e(53387),o.e(98392),o.e(4198),o.e(85387),o.e(17909),o.e(82321),o.e(47793),o.e(82043),o.e(24951),o.e(73248),o.e(82687),o.e(19195),o.e(13831),o.e(19642),o.e(16187),o.e(54921),o.e(88536),o.e(59423),o.e(57084),o.e(25149),o.e(82196),o.e(15166),o.e(16177),o.e(20389),o.e(30532),o.e(14675)]).then(o.bind(o,349414)).then((e=>e.PublicationViewScript));case"idea":
return Promise.all([o.e(98419),o.e(98185),o.e(83439),o.e(92537),o.e(61681),o.e(98933),o.e(61171),o.e(67780),o.e(38752),o.e(19190),o.e(78894),o.e(39759),o.e(90579),o.e(73425),o.e(52186),o.e(67691),o.e(65743),o.e(76052),o.e(20563),o.e(50874),o.e(98158),o.e(84712),o.e(84587),o.e(99787),o.e(71803),o.e(43329),o.e(40887),o.e(50575),o.e(87265),o.e(14391),o.e(27321),o.e(93240),o.e(32950),o.e(89126),o.e(92990),o.e(27702),o.e(55033),o.e(16990),o.e(11069),o.e(78257),o.e(82870),o.e(6061),o.e(37242),o.e(84616),o.e(59546),o.e(18639),o.e(45868),o.e(68417),o.e(98559),o.e(92874),o.e(44059),o.e(96908),o.e(38490),o.e(42893),o.e(54468),o.e(65161),o.e(38110),o.e(13556),o.e(14405),o.e(83732),o.e(33289),o.e(92400),o.e(95542),o.e(32299),o.e(91961),o.e(65835),o.e(48598),o.e(80226),o.e(1508),o.e(9021),o.e(26383),o.e(63922),o.e(50884),o.e(52165),o.e(24781),o.e(68056),o.e(9123),o.e(97286),o.e(626),o.e(5566),o.e(95330),o.e(53387),o.e(98392),o.e(4198),o.e(85387),o.e(17909),o.e(82321),o.e(47793),o.e(82043),o.e(24951),o.e(73248),o.e(82687),o.e(19195),o.e(13831),o.e(19642),o.e(16187),o.e(54921),o.e(88536),o.e(59423),o.e(57084),o.e(25149),o.e(82196),o.e(15166),o.e(16177),o.e(20389),o.e(30532),o.e(84822)]).then(o.bind(o,111802)).then((e=>e.PublicationViewIdea))}}let c=!1;async function l(){return c=!0,o.e(58214).then(o.bind(o,661254))}async function u(){if(!c)return;const e=await l();await e.closeCurrentPublicationViewPopup()}async function d(e){l(),(0,i.importPopupRender)(),a(e)}async function _(e){return(await l()).openPublicationViewPopup(e)}},214258:(e,t,o)=>{"use strict";o.d(t,{solutionIds:()=>n})
;const n=JSON.parse('{"EXTENDED_HOURS":43000502023,"PRE_MARKET":43000502023,"POST_MARKET":43000502023,"SPREAD_CHARTS":43000502298,"ALERTS":43000520149,"ALERT_ON_STRATEGY":43000481368,"ALERT_WEBHOOK":43000529348,"ALERT_DESCRIPTION_PLACEHOLDER":43000531021,"ALERT_RECEIVE_NOTIFICATIONS_OH_PHONE":43000474389,"ALERT_USE_ALTERNATIVE_EMAIL":43000474394,"ALERT_WEBHOOK_CREDENTIALS":43000722015,"ALERT_KEEP_TOASTS_VISIBLE":43000737982,"VOLUME_PROFILE":43000502040,"VOLUME_PROFILE_INDICATOR":43000557450,"RENKO":43000502284,"KAGI":43000502272,"LINE_BREAK":43000502273,"PNF":43000502276,"FINANCIAL_DATA":43000543506,"BROKER_RATING":43000542490,"CRYPTO_MARKET_CAP":43000540941,"CRYPTO_PAYMENT":43000485536,"ALERT_ON_SPREAD":43000478406,"ALERT_DEGRADED_STATE":43000739521,"ALERT_ON_LOG_SCALE":43000690942,"ALERT_ON_CUSTOM_SCRIPT":43000478415,"ALERT_FUNCTION":43000597494,"SMS_VERIFICATION":43000553429,"MAGNET_MODE":43000537270,"PRIVACY_SETTINGS":43000548335,"PUBLICATION_TYPE":43000609497,"SCRIPT_ACCESS":43000482573,"FREE_USER_FAQS":43000590947,"STRATEGY_UNREALISTIC_RESULTS":43000481029,"STRATEGY_FUTURE_DATA":43000614705,"HOW_TO_USE_PAPER":43000516466,"HOW_TO_USE_CQG":43000516372,"HOW_TO_USE_OANDA":43000516375,"HOW_TO_USE_FOREXCOM":43000516374,"FAVORITE_IDEA":43000555216,"AUTHORS_INSTRUCTIONS_PUBCLICATION":43000549951,"AUTHORS_INSTRUCTIONS_EDIT":43000614618,"SCRIPT_INSTRUCTIONS":43000482573,"BAR_REPLAY_UNAVAILABILITY":43000475470,"WHAT_IS_CBOE_BZX_EXCHANGE":43000473924,"GOPRO_UPGRADE_DESCRIPTION":43000473324,"GOPRO_DOWNGRADE_DESCRIPTION":43000485437,"GOPRO_RENEW_ANNUAL_MONTHLY_DESCRIPTION":43000644491,"FINANCIALS_OWNERSHIP":43000699479,"FINANCIALS_VALUATION_SUMMARY":43000699484,"FINANCIALS_VALUATION_RATIOS":43000699495,"FINANCIALS_GROWTH_AND_PROFITABILITY":43000699485,"FINANCIALS_REVENUE_TO_PROFIT_CONVERSION":43000699496,"FINANCIALS_REVENUE_BREAKDOWN_BY_SOURCE":43000699487,"FINANCIALS_REVENUE_BREAKDOWN_BY_COUNTRY":43000699497,"FINANCIALS_REVENUE_ESTIMATES":43000699489,"FINANCIALS_EARNINGS_ESTIMATES":43000699498,"FINANCIALS_DIVIDEND_SUMMARY":43000699500,"FINANCIALS_DIVIDEND_HISTORY":43000699501,"FINANCIALS_DEBT_LEVEL":43000699502,"FINANCIALS_POSITION":43000699503,"FIRE_CONTROL_SOLUTION":43000690939,"BROKERAGE_REVIEWS":43000591351,"LINKS_TO_SOCIAL_MEDIA":43000635806,"PINE_LIBRARY_INFO":43000638371,"HOW_DO_I_UPDATE_DESKTOP_APP":43000647779,"TECHNICAL_RATINGS":43000614331,"BACKTESTING_WIDGET":43000562362,"BACKTESTING_NO_DATA":43000478450,"BACKEND_CONNECTIONS":43000694474,"DEEP_BACKTESTING_WIDGET":43000670566,"DEEP_BACKTESTING":43000666199,"DEEP_BACKTESTING_AVAILABLE_DATA":43000668210,"BETA_BROKERS":43000673434,"VIDEO_UPLOAD_FAILED":43000666607,"VIDEO_DEVICE_ACCESS":43000677209,"PUBLIC_INVITE_ONLY_SCRIPTS":43000614617,"PRIVATE_INVITE_ONLY_SCRIPTS":43000614617,"HOW_DOES_BRACKETS_MANAGEMENT_WORK":43000631987,"HOW_TO_SEE_THE_DEEPEST_HIST_DATA":43000687053,"I_CANT_SEE_ALL_HIST_DATA_ON_RES_LOWER_THAN_DAY":43000480679,"IDEAS_ON_CHART":43000694285,"GET_A_REFUND":43000485430,"USE_SETTLEMENT_AS_CLOSE_ON_DAILY_INTREVAL":43000685268,"ADJUST_FOR_CONTRACT_CHANGES":43000685266,"SWITCHING_CONTINUOUS_FUTURES_CONTRACTS":43000689313,"ADJUST_DATA_FOR_DIVIDENDS":43000590597,"WHY_IS_MY_ACCOUNT_BANNED":43000674726,"HOW_TO_PUBLISH_A_VIDEO_IDEA":43000476752,"TELL_ME_MORE_ABOUT_THE_COMMUNITY_SCRIPTS":43000558522,"HOW_TO_POST_AWESOME_IDEAS_AND_GET_LOTS_OF_LIKES":43000603748,"ABOUT_EXPERT_PLAN":43000677382,"CONNECTIONS_LIMIT_EXCEEDED":43000693877,"ACCOUNT_RECOVERY":43000619597,"HOW_TO_SYNC_CHARTS_ON_LAYOUT":43000629992,"HOW_TO_SEE_BUILTIN_INDICATOR_SOURCE":43000481659,"MULTI_CHART_MODE":43000629990,"QUICK_SEARCH":43000659671,"WHATS_AN_INDICATOR":43000543626,"CHART_TYPES":43000703407,"DRAWING_TOOLS":43000703396,"CUSTOM_INTERVALS":43000543883,"CUSTOM_RANGE_BARS":43000474007,"CANDLESTICK_PATTERNS":43000584462,"MULTI_TIMEFRAME_CHARTS":43000502591,"BAR_REPLAY":43000712747,"PINE_SCRIPT":43000561836,"SCREENER_OVERVIEW":43000635796,"AUTO_CHART_PATTERNS":43000690464,"HOW_TO_PROTECT_YOUR_ACCOUNT":43000582277,"PLUS_BUTTON":43000645256,"PLAN_UPGRADED_BUT_DATA_STILL_DELAYED":43000471705,"WHY_TAX_HAS_BEEN_ADDED_TO_MY_BILL":43000684741,"COMPARE_SYMBOLS_TOOL":43000543053,"SAVED_CHART":43000692404,"CUSTOM_INDICATOR":43000543048,"BIST_MIXED_SUBSCRIPTION":43000609137,"WHY_RENKO_NOT_WORK":43000711502,"ALERTS_SEPARATION_BY_TYPE":43000696403,"WATCHLIST_ALERTS":43000739708,"HOW_TO_SET_UP_ALERTS":43000595315,"PINE_SCRIPT_STRATEGIES":43000562362,"PINE_SCREENER":43000742436,"ECONOMIC_CALENDAR":43000707391,"SCRIPT_PUBLISHING_RULES":43000590599,"DIFFERENCE_BETWEEN_PRO_AND_NONPRO_PLANS":43000677382,"HOW_TO_USE_MINDS":43000690226,"HOW_TO_USE_TRADINGVIEW_CHAT":43000604448,"PAPER_COMPETITION":43000593579,"PAPER_COMPETITION_ACCOUNT":43000721315,"PAPER_COMPETITION_PRIZE":43000721317,"PAPER_COMPETITION_FREE_ACCOUNT":43000721310,"PUBLISHING_AND_UPDATING_IDEAS":43000591338,"USING_MINDS":43000696301,"PUBLISH_VIDEO_IDEA":43000476752,"TAROT_DECK":43000724020,"VAT_NUMBER_GUIDE":43000721910,"AVAILABLE_COMPETITION_INSTRUMENTS":43000721311,"PINE_PERFORMANCE_PROFILER":43000725216,"PINE_LOGS_INFO":43000710876,"INDICATORS":43000474048,"CHART_DATA_EXPORT":43000537255,"TIME_PRICE_OPPORTUNITIES":43000713306,"TICK_INTERVALS":43000709225,"VOLUME_FOOTPRINT":43000726164,"VOLUME_CANDLES":43000724995,"HEIKIN_ASHI":43000619436,"HLC_AREA":43000709062,"BASELINE":43000690232,"HIGH_LOW":43000677196,"COLUMNS":43000673912,"GIFTS":43000739401,"HOW_TO_BECOME_MODERATOR":43000591356,"HOW_TO_FIND_PINE_PROGRAMMER":43000601677,"HOW_TO_CHANGE_REPLAY_INTERVAL":43000739158,"SEASONALS":43000745201,"BAR_CHARTS":43000672403,"CANDLES_CHARTS":43000745269,"HOLLOW_CANDLES_CHARTS":43000745270,"LINE_CHARTS":43000745271,"STEP_LINE_CHARTS":43000745272,"LINE_WITH_MARKERS_CHARTS":43000745273,"AREA_CHARTS":43000745274,"SESSION_VOLUME_PROFILE_CHARTS":43000745275,"TIME_PRICE_OPPORTUNITIES_CHARTS":43000725590,"BACKTESTING_BAR_MAGNIFIER":43000669285,"SOCIAL_NETWORK_HOUSE_RULES":43000591638,"QUICK_AND_EASY_GUIDE":43000718885,"HOW_TO_USE_FILTERS":43000718745,"CHART_VIEW_MODE":43000724233,"WATCHLIST_ALERTS_OTHER":43000739708,"WATCHLIST_ALERTS_HOW":43000653369,"WATCHLIST_ALERTS_CUSTOMIZE":43000662506,"PUBLISH_AN_IDEA":43000589083,"SUPERCHARTS":43000746464,"BASICS":43000746682,"TIME_INTERVALS":43000747934,"LAYOUTS":43000746975,"CONFIGURE":43000748166,"MASTERING":43000745825,"MULTI_TIMEFRAME_ANALYSIS":43000591555,"SET_UP_ALTERNATIVE_EMAIL_ADDRESS":43000474398,"DELETE_ACCOUNT":43000550534,"SIGNATURE_ON_POSTS":43000472770,"SCREENER_DEX":43000744465,"SCREENER_CEX":43000746110,"SCREENER_CRYPTO":43000718742,"SCREENER_BOND":43000743951,"SCREENER_ETF":43000718743,"SCREENER_STOCK":43000718866,"OPTIONS_BUILDER":43000707214,"NEWS_FLOW":43000728828,"HOW_TO_CONFIGURE_2FA":43000572460,"INTRADAY_RENKO_KAGI":43000758617,"DATA_ECONOMIC_CALENDAR":43000759911,"EARNINGS_CALENDAR":43000759912,"DIVIDEND_CALENDAR":43000759913,"TECHNICAL_ANALYSIS":43000759577,"FUNDAMENTAL_ANALYSIS":43000759574,"FINANCIAL_STATEMENTS_HOWTO":43000760059,"ONE_CLICK_TRADING":43000480920,"PROFIT_LOSS_TYPE_SELECTION":43000761181,"TIPS_FOR_SCRIPT_AUTHORS":43000549935,"UPDATE_PINE_SCRIPTS":43000530720,"EXPORT_STRATEGY_DATA":43000613680,"YIELD_CURVES":43000758123,"NEWS_ALERTS":43000762838}')
},470316:(e,t,o)=>{"use strict";o.d(t,{Modifiers:()=>n.Modifiers,hashFromEvent:()=>n.hashFromEvent,humanReadableHash:()=>n.humanReadableHash,humanReadableModifiers:()=>n.humanReadableModifiers,isMacKeyboard:()=>n.isMacKeyboard,modifiersFromEvent:()=>n.modifiersFromEvent});var n=o(591800)},849204:(e,t,o)=>{"use strict";o.d(t,{LogoSize:()=>n,getLogoUrlResolver:()=>c});var n,i=o(650151),s=o(588948);!function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(n||(n={}));class r{constructor(e){(0,i.assert)(""!==e,"S3 base url must be a non-empty string"),this._baseUrl=e}getSymbolLogoUrl(e,t){switch((0,i.assert)(""!==e,"logo id must be a non-empty string"),t){case n.Medium:return this._baseUrl+`${e}.svg`;case n.Large:return this._baseUrl+`${e}--big.svg`}}collectSymbolLogoUrls(e,t){const{logoId:o,baseCurrencyLogoId:n,currencyLogoId:i,dexCurrencyLogoId:s}=e;if(o)return[this.getSymbolLogoUrl(o,t)];const r=[];if(n&&r.push(this.getSymbolLogoUrl(n,t)),s?r.push(this.getSymbolLogoUrl(s,t)):i&&r.push(this.getSymbolLogoUrl(i,t)),r.length<2)return r;const a=r.some(l),c=r.every((e=>!e.includes("country")||l(e)));return a&&c?r.filter((e=>!l(e))):r;function l(e){return e.includes("country/US")}}getCountryFlagUrl(e,t){return this.getSymbolLogoUrl("country/"+e,t)}getCryptoLogoUrl(e,t){return this.getSymbolLogoUrl("crypto/"+e,t)}getProviderLogoUrl(e,t){return this.getSymbolLogoUrl("provider/"+e,t)}getSourceLogoUrl(e,t){return this.getSymbolLogoUrl("source/"+e,t)}getBlockchainContractLogoUrl(e,t){return this.getSymbolLogoUrl("blockchain/"+e,t)}}let a;function c(){return function(){if(!a){const e=(0,s.getInitData)(),t=e.settings?e.settings.S3_LOGO_SERVICE_BASE_URL:"";a=new r(t)}return a}()}},776734:(e,t,o)=>{"use strict";async function n(){if(!window.user||window.user.do_not_track)return null;{const e=(await Promise.all([o.e(73034),o.e(69374),o.e(24081)]).then(o.bind(o,823623))).getTrackerInstance();return e||null}}o.d(t,{getTracker:()=>n})},519073:(e,t,o)=>{"use strict";function n(e){return void 0!==e&&e.includes("crypto")}function i(e,t){return"stock"===e&&t.includes("right")||"right"===e}function s(e,t){return r(e,t)||"stock"===e&&t.includes("fund")&&t.includes("etf")||"structured"===e&&t.includes("etn")}function r(e,t){return"fund"===e&&t.includes("etf")}function a(e){return"bond"===e}function c(e,t){return"bond"===e&&t.includes("corporate")}function l(e){return"economic"===e}function u(e){return"option"===e}function d(e){return"dex"===e?.centralization}function _(e){return"spread"===e}function h(e){return"futures"===e}function p(e){return"forex"===e}function m(e,t,o){return n(t)&&"spot"===e&&"USD"===o}function f(e,t){return"spot"===e&&t.includes("cryptoasset")}function E(e,t,o){return Boolean("bond"===e&&o&&t.includes("government"))}function g(e,t){return Boolean("bond"===e&&t.includes("government")&&!t.includes("benchmark"))}function T(e){return Boolean(e.typespecs?.includes("yield"))}function S(e,t){
return"stock"===e&&t.includes("common")||"stock"===e&&t.includes("preferred")||"stock"===e&&t.includes("forward")||"stock"===e&&t.includes("bonus")||"stock"===e&&t.includes("cfd")||"fund"===e&&t.includes("mutual")||"fund"===e&&t.includes("unit")||"fund"===e&&t.includes("trust")||"fund"===e&&t.includes("reit")||"fund"===e&&t.includes("etn")||"fund"===e&&t.includes("closedend")||"bond"===e&&t.includes("convertible")||"dr"===e||"warrant"===e||"structured"===e&&!t.includes("etn")}function I(e){return e?.includes("discontinued")??!1}o.d(t,{hasCryptoTypespec:()=>n,isBond:()=>a,isCorporateBond:()=>c,isCryptoSpotUsd:()=>m,isCryptoassetSpot:()=>f,isDex:()=>d,isEconomicSymbol:()=>l,isEtf:()=>s,isForexSymbol:()=>p,isFundEtf:()=>r,isFutures:()=>h,isGovernmentBenchmarkBond:()=>E,isGovernmentOnlyBond:()=>g,isOption:()=>u,isRight:()=>i,isSpread:()=>_,isStocksSymbol:()=>S,isSymbolDelisted:()=>I,isYield:()=>T})},526225:(e,t,o)=>{"use strict";o.d(t,{syncUserConversionData:()=>_,syncUserData:()=>d});var n=o(735566),i=o(345848),s=o(383913),r=o(803912),a=o(357173);const c=(0,n.getLogger)("User.Sync");function l(e){return`${e}_${window.user&&window.user.username||""}`}function u(e){const{source:t,isAuthenticated:o,proPlan:n,offers:r,fireLoginChange:a=!0}=e;n!==window.user.pro_plan&&(window.user.pro_plan=n,window.user.is_pro=Boolean(n),(0,i.trackEvent)("Sync User Data","Different Pro Plan",l(t))),o!==window.is_authenticated&&(window.is_authenticated=o,a&&window.loginStateChange.fire(),(0,i.trackEvent)("Sync User Data","Different Auth",l(t))),r&&s.availableOffers.setInitial(r)}async function d(e){try{u({source:e,isAuthenticated:!0,proPlan:(await(0,a.getProPlanDetailsForUser)()).pro_plan})}catch(t){!function(e,t){403===t.status&&["not_authenticated","login_required"].includes(t.type||"")?u({source:e,isAuthenticated:!1,proPlan:void 0}):c.logError(t.message)}(e,t)}}async function _(e,t=!0){const o=new URL("/pricing/",window.location.origin),n=new URLSearchParams(window.location.search);n.has("_test_country")&&o.searchParams.append("_test_country",n.get("_test_country")??""),o.searchParams.append("component-data-only","1");const i=await(0,r.fetch)(o.href),s=await i.json();return u({source:e,isAuthenticated:s.is_authenticated,proPlan:s.user.pro_plan,fireLoginChange:t,offers:s.user.available_offers}),s}},83871:(e,t,o)=>{"use strict";o.d(t,{SYMBOL_LIST_SERVICE:()=>n});const n={id:"SymbolListService"}},920389:(e,t,o)=>{"use strict";o.d(t,{runOrSignIn:()=>r,runOrSignInWithPromo:()=>a});var n=o(931924),i=o(810978);const s=n.enabled("widget");function r(e,t){s?e():window.runOrSignIn(e,t)}function a(e,t,o){s?o():(0,i.runOrSigninWithFeature)(o,{...t,feature:e})}},224743:(e,t,o)=>{"use strict";o.d(t,{globalCloseDelegate:()=>n,globalCloseMenu:()=>i});const n=new(o(547465).Delegate);function i(){n.fire()}},534197:(e,t,o)=>{"use strict";o.d(t,{getQuoteSessionInstance:()=>a});var n=o(23123),i=o(89831),s=o(900608);const r={};function a(e="full"){return r[e]||function(e="full",t){r[e]=t}(e,new n.QuoteSessionMultiplexer({name:e,api:window.ChartApiInstance,
fields:c[e],extensions:{formatter:e=>new l(e).formatter,snapshot:e=>new u(e).snapshot}})),r[e]}const c={simple:["base-currency-logoid","ch","chp","currency-logoid","currency_code","currency_id","base_currency_id","current_session","description","exchange","format","fractional","is_tradable","language","local_description","listed_exchange","logoid","lp","lp_time","minmov","minmove2","original_name","pricescale","pro_name","short_name","type","typespecs","update_mode","volume","variable_tick_size","value_unit_id","unit_id","measure"]};c.simpleDetailed=[...c.simple,"ask","bid","fundamentals","high_price","is_tradable","low_price","open_price","prev_close_price","rch","rchp","rtc","rtc_time","status","basic_eps_net_income","beta_1_year","earnings_per_share_basic_ttm","industry","market_cap_basic","price_earnings_ttm","sector","volume","dividends_yield","timezone"],c.full=[],c.watchlist=[...c.simple,"rchp","rtc","country_code","provider_id","dividends_availability","financials_availability","earnings_availability"],c.portfolio=["pro_name","short_name","exchange","listed_exchange","description","local_description","language","sector","type","typespecs","industry","currency_code","currency_id","ch","chp","logoid","currency-logoid","base-currency-logoid","earnings_per_share_forecast_next_fq","earnings_release_next_date","earnings_release_date","earnings_per_share_fq","lp","fractional","minmov","minmove2","pricescale","volume","average_volume","market_cap_calc","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","fundamental_currency_code","rates_mc","rates_fy","rates_ttm","format","value_unit_id","unit_id","measure"],c.notes=["short_name","pro_name","logoid","currency-logoid","base-currency-logoid","symbol-primaryname","type","typespecs"],c.estimates=["fundamental_data","type","typespecs","earnings_per_share_forecast_next_symbol_currency_fq","earnings_release_next_aligned_date","earnings_release_next_calendar_date","earnings_release_next_date"],c.economic=["reference-last-period","lp","currency_code","value_unit_id","unit_id","measure"],c.options=["ask","bid","lp","volume"];class l{constructor(e){this._formatterValuesCache={},this._waitingForFormatters={},this.formatter=(e,t)=>{if(this._waitingForFormatters[e])return this._waitingForFormatters[e];function o(e){const o=t&&!e.fractional?1:e.minmov;return new i.PriceFormatter({priceScale:e.pricescale,minMove:o,fractional:e.fractional,minMove2:e.minmove2})}const n=new Promise(((t,n)=>{if(this._formatterValuesCache[e])t(o(this._formatterValuesCache[e]));else{const i=(0,s.guid)();this._multiplexer.subscribe(i,[e],(s=>{"error"===s.status&&(this._waitingForFormatters[e]=null,n("Quotes snapshot is not received")),function(e){return e&&null!=e.pricescale&&null!=e.minmov}(s.values)&&(this._waitingForFormatters[e]=null,this._formatterValuesCache[e]=s.values,t(o(s.values)),this._multiplexer.unsubscribe(i,e))}))}}));return this._waitingForFormatters[e]=n,n},this._multiplexer=e}}class u{
constructor(e){this._snapshotValuesCache={},this._waitingForSnapshot={},this.snapshot=e=>{if(this._waitingForSnapshot[e])return this._waitingForSnapshot[e];const t=new Promise(((t,o)=>{if(this._snapshotValuesCache[e])t(this._snapshotValuesCache[e]);else{const n=(0,s.guid)();this._multiplexer.subscribe(n,[e],(i=>{"error"===i.status&&(this._waitingForSnapshot[e]=null,o("Quotes snapshot is not received"));const s=i.values;s&&s.minmov&&s.pricescale&&s.description&&(this._waitingForSnapshot[e]=null,this._snapshotValuesCache[e]=s,t(s),this._multiplexer.unsubscribe(n,e))}))}}));return this._waitingForSnapshot[e]=t,t},this._multiplexer=e}}},850117:(e,t,o)=>{"use strict";o.d(t,{CircularCacheBuffer:()=>s});var n=o(650151);function i(e){const{prevItem:t,nextItem:o}=e;null!==t&&(t.nextItem=o),null!==o&&(o.prevItem=t)}class s{constructor(e=0,t=1.3){this._cache=new Map,this._lastItem=null,this._firstItem=null,this._size=e,this._sizeLimited=e>0,this._capacityFactor=t}set(e,t){const o={key:e,value:t,prevItem:this._lastItem,nextItem:null};null!==this._lastItem&&(this._lastItem.nextItem=o);const n=this._cache.get(e);return void 0!==n&&(i(n),n===this._firstItem&&(this._firstItem=n.nextItem)),this._cache.set(e,o),this._lastItem=o,null===this._firstItem&&(this._firstItem=o),this._sizeLimited&&this._cache.size>this._size*this._capacityFactor&&this._removeExtraItems(),this}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);if(void 0===t)return t;if(t===this._firstItem&&(this._firstItem=t.nextItem??t),t!==this._lastItem){i(t);const e=(0,n.ensureNotNull)(this._lastItem);e.nextItem=t,t.prevItem=e,t.nextItem=null,this._lastItem=t}return t.value}clear(){this._cache.clear(),this._firstItem=null,this._lastItem=null}delete(e){const t=this._cache.get(e);return void 0!==t&&(i(t),t===this._lastItem&&(this._lastItem=t.prevItem),t===this._firstItem&&(this._firstItem=t.nextItem)),this._cache.delete(e)}*entries(){if(null!==this._firstItem)for(let e=this._firstItem;null!==e;e=e.nextItem)yield[e.key,e.value]}state(){const e=[];for(const[t,o]of this.entries())e.push([t,o]);return e}restoreState(e){for(const t of e)this.set(t[0],t[1])}_removeExtraItems(){const e=this._cache.size-this._size;let t=(0,n.ensureNotNull)(this._firstItem);for(let o=0;o<e;o+=1)this._cache.delete(t.key),t=(0,n.ensureNotNull)(t.nextItem);t.prevItem=null,this._firstItem=t}}},810715:(e,t,o)=>{"use strict";o.d(t,{clone:()=>n.clone,isNumber:()=>n.isNumber,isObject:()=>n.isObject,merge:()=>n.merge});var n=o(536794)},172073:(e,t,o)=>{"use strict";o.d(t,{Action:()=>a,Loader:()=>l,Separator:()=>c});var n=o(650151),i=o(470316),s=o(900608),r=o(581393);class a{constructor(e){this.type="action",this._destroyed=!1,this._loadOptionsPromise=null,this._customAction=null;const{actionId:t,options:o,optionsLoader:i,customActionOptions:c,customActionOptionsLoader:l,id:u=s.guid(),onStartListening:d}=e;(0,n.assert)(void 0!==t,"actionId must be defined"),this.id=u,this._onUpdate=new r.ActionDelegate(d),this._options={actionId:t,...o},this.update(o),this._loadOptionsGetter=i??null,
this._loadOptionsGetter&&(this._options.loading=!0),c&&(this._customAction=new a({actionId:t,options:c,optionsLoader:l,id:u}))}custom(){return this._customAction}execute(){this._options.checkable&&this.update({checked:!this._options.checked}),this._options.onExecute&&this._options.onExecute(this)}getLabel(){return this._options.label||""}getSubItems(){return this._options.subItems||[]}isDisabled(){return!0===this._options.disabled}isActive(){return!0===this._options.active}isCheckable(){return!0===this._options.checkable}isChecked(){return!0===this._options.checked}isLoading(){return!0===this._options.loading}loadOptions(){return this._loadOptionsPromise?this._loadOptionsPromise:this._loadOptionsGetter?(this._loadOptionsPromise=this._loadOptionsGetter().then((e=>this.update({...e,loading:!1}))),this._loadOptionsPromise):null}getSize(){return this._options.size??"normal"}getPayload(){return this._options.payload}update(e){this._destroyed||(this._unbindShortcut(),e.hotkeyHash&&(this._options.shortcutHint=(0,i.humanReadableHash)(e.hotkeyHash)),this._options=Object.assign(this._options,e),this._bindShortcut(),this._onUpdate.fire(this))}onUpdate(){return this._onUpdate}getState(){return this.loadOptions(),{actionId:this._options.actionId,label:this.getLabel(),styledLabel:this._options.styledLabel,disabled:this.isDisabled(),active:this.isActive(),subItems:this.getSubItems(),checkable:this.isCheckable(),checked:this.isChecked(),loading:this.isLoading(),size:this.getSize(),doNotCloseOnClick:this._options.doNotCloseOnClick||!1,shortcutHint:this._options.shortcutHint,hint:this._options.hint,icon:this._options.icon,iconId:this._options.iconId,iconChecked:this._options.iconChecked,toolbox:this._options.toolbox,showToolboxOnHover:this._options.showToolboxOnHover||!1,statName:this._options.statName,name:this._options.name,invisibleHotkey:this._options.invisibleHotkey,noInteractive:this._options.noInteractive,jsxLabel:"jsxLabel"in this._options?this._options.jsxLabel:void 0,isRepeatAccepted:this._options.isRepeatAccepted}}destroy(){this._destroyed=!0,this._onUpdate.destroy(),this._unbindShortcut(),this._options.onDestroy?.(),this._customAction?.destroy()}options(){return this._options}_bindShortcut(){if(!this._options.hotkeyGroup||!this._options.hotkeyHash)return;const e="string"==typeof this._options.label?this._options.label:this._options.name;this._hotkeyAction=this._options.hotkeyGroup.add({hotkey:this._options.hotkeyHash,isRepeatAccepted:this._options.isRepeatAccepted,desc:e,handler:()=>this.execute(),isDisabled:()=>this.isDisabled()})}_unbindShortcut(){this._hotkeyAction&&(this._hotkeyAction.destroy(),delete this._hotkeyAction)}}class c{constructor(e){this.type="separator",this.id=s.guid(),this._hint=e}getHint(){return this._hint}}class l extends a{constructor(e){super({actionId:e,options:{}})}isLoading(){return!0}getSize(){return"big"}}},257381:(e,t,o)=>{"use strict";o.d(t,{ContextMenuManager:()=>n});var n,i=o(660439),s=o(172073),r=o(224743);!function(e){let t=null,n=null;const a=[],c={createAction:e=>new s.Action({
actionId:"Chart.CustomActionId",options:e}),createAsyncAction:e=>new s.Action({actionId:"Chart.CustomActionId",options:{},optionsLoader:e}),createSeparator:()=>new s.Separator};async function l(e,s={},r={menuName:""},l){null!==t&&(e=await t(e,c,r));let d=null;const _=()=>{const e=(0,i.indexOf)(a,(e=>e.renderer===d));-1!==e&&a.splice(e,1),void 0!==l&&l()};let h=!1;if(null!==n&&(d=await n(e,r,_)),d)h=!0,u();else{const t=await Promise.all([o.e(19966),o.e(61681),o.e(67780),o.e(73425),o.e(66032),o.e(61667),o.e(93853),o.e(28260),o.e(51979),o.e(16804),o.e(82321),o.e(91584)]).then(o.bind(o,226948));d=new t.ContextMenuRenderer(e,s,_,u)}return a.push({renderer:d,isExternal:h}),d}function u(){(0,r.globalCloseMenu)(),a.forEach((e=>{e.isExternal&&e.renderer.isShown()&&e.renderer.hide()}))}e.createMenu=l,e.showMenu=function(e,t,o={},n,i){return l(e,o,n,i).then((e=>e.show(t)))},e.setCustomRendererFactory=function(e){n=e},e.setCustomItemsProcessor=function(e){t=e},e.hideAll=u,e.getShown=function(){for(let e=0;e<a.length;e++)if(a[e].renderer.isShown())return a[e].renderer;return null}}(n||(n={}))},845889:(e,t,o)=>{"use strict";var n;o.d(t,{CollectionViewMode:()=>n}),function(e){e.Multichart="multichart",e.ForceFullscreen="force-fullscreen"}(n||(n={}))},191914:(e,t,o)=>{"use strict";o.d(t,{customFormatters:()=>n});const n={dateFormatter:null,timeFormatter:null,tickMarkFormatter:null,priceFormatterFactory:null,studyFormatterFactory:null}},253674:(e,t,o)=>{"use strict";o.d(t,{hourMinuteFormat:()=>r,hourMinuteNonZeroSecondFormat:()=>i,hourMinuteSecondFormat:()=>n,hourMinuteSecondMillisecFormat:()=>s,twelveHourMinuteFormat:()=>l,twelveHourMinuteNonZeroSecondFormat:()=>c,twelveHourMinuteSecondFormat:()=>a});const n="%h:%m:%s",i="%h:%m:%s+",s="%h:%m:%s.%ss+",r="%h:%m",a="%h:%m:%s %ampm",c="%h:%m:%s+ %ampm",l="%h:%m %ampm"},74752:(e,t,o)=>{"use strict";o.d(t,{TimeFormatter:()=>r,hourMinuteFormat:()=>s.hourMinuteFormat,hourMinuteNonZeroSecondFormat:()=>s.hourMinuteNonZeroSecondFormat,hourMinuteSecondFormat:()=>s.hourMinuteSecondFormat,hourMinuteSecondMillisecFormat:()=>s.hourMinuteSecondMillisecFormat,twelveHourMinuteFormat:()=>s.twelveHourMinuteFormat,twelveHourMinuteNonZeroSecondFormat:()=>s.twelveHourMinuteNonZeroSecondFormat,twelveHourMinuteSecondFormat:()=>s.twelveHourMinuteSecondFormat});var n=o(191914),i=o(909456),s=o(253674);class r{constructor(e){this._isTwelveHoursFormat=!1,this._valuesAndDelimeters=[];const t=e||s.hourMinuteSecondFormat,o=new RegExp("%h|%m|%s\\+|%ss\\+|%ss|%ampm|%s","g");let n=o.exec(t),i=0;for(;null!==n;){const e=n[0];"%ampm"===e&&(this._isTwelveHoursFormat=!0);const s=t.substring(i,n.index);""!==s&&this._valuesAndDelimeters.push(s),this._valuesAndDelimeters.push(e),i=n.index+e.length,n=o.exec(t)}}format(e){return n.customFormatters.timeFormatter?n.customFormatters.timeFormatter.format(e):this._formatTime(e,!1)}formatLocal(e){
return n.customFormatters.timeFormatter?n.customFormatters.timeFormatter.formatLocal?n.customFormatters.timeFormatter.formatLocal(e):n.customFormatters.timeFormatter.format(e):this._formatTime(e,!0)}_formatTime(e,t){let o=t?e.getHours():e.getUTCHours();const n=t?e.getMinutes():e.getUTCMinutes(),s=t?e.getSeconds():e.getUTCSeconds(),r=t?e.getMilliseconds():e.getUTCMilliseconds();let a="";this._isTwelveHoursFormat&&(a=o>=12?"PM":"AM",o%=12,o=o||12);let c="",l=!1;for(let e=this._valuesAndDelimeters.length-1;e>=0;e--){const t=this._valuesAndDelimeters[e];let u;switch(t){case"%h":u=(0,i.numberToStringWithLeadingZero)(o,2);break;case"%m":u=(0,i.numberToStringWithLeadingZero)(n,2);break;case"%s+":0!==s?u=(0,i.numberToStringWithLeadingZero)(s,2):(u="",l=!0);break;case"%s":u=(0,i.numberToStringWithLeadingZero)(s,2);break;case"%ss":u=(0,i.numberToStringWithLeadingZero)(r,3);break;case"%ss+":0!==r?u=(0,i.numberToStringWithLeadingZero)(r,3):(u="",l=!0);break;case"%ampm":u=a;break;default:if(l){l=!1;continue}u=t}c=u+c}return c}}},111332:(e,t,o)=>{"use strict";var n=o(779893),i=o(345848).trackEvent,s=o(735566).getLogger("Pine.ScriptLib"),r=o(175203).telemetry,a={fast:["delete","get","is_auth_to_get","is_auth_to_write","parse_title","rename","lib_list"],medium:["list","eval_pine_ex","translate_light"],slow:["process_legacy","publish","save","translate","translate_source","gen_alert"]},c=/[l|L]ines? (\d*)/;function l(e){if("object"==typeof e.reason)return e.reason;if(e.reason2)return e.reason2;const t={errors:[],warnings:[]},o=e.result&&e.result.metaInfo;if(o&&void 0!==o.warnings&&o.warnings.forEach((e=>t.warnings.push({message:e}))),e.reason){(Array.isArray(e.reason)?e.reason:e.reason.split("\n")).forEach((e=>{const o=e.match(c),n=o&&o.length&&Number(o[1]),i={message:e};if("number"==typeof n){i.start={line:n,column:0};const e=i.message.split(": ");e.shift(),i.message=e.join(": ")}t.errors.push(i)}))}return t}var u={getPineFacadeUrl:function(){return window.PINE_URL},PINE_FACADE_URL:function(){return window.PINE_URL}};u.safetyGetReason=l,u._pineFacadeAjax=function(e,t,o){s.logNormal("Requesting pine facade scripts, url: "+t);var i=function(e){for(var t=Object.keys(a),o=0;o<t.length;o++){var n=a[t[o]].filter((function(t){return-1!==e.indexOf(t)}));if(Boolean(n.length))return t[o]}return!1}(t),c=Date.now();return n.ajax({url:u.PINE_FACADE_URL()+t,type:e,data:o||{},dataType:"json",xhrFields:{withCredentials:!0}}).done((function(){var e=Date.now()-c;r.sendReport("pine",i+"_group_time_frame",{value:e}),r.sendReport("pine",i+"_group_ok"),s.logNormal("Requesting pine facade scripts finished, url: "+t)})).fail((function(){var e=Date.now()-c;r.sendReport("pine",i+"_group_time_frame",{value:e}),r.sendReport("pine",i+"_group_error"),s.logError("Requesting pine facade scripts failed, url: "+t)}))},u._generateAlertAsyncDone=function(e,t){if(t.error)e.reject(u._readableError(t.error));else if(t.success)e.resolve(t.result.metaInfo,t.result.IL,t.result.inputs||null,t.result.gen_alert_data||null);else{var o=t.result?t.result.metaInfo:null
;e.reject(l(t),o)}},u._readableError=function(e,t){return t},u._anyRequestAsyncFail=function(e,t){try{const o=l(JSON.parse(t.responseText));if(o)return e.reject(o)}catch(e){}0===u.PINE_FACADE_URL().indexOf("http")&&s.logError(t.responseText),e.reject(u._readableError(t.status,t.statusText))},u.getPineSourceCode=function(e,t,o){i("Pine","ScriptLib.getPineSourceCode");var s=n.Deferred(),r="?no_4xx="+!!o,a="/get/"+encodeURIComponent(e)+"/"+t+r;return u._pineFacadeAjax("GET",a).done((function(e,t,o){!1===e.success?s.reject(l(e)):s.resolve(e)})).fail((function(e,t,o){u._anyRequestAsyncFail(s,e)})),s.promise()},u.generateAlert=function(e){i("Pine","ScriptLib.generateAlert");var t=n.Deferred(),o=window.user&&window.user.username,s="/gen_alert/?user_name="+encodeURIComponent(o),a={alert_info:e},c=Date.now();return u._pineFacadeAjax("POST",s,a).done((function(e,o,n){r.sendReport("alerts","compilation_ok"),u._generateAlertAsyncDone(t,e)})).fail((function(e,o,n){r.sendReport("alerts","compilation_error"),u._anyRequestAsyncFail(t,e)})).always((function(){var e=Date.now()-c;r.sendReport("alerts","compilation_time_frame",{value:e})})),t.promise()},u.scriptUpdater=function(){return window.scriptUpdater()},u.requestUserPublishedScripts=function(e,t){if(i("Pine","ScriptLib.requestUserPublishedScripts"),window.is_authenticated){if(t||!u._userPublishedScriptsDfd){u._userPublishedScriptsDfd=n.Deferred();var o=u._userPublishedScriptsDfd;u._pineFacadeAjax("GET","/list?filter=published").done((function(e,t,n){o.resolve(e)})).fail((function(e){u._anyRequestAsyncFail(o,e)}))}o=u._userPublishedScriptsDfd}else o=n.Deferred().resolve([]);return"function"==typeof e&&o.done(e),o.promise()},u.requestInfoForScripts=function(e){return Promise.all([u._pineFacadeAjax("GET","/list?filter=saved"),u._pineFacadeAjax("GET","/list?filter=addon")]).then((function(t){var o=t[0],n=t[1];return o.concat(n).filter((function(t){return e.includes(t.scriptIdPart)}))}))},u.requestBuiltinAndUserScripts=function(){i("Pine","ScriptLib.requestBuiltinAndUserScripts"),s.logNormal("Request built-in and user scripts");var e,t=window.user&&window.user.username,o={},n=new Promise((function(t,n){e=t,o.reject=n}));return Promise.all([u._pineFacadeAjax("GET","/list?filter=saved&user_name="+encodeURIComponent(t)),u._pineFacadeAjax("GET","/list?filter=standard")]).then((function(t){s.logNormal("Request built-in and user scripts finished");var o=t[0],n=t[1];e(o.concat(n))})).catch((function(e){s.logWarn("Request built-in and user scripts finished with fail"),u._anyRequestAsyncFail(o,e)})),n},u.requestScriptInfo=function(e){i("Pine","ScriptLib.requestBuiltinAndUserScripts"),s.logNormal("Request public/user script info");var t=n.Deferred();return u._pineFacadeAjax("GET","/get_script_info/?pine_id="+encodeURIComponent(e)).done((function(e){s.logNormal("Request public/user script info finished"),t.resolve(e)})).fail((function(e){s.logWarn("Request public/user script info finished with fail"),u._anyRequestAsyncFail(t,e)})),t.promise()},u.requestCandlestickScripts=function(){var e
;i("Pine","ScriptLib.requestCandlestickScripts"),s.logNormal("Request candlestick scripts");var t={},o=new Promise((function(o,n){e=o,t.reject=n}));return u._pineFacadeAjax("GET","/list?filter=candlestick").done((function(t){s.logNormal("Request candlestick scripts finished"),e(t)})).fail((function(e){s.logWarn("Request candlestick scripts finished with fail"),u._anyRequestAsyncFail(t,e)})),o};var d={time:-1/0,request:null};u.requestFundamentalScripts=function(){if(d.time+6e5>Date.now()&&null!==d.request)return s.logNormal("Return fundamentals from cache"),d.request;s.logNormal("Request fundamental scripts");var e=u._pineFacadeAjax("GET","/list?filter=fundamental");return e.then((function(e){s.logNormal("Request fundamental scripts finished")})),e.fail((function(e){s.logWarn("Request fundamental scripts finished with fail, resetting cache"),d.request=null})),d.time=Date.now(),d.request=Promise.resolve(e.promise()),d.request},u.publishNew=function(e,t,o,s){i("Pine","ScriptLib.publishNew");var r=n.Deferred(),a=window.user&&window.user.username,c="/publish/new/?access="+encodeURIComponent(t)+"&user_name="+encodeURIComponent(a),d={source:e,extra:JSON.stringify({originalScriptId:o,originalScriptVersion:s})};return u._pineFacadeAjax("POST",c,d).done((function(e,t,o){e.success?r.resolve(e):r.reject(l(e))})).fail((function(e,t,o){u._anyRequestAsyncFail(r,e)})),r.promise()},u.publishNext=function(e,t,o,r){s.logNormal("ScriptLib.publishNext","pine"),i("Pine","ScriptLib.publishNext");var a=n.Deferred(),c=window.user&&window.user.username,d="/publish/next/"+encodeURIComponent(t)+"?user_name="+encodeURIComponent(c),_={source:e,extra:JSON.stringify({originalScriptId:o,originalScriptVersion:r})};return u._pineFacadeAjax("POST",d,_).done((function(e,t,o){e.success||a.reject(l(e)),a.resolve(e)})).fail((function(e,t,o){u._anyRequestAsyncFail(a,e)})),a.promise()},u.lightTranslate=function(e,t){return s.logNormal("ScriptLib.lightTranslate","pine"),i("Pine","ScriptLib.lightTranslate"),new Promise((function(o,n){var i=window.user&&window.user.username,s=`/translate_light/?user_name=${encodeURIComponent(i)}`;t&&(s+=`&pine_id=${encodeURIComponent(t)}`);var r={source:e};u._pineFacadeAjax("POST",s,r).done((function(e,t,i){if(e.success)o(e.result);else{var s=e.result&&l(e.result)||l(e);n(s)}})).fail((function(e,t,o){u._anyRequestAsyncFail({reject:n},e)}))}))},u.getLibList=function(e,t,o){return s.logNormal("ScriptLib.getLibList","pine"),i("Pine","ScriptLib.getLibList"),new Promise((function(n,i){var s="/lib_list?lib_id_prefix="+encodeURIComponent(e);t&&(s+="&ignore_cache=true"),o&&(s+="&ignore_case=true"),u._pineFacadeAjax("GET",s).done((function(e,t,o){n(e)})).fail((function(e,t,o){u._anyRequestAsyncFail({reject:i},e)}))}))},u.getExistingLibraryInfo=async function(e){try{const t=await u.getLibList(e+"/last",!0,!0);if(!t.length)return null;const o=t[0];return{scriptIdPart:o.scriptIdPart,chartId:o.chartId,version:o.version}}catch(e){return null}},e.exports=u},70907:(e,t,o)=>{"use strict";o.d(t,{DwgExtend:()=>n,
convertPointsToScreenDimension:()=>a,doesItemAffectVisibleRange:()=>c,isExtendInSameDirection:()=>r});var n,i=o(650151);function s(e,t){return e===n.None?t:t===n.None?e:e===n.Both||t===n.Both?n.Both:e===t?t:n.Both}function r(e,t){return e===n.Both||e===t}function a(e,t,o,r,a,c,l,u,d,_){let h,p;if(null===e&&null===o){if(a!==n.Right&&a!==n.Both)return null;a=n.Both,h=0,p=u}else null===e?(h=l.indexToCoordinate((0,i.ensureNotNull)(o)-1),a=s(a,n.Left)):h=l.indexToCoordinate(e),null===o?(p=l.indexToCoordinate((0,i.ensureNotNull)(e)-1),a=s(a,n.Right)):p=l.indexToCoordinate(o);const m=h,f=c.priceToCoordinate(t,d),E=p,g=c.priceToCoordinate(r,d);return void 0!==_?(_.x1=m,_.y1=f,_.x2=E,_.y2=g,_.extend=a,_):{x1:m,y1:f,x2:E,y2:g,extend:a}}function c(e,t,o,i,s){let r=!1;switch(o){case n.Both:r=!0;break;case n.Right:r=null===t||null===e||e<=s;break;case n.Left:r=null===t||t>=i;break;default:null!==e&&null!==t?r=(e>=i||t>=i)&&(e<=s||t<=s):null!==e&&null===t?r=e<=s:null===e&&null!==t&&(r=t>=i)}return r}!function(e){e.None="n",e.Left="l",e.Right="r",e.Both="b"}(n||(n={}))},992035:(e,t,o)=>{"use strict";var n,i,s;o.d(t,{HHistDirection:()=>n,HHistLocation:()=>i,HHistVolumeMode:()=>s}),function(e){e.LeftToRight="left_to_right",e.RightToLeft="right_to_left"}(n||(n={})),function(e){e.Relative="relative",e.Absolute="absolute"}(i||(i={})),function(e){e.UpDown="Up/Down",e.Total="Total",e.Delta="Delta"}(s||(s={}))},691009:(e,t,o)=>{"use strict";o.d(t,{containsTpoTimePointIndexes:()=>r,dematerializeTpo:()=>c,isTpoInBarsRange:()=>l,materializeTpo:()=>a});var n=o(650151),i=o(707771),s=o(171048);const r=!0;function a(e,t){if(e.firstBarTime>=t.length||e.lastBarTime>=t.length)return null;const o=t[e.firstBarTime],s=t[e.lastBarTime];return o===i.INVALID_TIME_POINT_INDEX||s===i.INVALID_TIME_POINT_INDEX?null:((0,n.assert)(o<=s,"firstBarTime should not exceed lastBarTime"),{id:e.id,firstBarTime:o,lastBarTime:s,priceRange:e.priceRange,times:e.times})}function c(e,t,o){return{id:t,firstBarTime:(0,s.ensureTimePointIndexIndex)(o.indexOf(e.firstBarTime)),lastBarTime:(0,s.ensureTimePointIndexIndex)(o.indexOf(e.lastBarTime)),priceRange:e.priceRange,times:e.times}}function l(e,t){return!(e.lastBarTime<t.firstBar()||e.firstBarTime>t.lastBar())}},657619:(e,t,o)=>{"use strict";function n(e,t){return`${e}@${t}`}function i(e){return e.replace(/(@[^-]+-[^-]+).*$/,"$1")}o.d(t,{extractStudyId:()=>i,studyIdString:()=>n})},184026:(e,t,o)=>{"use strict";var n;function i(e){return!(!e||!Object.keys(e).length)}function s(e){return!!e.is_trial}function r(e){return!!e?.pro_plan}function a(e){return r(e)&&!s(e)}function c(e){return e.type===n.ProPlan}function l(e){return e.type===n.Exchange}function u(e){return e?l(e)||function(e){return e.type===n.Coins}(e)?e.text_id??"":e.discount_text_id??e.text_id??"":""}o.d(t,{ProductType:()=>n,getProductId:()=>u,isExchange:()=>l,isPaidPro:()=>a,isPlan:()=>c,isPro:()=>r,isProductDefined:()=>i,isTrial:()=>s}),function(e){e[e.ProPlan=1]="ProPlan",e[e.NewsFeed=3]="NewsFeed",e[e.Exchange=4]="Exchange",e[e.Connection=6]="Connection",
e[e.Coins=8]="Coins"}(n||(n={}))},810978:(e,t,o)=>{"use strict";o.d(t,{runOrSigninWithFeature:()=>s});var n=o(120296);var i=o(314802);const s=(e,t)=>{{if((0,i.isOnMobileAppPage)("any"))return void window.runOrSignIn(e,t);const s=[];if(t.paidAccountCheck&&s.push((()=>(0,n.paidAccountCheck)({successButtonText:t.paidAccountSuccessButtonText}))),window.is_authenticated)s.reduce(((e,t)=>e.then(t)),Promise.resolve()).then(e).catch((()=>{}));else{!async function(e){(await Promise.all([o.e(38124),o.e(73229),o.e(18883),o.e(92537),o.e(19190),o.e(39759),o.e(52186),o.e(67131),o.e(59546),o.e(65161),o.e(94036),o.e(7276),o.e(51989),o.e(6796),o.e(17725),o.e(82321),o.e(9384),o.e(83215),o.e(7160),o.e(77195),o.e(94913)]).then(o.bind(o,437685))).renderRunOrSigninWithFeatureDialog(e)}({signInSuccess:e,options:{source:t.source,sourceMeta:t.sourceMeta,feature:t.feature,mode:t.mode,startTrial:t.startTrial}})}}};window.TradingView.runOrSigninWithFeature=s},678708:(e,t,o)=>{"use strict";o.d(t,{isShowPromoVideo:()=>d,isSignModalOpen:()=>u,showSignModal:()=>l});var n=o(586240),i=o(446196),s=o(203999);const r=n["media-mf-tablet-landscape"],a=n["media-mf-tablet-vertical"];let c=()=>!1;async function l(e){const t=Object.assign({},e,{isShowVideo:d()});if(window.TVD&&window.TVD.signIn)return window.TVD.signIn(t);{!function(){const e=document.createElement("link"),t=document.createElement("link");e.rel="preload",e.as="image",e.href=i,t.rel="preload",t.as="image",t.href=s,document.head.appendChild(e),document.head.appendChild(t)}();const e=await Promise.all([o.e(13415),o.e(18883),o.e(32937),o.e(98185),o.e(46195),o.e(92537),o.e(15371),o.e(61171),o.e(67780),o.e(78894),o.e(38452),o.e(90579),o.e(87833),o.e(73425),o.e(65743),o.e(76052),o.e(84712),o.e(43329),o.e(27702),o.e(59546),o.e(63585),o.e(26070),o.e(38490),o.e(87104),o.e(72297),o.e(82321),o.e(12831),o.e(10697),o.e(62526),o.e(36123)]).then(o.bind(o,455338));return c=e.isSignModalOpen,e.showSignModal(t)}}function u(){return c()}function d(){const e=window.matchMedia(r).matches,t=window.matchMedia(a).matches,o=window.innerWidth,n=window.innerHeight;return!!e||!!t&&!(!e&&n<o)}},357173:(e,t,o)=>{"use strict";o.d(t,{getProPlanDetailsForUser:()=>a,getProPlanWeight:()=>r});o(778016);var n=o(232759),i=o(803912),s=o(958178);function r(e){return window.pro?"free"===e?-1:window.pro.getProduct((0,n.getProductForTrial)(e)).upgrade_weight:0}async function a(){const e=await(0,i.fetch)("/pro-plans/profile/"),t=await e.json();if(e.ok)return t;if(403===e.status){const o=t;throw new s.ApiError(o.detail,e.status,o.code)}throw new Error(`Unable to handle unexpected response: ${String(e.text())}`)}},516350:(e,t,o)=>{"use strict";o.d(t,{Pro:()=>l});var n=o(803912),i=o(184026),s=o(547465),r=o(588948),a=o(735566);const c=(0,r.getFreshInitData)();class l{constructor(e){this.packagesUpdated=new s.Delegate,this.PRODUCT_TYPES={pro_plan:1,exchange:4,connection:6,coins:8},this._products={},this._invalidShopConf=!1,this._freeProductIds=["tv-scripting","tv-basicstudies","tv-prostudies","Script$USER","Script$EDGR","ESD$TV"],
this._discounts={},this._offers=[],this._paidExchanges=[],this._logger=(0,a.getLogger)("Pro"),e&&(this._offers=e.offers??[],this._paidExchanges=e.paid_exchanges??[],this._invalidShopConf=!0,"undefined"!=typeof window&&window.loginStateChange.subscribe(this,this.onLoginStateChange))}isDiscountProductId(e){return e in this._discounts}hasPackage(e){return this._offers.includes(e)||this._freeProductIds.includes(e)}async updateShopConf(e=!1){return void 0!==this._shopConfPromise||(this._shopConfPromise=(0,n.fetch)("/market/shopconf/",{credentials:"include"}).then((async t=>{const o=await t.json();return this._products=o.all_products&&JSON.parse(o.all_products)||{},this._discounts=o.discounts&&JSON.parse(o.discounts)||{},this._offers=o.offers&&JSON.parse(o.offers)||[],this._paidExchanges=o.paid_exchanges&&JSON.parse(o.paid_exchanges)||[],this._invalidShopConf=!1,delete this._shopConfPromise,e||this.packagesUpdated.fire(),o})).catch((()=>{throw this._logger.logError("Update shopconf error"),delete this._shopConfPromise,Error("Update shopconf error")}))),this._shopConfPromise}invalidateShopConf(){this._invalidShopConf=!0}isInvalidShopConf(){return!!this._invalidShopConf}ensureValidShopConf(){return new Promise((e=>this.runOrUpdate(e)))}onLoginStateChange(e){e||this.updateShopConf()}runOrUpdate(e,t){this.isInvalidShopConf()?this.updateShopConf(t).then(e):e()}getIDCExchanges(e){const t=this._products;if(c)if(e){if(c.idc_delay_exchanges_list)return c.idc_delay_exchanges_list}else if(c.idc_exchanges_list)return c.idc_exchanges_list;return Object.keys(t).filter((o=>{const n=t[o];return!!(0,i.isExchange)(n)&&(e?n.idc_service_codes_delay:n.idc_service_codes)})).map((e=>t[e].exchange))}getProduct(e){if(e in this._products)return this._products[e];if(this.isDiscountProductId(e)){const t=this._discounts[e],o={discount_text_id:e,...this._products[t.product]};return void 0!==t.fixed_cost&&(o.fixed_cost=t.fixed_cost),void 0!==t.extra_days&&(o.extra_days=t.extra_days),void 0!==t.billing_cycle&&(o.billing_cycle=t.billing_cycle),void 0!==t.next_billing_cycle&&(o.next_billing_cycle=t.next_billing_cycle),o}return{}}async findProduct(e){if(this.isInvalidShopConf())try{await this.updateShopConf()}catch{}return this.getProduct(e)}getDiscountProduct(e){return this._discounts[e]??{}}isOffer(e,t){return Object.keys(this._discounts).filter((e=>!this._discounts[e].expired&&this._discounts[e].offer_type===t)).includes(e)}getUserExchanges(){const e=window.pro?.offers();return e?e.map((e=>this.getProduct(e))).filter((e=>(0,i.isExchange)(e))):[]}getUserPaidExchanges(){const e=window.pro?.paidExchanges();return e?e.map((e=>this.getProduct(e))):[]}getUserExchangeByPerm(e){return this.getUserExchanges().find((t=>t.exchange===e))}getExchange(e){const t=this.getProductsByType(i.ProductType.Exchange);let o;for(let n=0;n<t.length;n+=1)if(o=t[n],o.exchange===e||o.included_exchanges&&o.included_exchanges.includes(e))return o;return{}}getProductsByType(e){return Object.keys(this._products).filter((t=>this._products[t].type===e)).map((e=>this.getProduct(e)))}
getProPlanProducts(){return this.getProductsByType(i.ProductType.ProPlan).filter((e=>!e.is_expert))}getExpertPlanProducts(){return this.getProductsByType(i.ProductType.ProPlan).filter((e=>e.is_expert))}getPaidExchangesForProfessional(){return this.getProductsByType(i.ProductType.Exchange).filter((e=>e.paid_for_expert))}getProPlanProductsList(){return this.getProPlanProducts().map((e=>e.text_id))}getExpertPlanProductsList(){return this.getExpertPlanProducts().map((e=>e.text_id))}isExpertProduct(e){return this.getExpertPlanProductsList().includes(e)}isPro(){return(0,i.isPro)(window.user)}getSuperProduct(e){}getStudiesOrder(){return[]}userHasRealtimeForExchange(e){const t=(e??"").toLowerCase().replace("exchange-",""),o=this.getExchange(t);if(!(0,i.isProductDefined)(o))return!1;if(this._offers.includes("exchange-"+o.exchange))return!0;if(o.included_exchanges)for(let e=0;e<o.included_exchanges.length;e+=1)if(this._offers.includes("exchange-"+o.included_exchanges[e]))return!0;return!1}hasRealtimeForExchange(e,t){const o=this.getProductsByType(i.ProductType.Exchange),n=(e??"").toLowerCase();for(let e=0;e<o.length;e+=1){const s=o[e];if(s.exchange===n||(s.included_exchanges||[]).includes(n)){if(s.disabled&&!s.included_exchanges)return!1;if(!t)return!0;if(s.included_exchanges){let e;for(let o=0;o<s.included_exchanges.length;o+=1){const n=this.getProduct("exchange-"+s.included_exchanges[o]);if((0,i.isProductDefined)(n)&&(0,i.isExchange)(n)&&this._exHasRealtimeForType(n,t)){e=!0;break}}if(!e)return!1}else if(!this._exHasRealtimeForType(s,t))return!1;return!0}}return!1}offers(){return this._offers}paidExchanges(){return this._paidExchanges}isSupportAvailable(){return Boolean(window.user?.is_support_available||c.is_support_available)}discounts(){return this._discounts}hash(){const e=this._offers.slice(0);e.sort();const t={offers:e};return JSON.stringify(t)}_exHasRealtimeForType(e,t){return!("stock"===t&&!e.is_stocks)&&(!("index"===t&&!e.is_indices)&&!("futures"===t&&!e.is_futures))}}"undefined"!=typeof window&&window.TradingView&&(window.TradingView.Pro=l)},16241:(e,t,o)=>{"use strict";function n(e){return e+""}o.d(t,{appendEllipsis:()=>n})}}]);