"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[82166],{906453:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pointInHalfplane=function(e,t){const i=t.edge;return i.A*e.x+i.B*e.y+i.C>0===t.isPositive},t.pointInTriangle=function(e,t,i,s){const r=t.add(i).scaled(.5).add(s).scaled(.5);let o=(0,n.intersectLineSegments)(t,i,r,e);if(null!==o)return!1;if(o=(0,n.intersectLineSegments)(i,s,r,e),null!==o)return!1;if(o=(0,n.intersectLineSegments)(s,t,r,e),null!==o)return!1;return!0},t.pointInBox=function(e,t){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},t.pointInPolygon=function(e,t){let i=t.length-1,n=!1;const s=e.x,r=e.y;for(let e=0;e<t.length;e++){const o=t[e],a=t[i];(o.y<r&&a.y>=r||a.y<r&&o.y>=r)&&o.x+(r-o.y)/(a.y-o.y)*(a.x-o.x)<s&&(n=!n),i=e}return n},t.pointInCircle=function(e,t,i){const n=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y);return n<=i*i};const n=i(648892)},2624:(e,t)=>{function i(e,t,i){const n=t.subtract(e),s=i.subtract(e).dotProduct(n)/n.dotProduct(n);return{coeff:s,distance:e.addScaled(n,s).subtract(i).length()}}Object.defineProperty(t,"__esModule",{value:!0}),t.distanceToLine=i,t.distanceToSegment=function(e,t,n){const s=i(e,t,n);if(0<=s.coeff&&s.coeff<=1)return s;{const i=e.subtract(n).length(),s=t.subtract(n).length();return i<s?{coeff:0,distance:i}:{coeff:1,distance:s}}}},648892:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.intersectLineSegmentAndBox=function(e,t){let i=e[0].x,n=e[0].y,r=e[1].x,o=e[1].y;const a=t.min.x,l=t.min.y,u=t.max.x,h=t.max.y;let c;function d(e,t,i,n,s,r){let o=c.Inside;return e<i?o|=c.Left:e>s&&(o|=c.Right),t<n?o|=c.Bottom:t>r&&(o|=c.Top),o}!function(e){e[e.Inside=0]="Inside",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Bottom=4]="Bottom",e[e.Top=8]="Top"}(c||(c={}));let p=d(i,n,a,l,u,h),f=d(r,o,a,l,u,h),g=!1,m=0;for(;;){if(m>1e3)throw new Error("Cohen - Sutherland algorithm: infinity loop");if(m++,!(p|f)){g=!0;break}if(p&f)break;{const e=p||f;let t,s;e&c.Top?(t=i+(r-i)*(h-n)/(o-n),s=h):e&c.Bottom?(t=i+(r-i)*(l-n)/(o-n),s=l):e&c.Right?(s=n+(o-n)*(u-i)/(r-i),t=u):(s=n+(o-n)*(a-i)/(r-i),t=a),e===p?(i=t,n=s,p=d(i,n,a,l,u,h)):(r=t,o=s,f=d(r,o,a,l,u,h))}}return g?(0,s.equalPoints)((0,s.point)(i,n),(0,s.point)(r,o))?(0,s.point)(i,n):(0,s.lineSegment)((0,s.point)(i,n),(0,s.point)(r,o)):null},t.intersectLines=a,t.intersectLineSegments=l,t.intersectLineAndBox=function(e,t){const i=t.min.x,r=t.min.y,o=t.max.x,a=t.max.y;if(0===e.A){const t=-e.C/e.B;return r<=t&&t<=a?(0,s.lineSegment)((0,s.point)(i,t),(0,s.point)(o,t)):null}if(0===e.B){const t=-e.C/e.A;return i<=t&&t<=o?(0,s.lineSegment)((0,s.point)(t,r),(0,s.point)(t,a)):null}{const t=[],l=i=>{const n=function(e,t){return-(e.C+e.A*t)/e.B}(e,i);r<=n&&n<=a&&u(t,new s.Point(i,n))},h=n=>{const r=function(e,t){return-(e.C+e.B*t)/e.A}(e,n);i<=r&&r<=o&&u(t,new s.Point(r,n))};switch(l(i),h(r),l(o),h(a),t.length){case 0:return null;case 1:return t[0];case 2:return(0,s.equalPoints)(t[0],t[1])?t[0]:(0,s.lineSegment)(t[0],t[1])}return(0,
n.assert)(!1,"We should have at most two intersection points"),null}},t.intersectRayAndBox=function(e,t,i){const n=l(e,t,i.min,new s.Point(i.max.x,i.min.y)),r=l(e,t,new s.Point(i.max.x,i.min.y),i.max),o=l(e,t,i.max,new s.Point(i.min.x,i.max.y)),a=l(e,t,new s.Point(i.min.x,i.max.y),i.min),u=[];null!==n&&n>=0&&u.push(n);null!==r&&r>=0&&u.push(r);null!==o&&o>=0&&u.push(o);null!==a&&a>=0&&u.push(a);if(0===u.length)return null;const h=Math.max(...u);return e.addScaled(t.subtract(e),h)},t.intersectPolygonAndHalfplane=c,t.intersectPolygons=function(e,t){let i=e;for(let e=0;e<t.length&&null!==i;++e){const n=t[e],r=t[(e+1)%t.length],o=t[(e+2)%t.length],a=(0,s.lineThroughPoints)(n,r);i=c(i,(0,s.halfplaneThroughPoint)(a,o))}return i};const n=i(650151),s=i(610555),r=i(2624),o=i(906453);function a(e,t){const i=e.A,n=t.A,r=e.B,o=t.B,a=e.C,l=t.C,u=i*o-n*r;if(Math.abs(u)<1e-6)return null;const h=(r*l-o*a)/u,c=(n*a-i*l)/u;return new s.Point(h,c)}function l(e,t,i,n){const s=function(e,t,i,n){const s=t.subtract(e),r=n.subtract(i),o=s.x*r.y-s.y*r.x;if(Math.abs(o)<1e-6)return null;const a=e.subtract(i);return(a.y*r.x-a.x*r.y)/o}(e,t,i,n);if(null===s)return null;const o=t.subtract(e).scaled(s).add(e),a=(0,r.distanceToSegment)(i,n,o);return Math.abs(a.distance)<1e-6?s:null}function u(e,t){for(const i of e)if((0,s.equalPoints)(i,t))return!1;return e.push(t),!0}function h(e,t){return!(e.length>0&&((0,s.equalPoints)(e[e.length-1],t)||(0,s.equalPoints)(e[0],t)))&&(e.push(t),!0)}function c(e,t){const i=[];for(let n=0;n<e.length;++n){const r=e[n],l=e[(n+1)%e.length],u=(0,s.lineThroughPoints)(r,l);if((0,o.pointInHalfplane)(r,t)){if(h(i,r),!(0,o.pointInHalfplane)(l,t)){const e=a(u,t.edge);null!==e&&h(i,e)}}else if((0,o.pointInHalfplane)(l,t)){const e=a(u,t.edge);null!==e&&h(i,e)}}return i.length>=3?i:null}},610555:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0,t.point=n,t.equalPoints=s,t.line=r,t.lineThroughPoints=function(e,t){if(s(e,t))throw new Error("Points should be distinct");const i=e.y-t.y,n=t.x-e.x,o=e.x*t.y-t.x*e.y;return r(i,n,o)},t.lineSegment=function(e,t){if(s(e,t))throw new Error("Points of a segment should be distinct");return[e,t]},t.halfplane=o,t.halfplaneThroughPoint=function(e,t){const i=e.A*t.x+e.B*t.y+e.C>0;return o(e,i)},t.box=function(e,t){return{min:n(Math.min(e.x,t.x),Math.min(e.y,t.y)),max:n(Math.max(e.x,t.x),Math.max(e.y,t.y))}},t.equalBoxes=function(e,t){return s(e.min,t.min)&&s(e.max,t.max)};class i{constructor(e,t){this.x=e,this.y=t}add(e){return new i(this.x+e.x,this.y+e.y)}addScaled(e,t){return new i(this.x+t*e.x,this.y+t*e.y)}subtract(e){return new i(this.x-e.x,this.y-e.y)}dotProduct(e){return this.x*e.x+this.y*e.y}crossProduct(e){return this.x*e.y-this.y*e.x}signedAngle(e){return Math.atan2(this.crossProduct(e),this.dotProduct(e))}angle(e){return Math.acos(this.dotProduct(e)/(this.length()*e.length()))}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}scaled(e){return new i(this.x*e,this.y*e)}normalized(){return this.scaled(1/this.length())}transposed(){return new i(-this.y,this.x)}
clone(){return new i(this.x,this.y)}}function n(e,t){return new i(e,t)}function s(e,t){return e.x===t.x&&e.y===t.y}function r(e,t,i){if(0===e&&0===t)throw new Error("A and B can not be both equal to zero.");return{A:e,B:t,C:i}}function o(e,t){return{edge:e,isPositive:t}}t.Point=i},966778:(e,t,i)=>{i.d(t,{bindTo:()=>o});var n=i(341161),s=i(340159),r=function(){function e(e,t,i){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=(0,n.size)({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=t?t:function(e){return e},this._allowResizeObserver=null===(s=null==i?void 0:i.allowResizeObserver)||void 0===s||s,this._chooseAndInitObserver()}return e.prototype.dispose=function(){var e,t;if(null===this._canvasElement)throw new Error("Object is disposed");null===(e=this._canvasElementResizeObserver)||void 0===e||e.disconnect(),this._canvasElementResizeObserver=null,null===(t=this._devicePixelRatioObservable)||void 0===t||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(e.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bitmapSize",{get:function(){return(0,n.size)({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),e.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=(0,n.size)(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},e.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},e.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(t){return t!==e}))},Object.defineProperty(e.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),e.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},e.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(t){return t!==e}))},e.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),
this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},e.prototype._resizeBitmap=function(e){var t=this.bitmapSize;(0,n.equalSizes)(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},e.prototype._emitBitmapSizeChanged=function(e,t){var i=this;this._bitmapSizeChangedListeners.forEach((function(n){return n.call(i,e,t)}))},e.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,i=(0,n.size)(this._transformBitmapSize(e,this._canvasElementClientSize)),s=(0,n.equalSizes)(this.bitmapSize,i)?null:i;null===t&&null===s||null!==t&&null!==s&&(0,n.equalSizes)(t,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(t,s))},e.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var i=this;this._suggestedBitmapSizeChangedListeners.forEach((function(n){return n.call(i,e,t)}))},e.prototype._chooseAndInitObserver=function(){var e=this;this._allowResizeObserver?new Promise((function(e){var t=new ResizeObserver((function(i){e(i.every((function(e){return"devicePixelContentBoxSize"in e}))),t.disconnect()}));t.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},e.prototype._initDevicePixelRatioObservable=function(){var e=this;if(null!==this._canvasElement){var t=a(this._canvasElement);if(null===t)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=(0,s.createObservable)(t),this._devicePixelRatioObservable.subscribe((function(){return e._invalidateBitmapSize()})),this._invalidateBitmapSize()}},e.prototype._invalidateBitmapSize=function(){var e,t;if(null!==this._canvasElement){var i=a(this._canvasElement);if(null!==i){var s=null!==(t=null===(e=this._devicePixelRatioObservable)||void 0===e?void 0:e.value)&&void 0!==t?t:i.devicePixelRatio,r=this._canvasElement.getClientRects(),o=void 0!==r[0]?function(e,t){return(0,n.size)({width:Math.round(e.left*t+e.width*t)-Math.round(e.left*t),height:Math.round(e.top*t+e.height*t)-Math.round(e.top*t)})}(r[0],s):(0,n.size)({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(o)}}},e.prototype._initResizeObserver=function(){var e=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(t){var i=t.find((function(t){return t.target===e._canvasElement}));if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var s=i.devicePixelContentBoxSize[0],r=(0,n.size)({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(r)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},e}();function o(e,t){if("device-pixel-content-box"===t.type)return new r(e,t.transform,t.options);throw new Error("Unsupported binding target")}function a(e){return e.ownerDocument.defaultView}},751472:(e,t,i)=>{i.d(t,{CanvasRenderingTarget2D:()=>n,
tryCreateCanvasRenderingTarget2D:()=>s});var n=function(){function e(e,t,i){if(0===t.width||0===t.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,0===i.width||0===i.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=e}return e.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},e.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(e.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),e}();function s(e,t){var i=e.canvasElementClientSize;if(0===i.width||0===i.height)return null;var s=e.bitmapSize;if(0===s.width||0===s.height)return null;var r=e.canvasElement.getContext("2d",t);return null===r?null:new n(r,i,s)}},340159:(e,t,i)=>{i.d(t,{createObservable:()=>s});var n=function(){function e(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return e.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(e.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(e){var t=this,i={next:e};return this._observers.push(i),{unsubscribe:function(){t._observers=t._observers.filter((function(e){return e!==i}))}}},e.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},e.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},e.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},e.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach((function(t){return t.next(e._window.devicePixelRatio)})),
this._reinstallResolutionListener()},e}();function s(e){return new n(e)}},743068:(e,t,i)=>{i.d(t,{CanvasRenderingTarget2D:()=>r.CanvasRenderingTarget2D,bindCanvasElementBitmapSizeTo:()=>s.bindTo,equalSizes:()=>n.equalSizes,size:()=>n.size,tryCreateCanvasRenderingTarget2D:()=>r.tryCreateCanvasRenderingTarget2D});var n=i(341161),s=i(966778),r=i(751472)},341161:(e,t,i)=>{function n(e){var t=e.width,i=e.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:i}}function s(e,t){return e.width===t.width&&e.height===t.height}i.d(t,{equalSizes:()=>s,size:()=>n})}}]);