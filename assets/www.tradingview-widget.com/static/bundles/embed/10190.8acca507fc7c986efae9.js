(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[10190,75514],{497754:(e,t)=>{var s;!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var a=typeof s;if("string"===a||"number"===a)e.push(s);else if(Array.isArray(s)&&s.length){var l=i.apply(null,s);l&&e.push(l)}else if("object"===a)for(var r in s)o.call(s,r)&&s[r]&&e.push(r)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(s=function(){return i}.apply(t,[]))||(e.exports=s)}()},226995:e=>{e.exports={mobileContext:"mobileContext-x9awd7HO",anchorContext:"anchorContext-x9awd7HO"}},538455:e=>{e.exports={wrapStackTrace:"wrapStackTrace-qq2jSr9O",stackTraceLine:"stackTraceLine-qq2jSr9O",functionName:"functionName-qq2jSr9O"}},883522:(e,t,s)=>{"use strict";s.d(t,{AppContext:()=>o});const o=(0,s(50959).createContext)({isOnMobileAppPage:()=>!1,isRtl:!1,locale:"en",renderMode:"legacy"})},940194:(e,t,s)=>{"use strict";function o(e,t,s,o,i){function a(i){if(e>i.timeStamp)return;const a=i.target;void 0!==s&&null!==t&&null!==a&&a.ownerDocument===o&&(t.contains(a)||s(i))}return i.click&&o.addEventListener("click",a,!1),i.mouseDown&&o.addEventListener("mousedown",a,!1),i.touchEnd&&o.addEventListener("touchend",a,!1),i.touchStart&&o.addEventListener("touchstart",a,!1),()=>{o.removeEventListener("click",a,!1),o.removeEventListener("mousedown",a,!1),o.removeEventListener("touchend",a,!1),o.removeEventListener("touchstart",a,!1)}}s.d(t,{addOutsideEventListener:()=>o})},31241:(e,t,s)=>{"use strict";s.d(t,{useOutsideEvent:()=>l});var o=s(50959),i=s(774218),a=s(940194);function l(e){const{click:t,mouseDown:s,touchEnd:l,touchStart:r,handler:n,reference:u}=e,d=(0,o.useRef)(null),c=(0,o.useRef)("undefined"==typeof window?0:new window.CustomEvent("timestamp").timeStamp);return(0,i.useIsomorphicLayoutEffect)((()=>{const e={click:t,mouseDown:s,touchEnd:l,touchStart:r},o=u?u.current:d.current;return(0,a.addOutsideEventListener)(c.current,o,n,document,e)}),[t,s,l,r,n]),u||d}},192533:(e,t,s)=>{"use strict";s.d(t,{DEFAULT_POPOVER_BREAKPOINT:()=>o});const o=s(586240)["media-show-drawer"]},481040:(e,t,s)=>{"use strict";s.d(t,{PopoverContentVertical:()=>c});var o=s(50959),i=s(497754),a=s.n(i),l=s(444530),r=s(840563),n=s(477018),u=s(477565),d=s.n(u);function c(e){const{isAnchorPositioner:t}=(0,n.usePopoverContext)(),{children:s,fixedHeader:i,fixedFooter:l,contentResize:u=14,onScroll:c,scrollRef:p,mobileStretch:m}=e,_=t?u:12,S=!!(1&_),f=!!(2&_),w=!!(4&u),v=!!(8&u),{onContentResized:y}=(0,o.useContext)(r.RectanglePositionerContext),[b,g]=(0,o.useState)(void 0),[M,I]=(0,o.useState)(void 0),[C,E]=(0,o.useState)(void 0),[V,x]=(0,o.useState)(void 0),[P,T]=(0,o.useState)(void 0),[k,A]=(0,o.useState)(void 0),D=h({setHeight:g,setWidth:x}),R=h({setHeight:I,setWidth:T}),W=h({setHeight:E,setWidth:A}),B=(0,o.useRef)(-1),O=(0,o.useRef)(-1);(0,o.useLayoutEffect)((()=>{if(void 0===V||void 0===b||void 0===P||void 0===M||void 0===k||void 0===C)return;const e=B.current,t=O.current;function s(e,t,s,o){
if(-1===e)return t;let i=t;return s||(i=Math.max(e,i)),o||(i=Math.min(e,i)),i}const o=s(e,Math.max(V,P,k),S,f),i=s(t,b+M+C,w,v);y(o,i),B.current=o,O.current=i}),[b,M,C,y,V,P,k,S,f,w,v]);const[N,H]=(0,o.useState)(void 0),F=void 0!==N?`-${N}px`:void 0;return o.createElement(o.Fragment,null,o.createElement("div",{className:d().crop},o.createElement("div",{className:a()(d().flex,S?d().allowShrinkWidth:d().notAllowShrinkWidth,m&&d().mobileStretch)},o.createElement("div",{className:a()(d().fixedHeader,i&&d().fixedHeaderContent),ref:D},i),o.createElement("div",{className:a()(d().mainScrollWrapper,void 0===N&&d().noScroll),onScroll:c,ref:p,style:{"--ui-lib-popover-content-vertical-scroll-compensation":F}},o.createElement("div",{className:a()(d().main,s&&d().mainContent),ref:R},s)),o.createElement("div",{className:a()(d().fixedFooter,l&&d().fixedFooterContent),ref:W},l))),o.createElement("div",{className:d().scrollContainer,ref:e=>{e&&H((t=>t||e.offsetWidth-e.clientWidth))}}))}function h(e){return(0,l.useResizeObserver)((([t])=>{requestAnimationFrame((()=>{e.setHeight?.(t.borderBoxSize[0].blockSize),e.setWidth?.(t.borderBoxSize[0].inlineSize)}))}))}},935878:(e,t,s)=>{"use strict";s.d(t,{Popover:()=>_});var o=s(50959),i=s(497754),a=s.n(i),l=s(679952),r=s(222463),n=s(522172),u=s(477018),d=s(242956),c=s(661572),h=s(192533),p=s(196967),m=s.n(p);const _=(0,d.ignoreOnSSR)((function(e){const{isRtl:t}=(0,u.usePopoverContext)(),{isOpen:s,onClose:i,mobilePositionerSide:d="bottom",mobilePositionerCardAppearanceClassname:p=a()(m().contentDefaultAppearanceMobile,m()[d]),refToContentWrapperElement:_,isRtl:S=t,children:f,anchorPositionerCardAppearanceClassname:w=m().contentDefaultAppearance,role:v,ariaLabelledby:y,ariaMultiselectable:b,idOfContentWrapperElement:g,placementRules:M,ifNonePlacementRuleMatched:I,width:C,height:E,anchored:V,mobilePositionerStretch:x,repositionTriggers:P,mobileBreakpoint:T,...k}=e,A=k,{isInPopover:D,isMobilePositioner:R}=(0,u.usePopoverContext)(),W=(0,r.useMatchMedia)(T??h.DEFAULT_POPOVER_BREAKPOINT);return(void 0===T&&D?R:W)?o.createElement(l.MobilePositioner,{isOpen:s,onClose:i,cardAppearanceClassname:p,refToContentWrapperElement:_,idOfContentWrapperElement:g,anchoredAt:"element"===V.type?V.at:void 0,children:o.createElement(u.PopoverContextProvider,{positioner:"mobile",onClose:i,isRtl:S},f),role:v,ariaLabelledby:y,ariaMultiselectable:b,side:d,stretch:x,...A}):o.createElement(n.AnchorPositioner,{anchored:V,isRtl:S,isOpen:s,anchorPositionerCardAppearanceClassname:w,role:v,ariaLabelledby:y,ariaMultiselectable:b,idOfContentWrapperElement:g,refToContentWrapperElement:_,placementRules:M,ifNonePlacementRuleMatched:(0,c.ifNonePlacementRuleMatchedToImpl)(I),width:C,height:E,children:o.createElement(u.PopoverContextProvider,{positioner:"anchor",onClose:i,isRtl:S},f),repositionTriggers:P,...A})}))},522386:(e,t,s)=>{"use strict";s.d(t,{usePopoverCloseBehavior:()=>d});var o=s(50959),i=s(767814),a=s(267521),l=s(700366),r=s(444077),n=s(315020),u=s(370669);function d(e){const t=(0,
o.useRef)(null),{onClose:s,isOpen:d,refToContentWrapperElement:c=t,closeOnClickAway:h=n.POPOVER_DEFAULT_CLOSE_ON_CLICK_AWAY,closeOnEscape:p=n.POPOVER_DEFAULT_CLOSE_ON_ESCAPE,closeOnScrollOutside:m=n.POPOVER_DEFAULT_CLOSE_ON_SCROLL_OUTSIDE,closeOnResizeWindow:_=n.POPOVER_DEFAULT_CLOSE_ON_RESIZE_WINDOW,closeOnTab:S=n.POPOVER_DEFAULT_CLOSE_ON_TAB,excludeArea:f}=e;let w=(0,a.useFunctionalRefObject)(c);const v=(0,i.useDefaultPopoverRepositionClose)(d,s,{closeOnResizeWindow:_,closeOnScrollOutside:m,ref:w});return w=(0,r.useCloseOnEscape)(p&&d,s,w),(0,u.useCloseOnTab)(S&&d,s,w),(0,l.useCloseOnClickAway)(h&&d,s,w,h,f),{repositionTriggers:v,refToContentWrapperElement:w}}},89317:(e,t,s)=>{"use strict";s.d(t,{dataQaIds:()=>i});var o=s(147975);function i(e,t){return[e,t].filter(o.isExistent).join(" ")}},147975:(e,t,s)=>{"use strict";function o(e){return null!=e}s.d(t,{isExistent:()=>o})},932881:(e,t,s)=>{"use strict";s.d(t,{colorDefaulted:()=>u,colorDelayMode:()=>i,colorEodMode:()=>a,colorHalalMode:()=>r,colorNotAccurateMode:()=>l,colorTVCalculatedPairMode:()=>n});var o=s(790188);const i=o.colorsPalette["color-delay-mode"],a=o.colorsPalette["color-eod-mode"],l=o.colorsPalette["color-notaccurate-mode"],r=(o.colorsPalette["color-primary-symbol"],o.colorsPalette["color-halal"]),n=(o.colorsPalette["color-continuous"],o.colorsPalette["color-data-problem"],o.colorsPalette["color-data-problem"],o.colorsPalette["color-market-expired"],o.colorsPalette["color-grapes-purple-400"]),u=o.colorsPalette["color-ripe-red-600"];o.colorsPalette["color-container-fill-primary-neutral-heavy"]},175819:(e,t,s)=>{"use strict";s.d(t,{HKEXDataComment:()=>D,HKEXDataTitle:()=>A,batsToRealtimeCrucialHtml:()=>C,batsToRealtimeHtml1:()=>g,batsToRealtimeHtml2WithExchange:()=>I,batsToRealtimeHtml2WithoutExchange:()=>M,defaultedHtml:()=>W,defaultedTitle:()=>R,delayHtml:()=>p,delayNoRealtimeHtml:()=>S,delayToRealtimeHtml:()=>_,delayTooltip:()=>a,delayWithoutMarketAgreement:()=>b,eodHtml:()=>f,eodTooltip:()=>l,exchangeByOriginalExchangeTooltip:()=>n,halalBondHtml:()=>h,halalHtml:()=>c,halalTitle:()=>d,letItSnowHtml:()=>O,letItSnowStart:()=>N,letItSnowStop:()=>H,letItSnowTitle:()=>B,notAccurate1PerSecondTooltip:()=>r,openInEditorActionText:()=>T,openedInDetachedEditorText:()=>P,openedInDetachedEditorTitle:()=>V,openedInEditorText:()=>x,openedInEditorTitle:()=>E,overnightQuotesActionText:()=>U,overnightQuotesText:()=>L,overnightQuotesTitle:()=>F,rtFreeForRegisteredUsersHtml:()=>m,tickByTickHtml1:()=>v,tickByTickHtml1FullInfo:()=>w,tickByTickHtml2:()=>y,tvCalculatedPairHtml:()=>k,tvCalculatedPairTooltip:()=>u});var o=s(444372),i=s(927301);const a=o.t(null,void 0,s(543348)),l=o.t(null,void 0,s(705805)),r=o.t(null,void 0,s(991006)),n=(o.t(null,void 0,s(58796)),o.t(null,void 0,s(655154))),u=o.t(null,void 0,s(944138)),d=(o.t(null,void 0,s(994972)),o.t(null,void 0,s(295246)),o.t(null,void 0,s(50035)),o.t(null,void 0,s(619481)),o.t(null,void 0,s(675119))),c=o.t(null,void 0,s(667607)),h=o.t(null,void 0,s(484484)),p=(e,t)=>(0,i.htmlEscape)(o.t(null,{
plural:"{symbolName} data is delayed by {time} minutes because of exchange requirements.",count:t,replace:{symbolName:e,time:t.toString()}},s(881227))),m=(0,i.htmlEscape)(o.t(null,void 0,s(651211))),_=(0,i.htmlEscape)(o.t(null,void 0,s(807281))),S=(0,i.htmlEscape)(o.t(null,void 0,s(920987))),f=(0,i.htmlEscape)(o.t(null,void 0,s(932925))),w=(0,i.htmlEscape)(o.t(null,void 0,s(138368))),v=(0,i.htmlEscape)(o.t(null,void 0,s(833039))),y=(0,i.htmlEscape)(o.t(null,void 0,s(23998))),b=(0,i.htmlEscape)(o.t(null,void 0,s(195400))),g=o.t(null,void 0,s(131539)),M=(o.t(null,{context:'Part of: "Real-time data for {symbolName} is provided by {exchange} exchange."'},s(348473)),o.t(null,{context:'Part of: "Real-time data for {symbolName} is provided by {exchange} exchange."'},s(684455)),o.t(null,void 0,s(624669))),I=o.t(null,void 0,s(352668)),C=o.t(null,void 0,s(344492)),E=(o.t(null,void 0,s(840225)),o.t(null,void 0,s(871847)),o.t(null,void 0,s(439664))),V=o.t(null,void 0,s(172723)),x=o.t(null,void 0,s(925608)),P=o.t(null,void 0,s(733161)),T=o.t(null,void 0,s(199452)),k=o.t(null,void 0,s(90589)),A=o.t(null,void 0,s(443383)),D=o.t(null,void 0,s(414181)),R=o.t(null,void 0,s(419679)),W=o.t(null,void 0,s(284937)),B=o.t(null,void 0,s(934987)),O=o.t(null,void 0,s(759269)),N=o.t(null,void 0,s(801356)),H=o.t(null,void 0,s(396341)),F=o.t(null,void 0,s(342457)),L=o.t(null,void 0,s(50277)),U=o.t(null,void 0,s(105888))},103931:(e,t,s)=>{"use strict";s.d(t,{defaultedIconsMap:()=>P,delayIconsMap:()=>E,eodIconsMap:()=>V,notAccurateIconsMap:()=>x,problemIconsMap:()=>T,tvCalculatedPairIconsMap:()=>k});var o=s(512646),i=s(931233),a=s(55593),l=s(469410),r=s(552828),n=s(991665),u=s(839379),d=s(838373),c=s(79304),h=s(421672),p=s(492315),m=s(672844),_=s(323683),S=s(441614),f=s(189771),w=s(792845),v=s(109494),y=s(378849),b=s(986365),g=s(930545),M=s(225128),I=s(207755),C=s(669058);const E=new Map([["small",o],["medium",i],["large",i]]),V=new Map([["small",a],["medium",l],["large",l]]),x=new Map([["small",r],["medium",n],["large",n]]),P=(new Map([["small",u],["medium",u],["large",u]]),new Map([["small",m],["medium",_],["large",_]]),new Map([["small",S],["medium",f],["large",f]])),T=new Map([["small",d],["medium",c],["large",c]]),k=(new Map([["small",y],["medium",b],["large",b]]),new Map([["small",h],["medium",p],["large",p]]),new Map([["small",w],["medium",v],["large",v]]),new Map([["small",g],["medium",M],["large",M]]));new Map([["small",I],["medium",C],["large",C]])},734410:(e,t,s)=>{"use strict";s.d(t,{BATS_TO_REALTIME_SOLUTION_ID:()=>i,HALAL_SOLUTION_ID:()=>o,TV_CALCULATED_PAIR_SOLUTION_ID:()=>a});const o=43000700852,i=43000473924,a=43000703173},337350:(e,t,s)=>{"use strict";s.d(t,{usePromise:()=>a});var o=s(50959),i=s(357517);function a(e,t,s){const[a,l]=(0,o.useState)(null);return(0,o.useEffect)((()=>{const s=new AbortController;let o=null;return(0,i.respectAbort)(s.signal,e()).then((e=>l(o=e))).catch(i.skipAbortError),()=>{s.abort(),o&&t&&t(o)}}),s?[...s]:void 0),a}},495217:(e,t,s)=>{"use strict";s.d(t,{CircleLogo:()=>o.CircleLogo,
hiddenCircleLogoClass:()=>o.hiddenCircleLogoClass});var o=s(884566)},330213:(e,t,s)=>{"use strict";s.d(t,{HintButton:()=>r});var o=s(50959),i=s(444372),a=s(879921),l=s(825957);function r(e){const{solutionId:t,title:r=i.t(null,void 0,s(208800)),className:n,tabIndex:u}=e,d=(0,o.useMemo)((()=>function(e){return(0,o.forwardRef)(((s,i)=>o.createElement("a",{...s,ref:i,href:`?solution=${e}`,onClick:t})));function t(t){t.preventDefault(),(0,l.showSupportDialog)({solutionId:e})}}(t)),[t]);return o.createElement(a.IconQuestionInformation,{icon:"question",ariaLabel:r,tooltip:r,className:n,renderComponent:d,tabIndex:u})}},631078:(e,t,s)=>{"use strict";s.d(t,{useWatchedValueReadonly:()=>i});var o=s(50959);const i=(e,t=!1,s=[])=>{const i="watchedValue"in e?e.watchedValue:void 0,a="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[l,r]=(0,o.useState)(i?i.value():a);return(t?o.useLayoutEffect:o.useEffect)((()=>{if(i){r(i.value());const e=e=>r(e);return i.subscribe(e),()=>i.unsubscribe(e)}return()=>{}}),[i,...s]),l}},904237:(e,t,s)=>{"use strict";var o=s(632227);t.createRoot=o.createRoot,o.hydrateRoot},632227:(e,t,s)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=s(882321)},695257:(e,t)=>{"use strict";var s=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),n=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function f(e,t,s){this.props=e,this.context=t,this.refs=S,this.updater=s||m}function w(){}function v(e,t,s){this.props=e,this.context=t,this.refs=S,this.updater=s||m}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=f.prototype;var y=v.prototype=new w;y.constructor=v,_(y,f.prototype),y.isPureReactComponent=!0;var b=Array.isArray,g=Object.prototype.hasOwnProperty,M={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,o){var i,a={},l=null,r=null;if(null!=t)for(i in void 0!==t.ref&&(r=t.ref),void 0!==t.key&&(l=""+t.key),t)g.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var n=arguments.length-2;if(1===n)a.children=o;else if(1<n){for(var u=Array(n),d=0;d<n;d++)u[d]=arguments[d+2];a.children=u}if(e&&e.defaultProps)for(i in n=e.defaultProps)void 0===a[i]&&(a[i]=n[i]);return{$$typeof:s,
type:e,key:l,ref:r,props:a,_owner:M.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var V=/\/+/g;function x(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,l){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var n=!1;if(null===e)n=!0;else switch(r){case"string":case"number":n=!0;break;case"object":switch(e.$$typeof){case s:case o:n=!0}}if(n)return l=l(n=e),e=""===a?"."+x(n,0):a,b(l)?(i="",null!=e&&(i=e.replace(V,"$&/")+"/"),P(l,t,i,"",(function(e){return e}))):null!=l&&(E(l)&&(l=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,i+(!l.key||n&&n.key===l.key?"":(""+l.key).replace(V,"$&/")+"/")+e)),t.push(l)),1;if(n=0,a=""===a?".":a+":",b(e))for(var u=0;u<e.length;u++){var d=a+x(r=e[u],u);n+=P(r,t,i,d,l)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),u=0;!(r=e.next()).done;)n+=P(r=r.value,t,i,d=a+x(r,u++),l);else if("object"===r)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return n}function T(e,t,s){if(null==e)return e;var o=[],i=0;return P(e,o,"","",(function(e){return t.call(s,e,i++)})),o}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:M};t.Children={map:T,forEach:function(e,t,s){T(e,(function(){t.apply(this,arguments)}),s)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=i,t.Profiler=l,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,o){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=_({},e.props),a=e.key,l=e.ref,r=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,r=M.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var n=e.type.defaultProps;for(u in t)g.call(t,u)&&!I.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==n?n[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=o;else if(1<u){n=Array(u);for(var d=0;d<u;d++)n[d]=arguments[d+2];i.children=n}return{$$typeof:s,type:e.type,key:a,ref:l,props:i,_owner:r}},t.createContext=function(e){return(e={$$typeof:n,
_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:r,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,s){return A.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,s){return A.current.useReducer(e,t,s)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return A.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},50959:(e,t,s)=>{"use strict";e.exports=s(695257)},404254:e=>{e.exports={"css-value-small-size":"18px","css-value-medium-size":"22px","css-value-large-size":"28px","css-value-border-radius-small-size":"9px","css-value-border-radius-medium-size":"11px","css-value-border-radius-large-size":"8px","css-value-vertical-padding-size":"16px","css-value-horizontal-padding-size":"16px","css-value-vertical-padding-size-first":"11px","css-value-vertical-padding-size-last":"10px",popupWidgetWrapper:"popupWidgetWrapper-Wu2pIo3E",popupWidgetWidth:"popupWidgetWidth-Wu2pIo3E",popupWidget:"popupWidget-Wu2pIo3E",large:"large-Wu2pIo3E",mobile:"mobile-Wu2pIo3E",desc:"desc-Wu2pIo3E",icon:"icon-Wu2pIo3E",small:"small-Wu2pIo3E",medium:"medium-Wu2pIo3E",title:"title-Wu2pIo3E",text:"text-Wu2pIo3E",item:"item-Wu2pIo3E",boldItem:"boldItem-Wu2pIo3E",action:"action-Wu2pIo3E",actionBtn:"actionBtn-Wu2pIo3E",additionalWidget:"additionalWidget-Wu2pIo3E"}},559418:e=>{e.exports={wrapper:"wrapper-ErqpypKO",wrapError:"wrapError-ErqpypKO",clickedAnim:"clickedAnim-ErqpypKO",errorText:"errorText-ErqpypKO",wrapStackTrace:"wrapStackTrace-ErqpypKO",editorButton:"editorButton-ErqpypKO"}},46362:e=>{e.exports={description:"description-VQ6OX8yq",mode:"mode-VQ6OX8yq",actions:"actions-VQ6OX8yq",link:"link-VQ6OX8yq"}},366669:e=>{e.exports={defaultedStatus:"defaultedStatus-HvaSCdHf"}},435585:e=>{e.exports={halalStatus:"halalStatus-GdQ2KW8H"}},
878764:e=>{e.exports={hkexComment:"hkexComment-BzC4QhWx"}},502661:e=>{e.exports={letItSnowStatus:"letItSnowStatus-cDgoKejf"}},554103:e=>{e.exports={tvCalculatedPair:"tvCalculatedPair-PeUawjal"}},402823:(e,t,s)=>{"use strict";s.d(t,{showAboutTheStudyHandler:()=>d});var o=s(825957);s(444372),s(203723);const i=/^STD;Fund_(.*?)(?:_(?:fy|fq|fh|ttm))?$/;var a=s(807958),l=s(111332),r=s(613122),n=s(723809),u=s(79428);async function d(e){const t=e.metaInfo();if(!t)return null;const{scriptIdPart:d,id:c,pine:h}=t;if((0,u.isFundamentalStudyMetaInfo)(t)){const e=function(e){const t=e.match(i);return t?t[1]:t}(d);if(e){const{default:t}=await s.e(54875).then(s.t.bind(s,384898,19));if(e in t)return()=>(0,o.showSupportDialog)({solutionId:t[e]})}}else if(!h||a.StudyMetaInfo.hasStdSuffix(d)){const{default:e}=await s.e(95937).then(s.t.bind(s,676006,19));if(d in e||c in e)return()=>(0,o.showSupportDialog)({solutionId:e[d]||e[c]})}else if(a.StudyMetaInfo.hasPubSuffix(d))return async()=>{try{const{chartImageUrl:e}=await(0,l.requestScriptInfo)(d);(0,r.openPublicationViewPopup)({uid:e,type:"script"})}catch{(0,n.showScriptInfoErrorNoticeDialog)()}};return null}},642413:(e,t,s)=>{"use strict";s.d(t,{ChartModelMainSeriesStatusSourceAdapter:()=>d,ChartModelStatusSourceAdapter:()=>u});var o=s(650151),i=s(68777),a=s(820028),l=s(288789),r=s(128090),n=s(774440);class u{constructor(e,t){this._hidden=new a.WatchedValue(!1),this._symbol=null,this._isSymbolInvalid=null,this._visibilityCombiner=null,this._symbolInfo=new a.WatchedValue(null).spawn(),this._source=e,e.properties().hasChild("symbol")&&(this._symbol=(0,l.createWVFromGetterAndSubscription)((()=>e.properties().symbol.value()),e.properties().symbol.listeners()));const s=[];if((0,n.isStudyLineTool)(e))s.push(e.onStatusChanged());else if((0,r.isStudy)(e)||(0,r.isStudyStub)(e))s.push(e.onStatusChanged(),e.onIsActualIntervalChange()),this._isSymbolInvalid=(0,l.createWVFromGetterAndSubscriptions)((()=>e.isSymbolInvalid()&&e.isActualInterval()),s),(0,r.isStudy)(e)?(this._visibilityCombiner=(0,i.combine)(((e,t)=>!e||!t),(0,l.createWVFromGetterAndSubscription)((()=>e.isVisible()),e.properties().childs().visible).ownership(),(0,l.createWVFromGetterAndSubscription)((()=>e.isActualInterval()),e.onIsActualIntervalChange()).ownership()),this._visibilityCombiner.subscribe((e=>this._hidden.setValue(e)),{callWithLast:!0})):this._hidden.setValue(!e.isVisible()||!e.isActualInterval());else{(0,o.assert)(e===t.mainSeries());const i=t.mainSeries();s.push(i.onStatusChanged()),this._isSymbolInvalid=(0,l.createWVFromGetterAndSubscriptions)((()=>i.isSymbolInvalid()),s),this._symbolInfo=(0,l.createWVFromGetterAndSubscription)(i.symbolInfo.bind(i),i.dataEvents().symbolResolved())}this._dataSourceErrorStatus=(0,l.createWVFromGetterAndSubscriptions)((()=>this._source.statusProvider({}).errorStatus()),s)}destroy(){this._symbol?.destroy(),this._isSymbolInvalid?.destroy(),this._dataSourceErrorStatus.destroy(),this._symbolInfo.destroy(),this._visibilityCombiner?.destroy()}entityId(){return this._source.id()}symbol(){
return this._symbol}isSymbolInvalid(){return this._isSymbolInvalid}errorStatus(){return this._dataSourceErrorStatus}symbolInfo(){return this._symbolInfo}hidden(){return this._hidden.readonly()}marketStatusModel(){return this._source.marketStatusModel()}dataProblemModel(){return this._source.dataProblemModel()}dataUpdatedModeModel(){return this._source.dataUpdatedModeModel()}async pineSourceCodeModel(){return this._source.pineSourceCodeModel?.()??Promise.resolve(null)}alertSourceModel(){return this._source.alertSourceModel()}isMainSeries(){return this._source.isMainSeries?.()??!1}}class d extends u{constructor(e,t){super(e,t),this._quotesData=new a.WatchedValue(null),this._forceDisableHiddenState=new a.WatchedValue(!0),this._forceDisableHiddenStateTimeout=null,this._series=e,this._marketStatus=e.marketStatusModel().status().spawn(),e.quotesProvider().quotesUpdate().subscribe(this,(()=>{this._quotesData.setValue(e.quotesProvider().quotes(),!0)})),e.quotesProvider().quoteSymbolChanged().subscribe(this,(()=>{this._quotesData.setValue(null)})),this._quotesData.setValue(e.quotes()),this._marketStatus.subscribe((e=>{null===e&&(null!==this._forceDisableHiddenStateTimeout&&clearTimeout(this._forceDisableHiddenStateTimeout),this._forceDisableHiddenState.setValue(!1),this._forceDisableHiddenStateTimeout=setTimeout((()=>{this._forceDisableHiddenStateTimeout=null,this._forceDisableHiddenState.setValue(!0)}),3500))}),{callWithLast:!0}),this._dataProblems=this._series.dataProblemModel().dataProblems().spawn(),this._marketStatus.subscribe(this._updateHiddenValue.bind(this)),this._dataProblems.subscribe(this._updateHiddenValue.bind(this)),this._forceDisableHiddenState.subscribe(this._updateHiddenValue.bind(this)),e.onInReplayStateChanged?.().subscribe(this,this._updateHiddenValue),e.onStatusChanged().subscribe(this,this._updateHiddenValue),this._updateHiddenValue()}quotesData(){return this._quotesData.readonly().spawn()}destroy(){this._marketStatus.destroy(),this._dataProblems.destroy(),this._series.onInReplayStateChanged?.().unsubscribeAll(this),this._series.quotesProvider().quotesUpdate().unsubscribeAll(this),this._series.quotesProvider().quoteSymbolChanged().unsubscribeAll(this),this._series.onStatusChanged().unsubscribeAll(this),null!==this._forceDisableHiddenStateTimeout&&clearTimeout(this._forceDisableHiddenStateTimeout),super.destroy()}_updateHiddenValue(){const e=this._series.status(),t=this._forceDisableHiddenState.value()||this._series.isInReplay().value()||12===e||4===e||null!==this._marketStatus.value()&&2!==e&&1!==e||this._dataProblems.value().some((e=>"high"===e.severity));this._hidden.setValue(!t)}}},124943:(e,t,s)=>{"use strict";s.d(t,{DataSourceStatusesWidgetState:()=>Dt});var o=s(820028),i=s(68777),a=s(388741),l=s(25433),r=s(790188),n=s(444372),u=s(927301),d=s(398851),c=s(707934),h=s(786220),p=s(735566),m=s(103931),_=s(932881),S=s(734410),f=s(175819),w=s(399473),v=s(62802);const y="tv.alreadyBlinkedStatuses",b=[];function g(){return v.getJSON(y,b)}const M=new o.WatchedValue(g());function I(e){const t=v.getJSON(y,b)
;t.includes(e)||(t.push(e),v.setJSON(y,t),M.setValue(g()))}v.onSync.subscribe(null,(()=>M.setValue(g())));const C=M;var E=s(776734),V=s(345848),x=s(678708),P=s(825957),T=s(388130);async function k(e){void 0===e.isExpert&&(e={...e,isExpert:window.user.declared_status===T.UserStatus.Pro});(await Promise.all([s.e(46437),s.e(61681),s.e(98933),s.e(78894),s.e(65743),s.e(84712),s.e(43329),s.e(14391),s.e(27702),s.e(11069),s.e(13485),s.e(69965),s.e(59546),s.e(63585),s.e(26070),s.e(38490),s.e(94036),s.e(54930),s.e(17840),s.e(10330),s.e(93945),s.e(15878),s.e(12831),s.e(9384),s.e(86009),s.e(80980),s.e(97224),s.e(61932)]).then(s.bind(s,214905))).openExchangeAgreementDialog(e)}var A=s(107447),D=s(199241);const R=(0,
p.getLogger)("Chart.LegendWidget"),W=["TFEXDelayForGuest","MILDelayForGuest","NGMDelayForGuest","DEForGuest","ICESGDelayForGuest","TAIFEXDelayForGuest","TURQUOISEDelayForGuest","ADXDelayForGuest","TRADEGATEDelayForGuest","LUXSEDelayForGuest","NSENGDelayForGuest","FINRADelayForGuest","AQUISDelayForGuest"],B=new Map([["DelayToRealtime",m.delayIconsMap],["DelayNoRealtime",m.delayIconsMap],["TFEXDelayForGuest",m.delayIconsMap],["MILDelayForGuest",m.delayIconsMap],["NGMDelayForGuest",m.delayIconsMap],["ICESGDelayForGuest",m.delayIconsMap],["TAIFEXDelayForGuest",m.delayIconsMap],["TURQUOISEDelayForGuest",m.delayIconsMap],["ADXDelayForGuest",m.delayIconsMap],["TRADEGATEDelayForGuest",m.delayIconsMap],["LUXSEDelayForGuest",m.delayIconsMap],["NSENGDelayForGuest",m.delayIconsMap],["FINRADelayForGuest",m.delayIconsMap],["AQUISDelayForGuest",m.delayIconsMap],["DEForGuest",m.delayIconsMap],["EOD",m.eodIconsMap],["TickByTick",m.notAccurateIconsMap],["BATSToRealtime",m.notAccurateIconsMap],["OvernightQuotes",m.notAccurateIconsMap],["DelayWithoutMarketAgreement",m.delayIconsMap]]),O=new Map([["DelayToRealtime",D.delay],["DelayNoRealtime",D.delay],["TFEXDelayForGuest",D.delay],["MILDelayForGuest",D.delay],["NGMDelayForGuest",D.delay],["ICESGDelayForGuest",D.delay],["TAIFEXDelayForGuest",D.delay],["TURQUOISEDelayForGuest",D.delay],["ADXDelayForGuest",D.delay],["TRADEGATEDelayForGuest",D.delay],["LUXSEDelayForGuest",D.delay],["NSENGDelayForGuest",D.delay],["FINRADelayForGuest",D.delay],["AQUISDelayForGuest",D.delay],["DEForGuest",D.delay],["EOD",D.eod],["TickByTick",D.notAccurate],["BATSToRealtime",D.notAccurate],["OvernightQuotes",D.notAccurate],["DelayWithoutMarketAgreement",D.delay]]),N=new Map([["DelayToRealtime",_.colorDelayMode],["DelayNoRealtime",_.colorDelayMode],["TFEXDelayForGuest",_.colorDelayMode],["MILDelayForGuest",_.colorDelayMode],["NGMDelayForGuest",_.colorDelayMode],["ICESGDelayForGuest",_.colorDelayMode],["TAIFEXDelayForGuest",_.colorDelayMode],["TURQUOISEDelayForGuest",_.colorDelayMode],["ADXDelayForGuest",_.colorDelayMode],["TRADEGATEDelayForGuest",_.colorDelayMode],["LUXSEDelayForGuest",_.colorDelayMode],["NSENGDelayForGuest",_.colorDelayMode],["FINRADelayForGuest",_.colorDelayMode],["AQUISDelayForGuest",_.colorDelayMode],["DEForGuest",_.colorDelayMode],["EOD",_.colorEodMode],["TickByTick",_.colorNotAccurateMode],["BATSToRealtime",_.colorNotAccurateMode],["OvernightQuotes",_.colorNotAccurateMode],["DelayWithoutMarketAgreement",_.colorDelayMode]]),H=n.t(null,void 0,s(928214)),F=n.t(null,void 0,s(327741)),L=(0,u.htmlEscape)(n.t(null,void 0,s(605447)));class U extends h.StatusViewModel{constructor(e,t,s){super({iconMap:B,classNameMap:O,titleColorMap:N,size:t}),this._dataUpdatedInfo=new o.WatchedValue(null).spawn(),this._onMarketStatusChanged=()=>{this._updateByStatus(this.status().value())},this._options=s,this._model=e,this._dataModeBlinkingStatuses=C.spawn(),this._dataModeBlinkingStatuses.subscribe(this._updateBlinkingMode.bind(this)),this._options.marketStatus?.subscribe(this._onMarketStatusChanged),
this.turnOffBlinkingMode=this._turnOffBlinking.bind(this),this.setModel(e)}destroy(){this._dataUpdatedInfo.destroy(),this._dataModeBlinkingStatuses.destroy(),this._options.marketStatus?.unsubscribe(this._onMarketStatusChanged),this._options.marketStatus?.release(),super.destroy()}setModel(e){if(this._dataUpdatedInfo.destroy(),null===e)return this._model=e,void(this._dataUpdatedInfo=new o.WatchedValue(null).spawn());this._dataUpdatedInfo=e.status().spawn(),this._dataUpdatedInfo.subscribe(this._updateStatus.bind(this),{callWithLast:!0})}_shouldBeHiddenByStatus(e){const t=this._options.marketStatus?.value();return"expired"===t||"delisted"===t||(!("BATSToRealtime"!==e||!this._model?.isSpread())||super._shouldBeHiddenByStatus(e))}_getTooltip(){const e=this._getShortTexts();return null===e?null:Object.values(e).join(" Â· ")}async _updateFullTooltip(){const e=this._dataUpdatedInfo.value(),t=this._status.value();if(null===e||null===t)return void this._fullTooltip.setValue(null);const s=this._getShortTexts(),[o,i]=await Promise.all([this._getHtmls(),this._getActions()]);if(e!==this._dataUpdatedInfo.value())return;const a=[];for(const t of e){const e=t.mode;"BATSToRealtime"===e&&this._model?.isSpread()||a.push({icon:this._getIcon(e),iconClassName:this._getFullTooltipIconClassNames(e),title:s&&s[e],titleColor:this._getTitleColor(e),html:o&&o[e],size:this._size,action:i&&i[e]})}this._fullTooltip.setValue(a)}_updateStatus(e){const t=null!==e?e[0].mode:null;this._status.setValue(t??null,!0),this._updateBlinkingMode()}async _getHtmls(){const e=this._dataUpdatedInfo.value();if(null===e||null===this._model)return Promise.resolve(null);const t={},o=this._model.symbolName();let i=null;const a=this._model.listedExchange(),l=this._model.tradedExchange();try{i=await this._model.description()}catch(e){R.logError(`Can't get exchange description, reason: ${(0,A.errorToString)(e)}`)}for(const r of e){const e=r.mode;if(t[e]=[],["DelayToRealtime","DelayNoRealtime","DelayWithoutMarketAgreement",...W].includes(e)&&(t[e].push((0,f.delayHtml)(o,this._model.time())),this._options.subscriptionFullInfo&&null!==i&&"DelayToRealtime"===e&&t[e].push(f.delayToRealtimeHtml.format({description:`<b>${i}</b>`})),"DelayNoRealtime"===e&&t[e].push(f.delayNoRealtimeHtml),"DelayWithoutMarketAgreement"===e&&t[e].push(f.delayWithoutMarketAgreement.format({listedExchange:a})),this._options.subscriptionFullInfo&&W.includes(e)&&t[e].push(f.rtFreeForRegisteredUsersHtml.format({listedExchange:a}))),"EOD"===e&&(t[e]=[f.eodHtml]),"TickByTick"===e){const o=void 0===r.updatePeriod?f.tickByTickHtml1FullInfo:(0,u.htmlEscape)(n.t(null,{count:r.updatePeriod,replace:{amount:(r.updatePeriod??1).toString()},plural:"Data on our Basic plan is updated once every {amount} seconds, even if there are more updates on the market."},s(683978))),i=void 0===r.updatePeriod?f.tickByTickHtml1:(0,u.htmlEscape)(n.t(null,{count:r.updatePeriod,replace:{amount:(r.updatePeriod??1).toString()},plural:"Data is updated once every {amount} seconds, even if there are more updates on the market."},s(851931)))
;t[e].push(this._options.subscriptionFullInfo?o:i),this._options.subscriptionFullInfo&&t[e].push(f.tickByTickHtml2)}if(a!==l&&"BATSToRealtime"===e){const s=(0,w.isAmexToCboeMigratedSymbol)(a,this._model.proPerm());w.CRUCIAL_REALTIME_BATS.includes(l)||s?t[e].push(f.batsToRealtimeCrucialHtml.format({exchange:s?"NYSE Arca":a,originalExchange:l})):t[e].push(f.batsToRealtimeHtml1.format({symbolName:o,exchange:l}),""!==a?(0,u.htmlEscape)(f.batsToRealtimeHtml2WithExchange).format({exchange:a}):(0,u.htmlEscape)(f.batsToRealtimeHtml2WithoutExchange))}"OvernightQuotes"===e&&t[e].push(f.overnightQuotesText)}return Object.keys(t).length>0?t:null}async _getActions(){const e=this._dataUpdatedInfo.value();if(null===e||null===this._model)return null;const t={};if(this._options.subscriptionFullInfo)for(const o of e){const e=o.mode;if(W.includes(o.mode)&&(t[e]={text:H,onClick:()=>{(0,x.showSignModal)({source:"Data warning indicator"})}}),"DelayWithoutMarketAgreement"===e){const s=this._model.proPerm()||this._model.listedExchange();t[e]={text:L,onClick:()=>{k({exchange:s.toLowerCase(),hideCloseButton:!1})}}}if("BATSToRealtime"===e){const o=this._model.listedExchange(),i=(0,w.isAmexToCboeMigratedSymbol)(o,this._model.proPerm());if(w.CRUCIAL_REALTIME_BATS.includes(o)||i){const a=this._model.tradedExchange(),l=i?n.t(null,{replace:{listedExchange:o,originalExchange:a}},s(126081)):"",r={country:this._model.country(),link:"https://www.cboe.com/us/equities/market_statistics",originalExchange:a,listedExchange:i?"NYSE Arca":o,titleOverride:l,symbolName:this._model.symbolName(),proPerm:this._model.proPerm()};t[e]=this._goProDialogAction(e,r)}else t[e]={text:F,onClick:()=>{this._showSupportDialogForUpdateMode(S.BATS_TO_REALTIME_SOLUTION_ID)}}}if("TickByTick"===e||"DelayToRealtime"===e){let s=null;const o=this._model.listedExchange(),i=this._model.tradedExchange();try{s=await this._model.description()}catch(e){R.logError(`Can't get exchange description, reason: ${(0,A.errorToString)(e)}`)}const a={time:this._model.time(),exchange:i,listedExchange:o,description:s,symbolName:this._model.symbolName(),username:window.user?window.user.username:"",proPerm:this._model.proPerm()};t[e]=this._goProDialogAction(e,a)}if("OvernightQuotes"===e){const s={exchange:this._model.tradedExchange(),symbolName:this._model.symbolName(),proPerm:this._model.proPerm(),username:window.user?window.user.username:""};t[e]=this._goProDialogAction(e,s,f.overnightQuotesActionText)}}return Object.keys(t).length>0?t:null}_showSupportDialogForUpdateMode(e){if((0,P.showSupportDialog)({solutionId:e}),null===this._model)return;const t=this._model.proName();(0,E.getTracker)().then((e=>e&&t&&e.trackMarketDataSolutionEvent(t)))}_getShortTexts(){const e=this._dataUpdatedInfo.value();if(null===e||null===this._model)return null;const t={};for(const o of e){const e=o.mode;if(["DelayToRealtime","DelayNoRealtime",...W,"DelayWithoutMarketAgreement"].includes(e)&&(t[e]=f.delayTooltip),"EOD"===e&&(t[e]=f.eodTooltip),"TickByTick"===e){
const i=void 0===o.updatePeriod?f.notAccurate1PerSecondTooltip:(0,u.htmlEscape)(n.t(null,{plural:"One update every {amount} seconds",count:o.updatePeriod,replace:{amount:(o.updatePeriod??1).toString()}},s(36050)));t[e]=i}if("BATSToRealtime"===e){const s=this._model.tradedExchange(),o=this._model.listedExchange();t[e]=s!==o?f.exchangeByOriginalExchangeTooltip.format({exchange:o,originalExchange:s}):s}"OvernightQuotes"===e&&(t[e]=f.overnightQuotesTitle)}return Object.keys(t).length>0?t:null}_updateBlinkingMode(){const e=this._dataUpdatedInfo.value();if(null===e)return;const t=this._dataModeBlinkingStatuses.value();for(const s of e)if(!t.includes(s.mode))return void this.isBlinkingMode.setValue(!0);this.isBlinkingMode.setValue(!1)}_turnOffBlinking(){const e=this._dataUpdatedInfo.value();if(null!==e)for(const t of e)I(t.mode)}_goProDialogAction(e,t={},o){return{text:F,onClick:()=>{null!==this._model&&(0,c.createGoProDialog)({forceUpgradeBtn:!0,goOnMarkets:!0,customParams:t,upgradeMessage:o||n.t(null,void 0,s(570032)),feature:e}).then((()=>{(0,V.trackEvent)("Data Warning","Full description visible",e)}))}}}}var z=s(838373),G=s(79304);const q=n.t(null,void 0,s(586158)),$=new Map([[!0,new Map([["small",z],["medium",G],["large",G]])],[!1,new Map([["small",""],["medium",""],["large",""]])]]),j=new Map([[!0,D.dataProblemLow],[!1,null]]),Q=new Map([[!0,q],[!1,null]]),Z=new Map([[!0,q],[!1,null]]),X=new Map([[!0,r.colorsPalette["color-data-problem"]],[!1,null]]);class K extends h.StatusViewModel{constructor(e,t,s){super({iconMap:$,classNameMap:j,tooltipMap:Q,titleMap:Z,titleColorMap:X,size:t}),this._dataSourceErrorStatus=new o.WatchedValue(null).spawn(),this._lastError=null,this._options=s,this.setSource(e)}destroy(){this._dataSourceErrorStatus.destroy(),super.destroy()}setSource(e){this._dataSourceErrorStatus.destroy(),this._dataSourceErrorStatus=e.errorStatus().spawn(),this._dataSourceErrorStatus.subscribe(this._updateStatus.bind(this),{callWithLast:!0})}_getTooltip(e){return(e?this._getDataSourceErrorStatusCustomTitle():null)??super._getTooltip(e)}_getTitle(e){return(e?this._getDataSourceErrorStatusCustomTitle():null)??super._getTitle(e)}async _updateFullTooltip(){const e=this._status.value(),t=this._dataSourceErrorStatus.value();null!==e&&null!==t?this._fullTooltip.setValue([{icon:this._getIcon(e),iconClassName:this._getFullTooltipIconClassNames(e),title:this._getTitle(e),titleColor:this._getTitleColor(e),html:void 0===t.stackTrace?[(0,d.formatStudyError)((0,u.htmlEscape)(t.error))]:null,size:this._size,action:this._getAction(e),solutionId:this._options.errorSolution?this._dataSourceErrorStatus.value()?.solutionId:void 0,dataQaId:this._dataQaId()??void 0}]):this._fullTooltip.setValue(null)}_dataQaId(){return"data-source-error-status"}_getAction(e){const t=this._dataSourceErrorStatus.value();if(this._options.errorSolution&&null!==t){const{studyFeature:e}=t;if(e)return{text:F,onClick:()=>(0,c.createGoProDialog)({feature:e})}}return null}_updateStatus(e){const t=this._status.value();null!==e?(this._status.setValue(!0),
t&&this._lastError!==e.error&&this._updateByStatus(!0),this._lastError=e.error):(this._status.setValue(null),this._lastError=null)}_getDataSourceErrorStatusCustomTitle(){return this._dataSourceErrorStatus.value()?.title||null}}const J=n.t(null,void 0,s(178992)),Y=new Map([["high",new Map([["small",z],["medium",G],["large",G]])],["low",new Map([["small",z],["medium",G],["large",G]])]]),ee=new Map([["high",D.dataProblemHigh],["low",D.dataProblemLow]]),te=new Map([["high",J],["low",J]]),se=new Map([["high",r.colorsPalette["color-data-problem"]],["low",r.colorsPalette["color-data-problem"]]]);class oe extends h.StatusViewModel{constructor(e,t){super({tooltipMap:te,iconMap:Y,classNameMap:ee,titleMap:te,titleColorMap:se,size:t}),this._dataProblems=new o.WatchedValue([]).spawn(),this._isDataProblemCritical=new o.WatchedValue(!1),this.setModel(e)}destroy(){this._dataProblems.destroy(),super.destroy()}isDataProblemCritical(){return this._isDataProblemCritical}setModel(e){this._dataProblems.destroy(),null!==e?(this._dataProblems=e.dataProblems().spawn(),this._dataProblems.subscribe(this._updateStatus.bind(this),{callWithLast:!0})):this._dataProblems=new o.WatchedValue([]).spawn()}async _updateFullTooltip(){const e=this.status().value(),t=this._dataProblems.value();if(null===e||0===t.length)return void this._fullTooltip.setValue(null);const s=t.map(((t,s)=>({icon:this._getIcon(e),iconClassName:this._getFullTooltipIconClassNames(e),title:t.title??(0===s?this._getTitle(e):null),titleColor:this._getTitleColor(e),html:[(0,u.htmlEscape)(t.text)],size:this._size,action:this._getAction(e)})));this._fullTooltip.setValue(s)}_getTooltip(e){return this._getDataProblemCustomTitle()??super._getTooltip(e)}_getTitle(e){return this._getDataProblemCustomTitle()??super._getTitle(e)}_updateStatus(e){const t=e[0]?.severity??null,s=this._status.value()!==t;this._status.setValue(t),this._isDataProblemCritical.setValue(function(e){return"high"===e}(t)),s||this._updateFullTooltip()}_getDataProblemCustomTitle(){return this._dataProblems.value()?.[0]?.title||null}}var ie=s(933214);const ae=n.t(null,void 0,s(652969)),le=n.t(null,void 0,s(453272)),re=new Map([[!0,new Map([["small",z],["medium",G],["large",G]])],[!1,new Map([["small",""],["medium",""],["large",""]])]]),ne=new Map([[!0,D.invalidSymbol],[!1,null]]),ue=new Map([[!0,ae],[!1,null]]),de=new Map([[!0,ae],[!1,null]]),ce=new Map([[!0,r.colorsPalette["color-invalid-symbol"]],[!1,null]]),he=new Map([[!0,[le]],[!1,null]]),pe=new Map([[!0,null],[!1,null]]);var me=s(125226),_e=s(50959),Se=s(251954),fe=s(497754),we=s(538455);function ve(e){return void 0!==e.text?e.text:`${e.lineNumber}${e.functionOrScopeName}`}function ye(e){const{className:t,stackTrace:s}=e,o=fe(we.wrapStackTrace,t),i=[...s];return i.length>10&&i.splice(5,i.length-10,{text:"..."}),_e.createElement("div",{className:o},i.map(((e,t)=>_e.createElement(be,{key:`${ve(e)}${t}`,...e}))))}function be(e){const{functionOrScopeName:t,lineNumber:s,text:o}=e;return _e.createElement("div",{className:we.stackTraceLine
},o?_e.createElement("span",null,o):_e.createElement("span",null,"at ",_e.createElement("span",{className:we.functionName},t,"()"),":",s))}var ge=s(673747),Me=s(971417),Ie=s(507458),Ce=s(25e3),Ee=s(337350),Ve=s(224743);function xe(e){const{className:t,pineSourceCodeModel:o,pineEditorOpenParams:i}=e,[a,l]=(0,_e.useState)(!1),r=(0,Ee.usePromise)((()=>o));(0,_e.useEffect)((()=>{if(null===r)return;const e=e=>{const t=Boolean(i.error?.start??void 0);l(e&&t)};return r.isAbleShowSourceCode().subscribe(e,{callWithLast:!0}),()=>r.isAbleShowSourceCode().unsubscribe(e)}),[i,r]);const u=(0,_e.useCallback)((()=>{(0,Ve.globalCloseMenu)(),i&&r?.showPineSourceCode(i)}),[r,i]);return a?_e.createElement(Ce.LightButton,{className:t,onClick:u,size:"xsmall"},n.t(null,void 0,s(547471))):null}var Pe=s(559418);function Te(e){return e.map((e=>`at ${e.functionOrScopeName}():${e.lineNumber}`)).join("\n")}function ke(e){const{stackTrace:t,errorMessage:o,pineSourceCodeModel:i}=e,[a,l]=(0,_e.useState)(!1),r=(0,_e.useRef)(null),u=(0,_e.useMemo)((()=>{const e=t.find((e=>!e.id||!(0,Me.isPublishedPineId)(e.id)));return void 0===e?{}:{stackTrace:t,error:{message:o,start:{line:e.lineNumber,column:0}}}}),[o,t]),d=fe(Pe.wrapError,a&&Pe.clickedAnim);return _e.createElement("div",{className:Pe.wrapper},_e.createElement("div",{ref:r,className:d,onClick:function(e){if(a)return;if((0,Ie.copyToClipboard)({text:Te(t)}),null===r.current)return;(0,ge.showOnElement)(r.current,{tooltipDelay:0,content:{type:"text",data:n.t(null,void 0,s(776746))}}),l(!0),setTimeout((()=>{(0,ge.hide)(),l(!1)}),2e3)}},o.length&&_e.createElement(Ae,{errorMessage:o}),t.length&&_e.createElement(ye,{className:Pe.wrapStackTrace,stackTrace:t})),_e.createElement(xe,{className:Pe.editorButton,pineSourceCodeModel:i,pineEditorOpenParams:u}))}function Ae(e){const{errorMessage:t}=e;return _e.createElement("div",{className:Pe.errorText},t)}function De(e){const{className:t,editorError:s,pineSourceCodeModel:o}=e;return s.id.startsWith("USER")?_e.createElement("div",null,_e.createElement(xe,{className:t,pineSourceCodeModel:o,pineEditorOpenParams:{error:s}})):null}function Re(e){const{className:t}=e;return _e.createElement("div",null,_e.createElement(Ce.LightButton,{className:t,onClick:function(e){e.preventDefault(),(0,P.showSupportDialog)({initialState:"indicators-ticket"})},size:"xsmall"},n.t(null,void 0,s(677542))))}class We{constructor(e){this._clickOnLineCallback=e=>{Se.emit("study_stack_trace_open_on_line",this._source.entityId?.()??"",e)},this._source=e}destroy(){}renderer(e,t){const s=this._source.errorStatus().value();return null===s?null:s.stackTrace?(0,_e.createElement)(ke,{key:e,pineSourceCodeModel:this._source.pineSourceCodeModel(),errorMessage:s.error??"",stackTrace:s.stackTrace,clickOnLineCallback:this._clickOnLineCallback}):s.editorError?(0,_e.createElement)(De,{key:e,className:t,editorError:s.editorError,pineSourceCodeModel:this._source.pineSourceCodeModel()}):s.showReportItButton?(0,_e.createElement)(Re,{key:e,className:t}):null}updateSource(e){this._source=e}}
var Be=s(895334),Oe=s(302588),Ne=s(257979);const He=n.t(null,void 0,s(436933)),Fe=new Map([[!0,new Map([["small",Oe],["medium",Ne],["large",Ne]])],[!1,new Map([["small",""],["medium",""],["large",""]])]]),Le=new Map([[!0,D.updateAvailable],[!1,null]]),Ue=new Map([[!0,He],[!1,null]]),ze=new Map([[!0,He],[!1,null]]),Ge=new Map([[!0,r.colorsPalette["color-deep-blue-a400"]],[!1,null]]);class qe extends h.StatusViewModel{constructor(e,t){super({iconMap:Fe,classNameMap:Le,tooltipMap:Ue,titleMap:ze,titleColorMap:Ge,size:t}),this._pineSourceCodeModel=new o.WatchedValue(null),this._possibleUpdateInformation=new o.WatchedValue(null),this._lastUpdateAbortController=null,this._entityId=new o.WatchedValue(e.entityId?.()),this.updateSource(e),this._availableForUpdate=(0,i.combine)(((e,t,s)=>window.is_authenticated&&t&&!!s&&!!e&&(0,Be.updatesInfoSupported)(e.scriptIdPart()??"")),this._pineSourceCodeModel.weakReference(),this._visible.weakReference(),this._possibleUpdateInformation.weakReference())}destroy(){this._availableForUpdate.destroy(),this._lastUpdateAbortController?.abort(),super.destroy()}entityId(){return this._entityId.readonly()}visible(){return this._availableForUpdate}updateSource(e){this._entityId.setValue(e.entityId?.());const t=e.pineSourceCodeModel();this._lastUpdateAbortController?.abort();const s=new AbortController;this._lastUpdateAbortController=s,t.then((e=>{s.signal.aborted||(this._pineSourceCodeModel.setValue(e),e&&e.requestUpdateInformation().then((e=>{s.signal.aborted||(this._possibleUpdateInformation.setValue(e),this._status.setValue(e&&e.currentVersion.isLess(e.lastVersion)))})))}))}_shouldBeHiddenByStatus(e){return!e}_dataQaId(){return"script-update-status"}}var $e=s(182120),je=s(879921),Qe=s(807958),Ze=s(402823),Xe=s(46362);function Ke(e){const{className:t,pineSourceCodeModel:o,model:i,onClose:a}=e,l=(0,Ee.usePromise)((()=>o)),r=(0,Ee.usePromise)((()=>l?l.requestUpdateInformation():Promise.resolve(null)),(()=>{}),[l]),u=l?.scriptIdPart(),d=u&&Qe.StudyMetaInfo.hasPubSuffix(u),c=(0,Ee.usePromise)((()=>d&&l?(0,Ze.showAboutTheStudyHandler)(l).then((e=>({handler:e}))):Promise.resolve(null)),(()=>{}),[l,d]),[h,p]=(0,_e.useState)((()=>v.default.getBool("chart.updateIndicatorsOnAllCharts",!0)));return(0,_e.useEffect)((()=>{v.default.setValue("chart.updateIndicatorsOnAllCharts",h)}),[h]),_e.createElement("div",null,_e.createElement("div",{className:Xe.description},n.t(null,void 0,s(772624)),c&&_e.createElement("a",{className:Xe.link,onClick:function(e){e.preventDefault(),c?.handler?.()}}," ",n.t(null,void 0,s(895072)))),_e.createElement("div",{className:Xe.mode},_e.createElement($e.Checkbox,{checked:h,onChange:()=>p((e=>!e)),label:n.t(null,void 0,s(305210))}),_e.createElement(je.IconQuestionInformation,{ariaLabel:n.t(null,void 0,s(196181)),tooltip:n.t(null,void 0,s(196181))})),_e.createElement("div",{className:Xe.actions},_e.createElement(Ce.LightButton,{className:t,size:"xsmall",onClick:function(){r&&(l?.updateToVersion(i,r.lastVersion,h),a())},"data-qa-id":"update-to-latest-version-button"
},n.t(null,void 0,s(534291)))))}class Je{constructor(e,t){this._source=e,this._model=t}destroy(){}renderer(e,t,s){return(0,_e.createElement)(Ke,{key:e,pineSourceCodeModel:this._source.pineSourceCodeModel(),model:this._model,className:t,onClose:s})}updateSource(e){this._source=e}}var Ye=s(44049),et=s(494417);const tt=new Map([[2,new Map([["small",et],["medium",et],["large",et]])],[1,new Map([["small",et],["medium",et],["large",et]])]]),st=new Map([[2,D.openedInDetachedPineEditor],[1,D.openedInPineEditor]]),ot=new Map([[2,f.openedInDetachedEditorTitle],[1,f.openedInEditorTitle]]),it=new Map([[2,(0,r.getHexColorByName)("color-cold-gray-550")],[1,(0,r.getHexColorByName)("color-forest-green-500")]]),at=new Map([[2,[f.openedInDetachedEditorText]],[1,[f.openedInEditorText]]]);class lt extends h.StatusViewModel{constructor(e,t){const s=()=>this._showSourceCode(),o=new Map([[2,{text:f.openInEditorActionText,onClick:s}],[1,{text:f.openInEditorActionText,onClick:s}]]);super({iconMap:tt,classNameMap:st,titleMap:ot,tooltipMap:ot,titleColorMap:it,htmlMap:at,actionMap:o,size:t}),this._pineModelResource=null,this.setModel(e)}destroy(){this._pineSourceEditorStatus?.destroy(),this._pineModelResource?.destroy(),super.destroy()}setModel(e){this._pineModelResource?.destroy(),this._pineSourceEditorStatus?.destroy(),this._updateStatus(0),this._pineModelResource=new Ye.AsyncResourceWrapper(e),this._pineModelResource.callFunction((e=>{e&&(this._pineSourceEditorStatus=e.pineSourceEditorStatus().spawn(),this._pineSourceEditorStatus.subscribe(this._updateStatus.bind(this),{callWithLast:!0}))}))}_shouldBeHiddenByStatus(e){return 0===e}_updateStatus(e){this._visible.setValue(0!==e),this._status.setValue(e)}_showSourceCode(){this._pineModelResource?.callFunction((e=>{e?.showPineSourceCode()}))}}var rt=s(638456),nt=s(378338),ut=s(818547),dt=s(763362);const ct=nt.t(null,void 0,s(304723)),ht=nt.t(null,void 0,s(435153)),pt=nt.t(null,void 0,s(248686)),mt=new Map([[!0,new Map([["small",ut],["medium",dt],["large",dt]])],[!1,new Map([["small",""],["medium",""],["large",""]])]]),_t=new Map([[!0,D.activeStrategy],[!1,null]]),St=new Map([[!0,ct],[!1,null]]),ft=new Map([[!0,r.colorsPalette["color-tv-blue-500"]],[!1,null]]),wt=new Map([[!0,[ht]],[!1,null]]);class vt extends ie.BooleanStatusViewModel{constructor(e,t,s){super(t,{iconMap:mt,classNameMap:_t,titleMap:St,tooltipMap:St,titleColorMap:ft,htmlMap:wt,size:s}),this._pineModelResource=null,this._resetStatusForce=()=>{const e=this._status.value()??!1;this._visible.setValue(e,!0),this._status.setValue(e,!0)},this.updateSource(e)}destroy(){this._isAbleShowBacktesting?.destroy(),this._pineModelResource?.destroy(),super.destroy()}updateSource(e){this._isAbleShowBacktesting?.destroy(),this._pineModelResource?.destroy(),this._pineModelResource=new Ye.AsyncResourceWrapper(e.pineSourceCodeModel()),this._pineModelResource.callFunction((e=>{e&&(this._isAbleShowBacktesting=e.isAbleShowSourceCode().spawn(),this._isAbleShowBacktesting.subscribe(this._resetStatusForce,{callWithLast:!0}))}))}_shouldBeHiddenByStatus(e){
return!e}_getAction(e){return e&&this._isAbleShowBacktesting?.value()?{text:pt,onClick:()=>this._pineModelResource?.callFunction((e=>{e?.showBacktesting?.()}))}:null}}var yt=s(535529),bt=s(823856);const gt=n.t(null,void 0,s(336620)),Mt=n.t(null,void 0,s(780754)),It=new Map([[!0,new Map([["small",yt],["medium",bt],["large",bt]])]]),Ct=new Map([[!0,D.alert]]),Et=new Map([[!0,gt]]),Vt=new Map([[!0,gt]]),xt=new Map([[!0,(0,r.getHexColorByName)("color-minty-green-500")]]),Pt=new Map([[!0,[]]]);class Tt extends h.StatusViewModel{constructor(e,t){super({iconMap:It,classNameMap:Ct,tooltipMap:Vt,titleMap:Et,titleColorMap:xt,htmlMap:Pt,size:t}),this._alerts=null,this.setSource(e)}destroy(){this._alerts?.destroy(),super.destroy()}setSource(e){this._alerts?.destroy(),this._alerts=null;const t=e.alertSourceModel();this._alerts=t?.alerts().spawn()??null,this._alerts?.subscribe(this._updateStatus.bind(this),{callWithLast:!0})}_shouldBeHiddenByStatus(e){return!e}_getTitle(e){return`${gt} Â· ${this._alerts?.value().length}`}_getTooltip(e){return this._getTitle(e)}_getHTML(e){const t=this._alerts?.value();if(void 0===t||0===t.length)return[];const s=t.slice(0,5).map((e=>`<div class="${D.alertItem}">${e.title}</div>`));return[`<div class="${D.alertItemsContainer}">${s.join("")}</div>`]}_getAction(e){const t=this._alerts?.value();if(void 0===t||t.length<=5)return null;const s=window.widgetbar;return s&&s.isVisible()?{text:Mt,className:D.alertAction,tooltip:Mt,onClick:()=>s.setPage("alerts")}:null}_updateStatus(){const e=this._alerts?.value(),t=e?.filter((e=>e.canDisplayOnStatusView())),s=void 0!==t&&t.length>0;this._status.setValue(s,!0)}}var kt=s(561141),At=s(567035);class Dt extends At.StatusesWidgetStateBase{constructor(e,t,s){super(s),this.dataSourceErrorStatusShown=new o.WatchedValue(!1),this.dataUpdatedModeShown=new o.WatchedValue(!1),this.isSymbolInvalidStatusShown=new o.WatchedValue(!1),this._symbolInvalidViewModel=null,this._dataSourceErrorStatusViewModel=null,this._marketStatusViewModel=null,this._dataUpdatedModeViewModel=null,this._dataProblemViewModel=null,this._updateAvailableViewModel=null,this._alertStatusViewModel=null,this._pineEditorStateViewModel=null,this._activeStrategySourceViewModel=null,this._customStatusViewModel=null,this._sessionWidget=null,this._errorWidget=null,this._updateAvailableWidget=null,this._dataSourceHasErrorVisible=null,this._dataSourceErrorCanBeShown=new o.WatchedValue(!1),this._marketStatusCanBeShown=new o.WatchedValue(!1),this._dataUpdatedAvailableVisible=null,this._dataUpdatedModeCanBeShown=new o.WatchedValue(!1),this._dataProblemCanBeShown=new o.WatchedValue(!1),this._updateAvailableCanBeShown=new o.WatchedValue(!1),this._isDataProblemCritical=null,this._updateVisibility=()=>{const e=this._statusProviderHidden.value()&&0===this.visibleModels().value().length;this._visibility.setValue(!e)},this._source=e,this._symbol=e.symbol()?.spawn()??null,this._options=s,this._undoModel=t,this._statusProviderHidden=e.hidden().spawn(),this._statusProviderHidden.subscribe(this._updateVisibility,{
callWithLast:!0}),this._createStatusesWidgetStates(),this._addSubscriptionForSymbolInvalid(),null!==this._dataSourceHasErrorVisible&&(this._dataSourceHasErrorVisible.subscribe(this._updateStatusWidgetsVisibilities.bind(this)),this._dataSourceHasErrorVisible.subscribe(this._updateErrorWidgetIsShown.bind(this))),null!==this._dataUpdatedAvailableVisible&&this._dataUpdatedAvailableVisible.subscribe(this._updateDataUpdatedWidgetIsShown.bind(this)),this._options.dataProblemEnabled&&null!==this._isDataProblemCritical&&this._isDataProblemCritical.subscribe(this._updateStatusWidgetsVisibilities.bind(this)),this._updateErrorWidgetIsShown(),this._updateIsSymbolInvalidStatusShown(),this._updateStatusWidgetsVisibilities()}destroy(){this._statusProviderHidden.destroy(),this._visibility.unsubscribe(),this._symbol?.destroy(),this._isDataProblemCritical?.destroy(),super.destroy()}_updateStatusWidgetsVisibilities(){const e=this._isForceStatusActive();this._dataSourceErrorCanBeShown.setValue(!e),this._marketStatusCanBeShown.setValue(!e),this._dataUpdatedModeCanBeShown.setValue(!e),this._updateAvailableCanBeShown.setValue(!e),this._dataProblemCanBeShown.setValue(!this._isPrimaryWidgetShown())}_isPrimaryWidgetShown(){return this._source.isSymbolInvalid()?.value()??!1}_isForceStatusActive(){return this._isPrimaryWidgetShown()||(this._isDataProblemCritical?.value()??!1)}_createStatusesWidgetStates(){this._options.sourceStatusesEnabled&&this._createSymbolInvalidStatus(),this._options.marketStatusEnabled&&this._createMarketStatus(),this._options.dataUpdateModeEnabled&&this._createDataUpdatedModeStatus(),this._options.dataProblemEnabled&&this._createDataProblemStatus(),this._options.sourceStatusesEnabled&&this._createErrorStatus(),this._options.pineSourceStatusEnabled&&this._createScriptUpdate(),this._options.alertStatusEnabled&&this._createAlertAlertStatus(),this._options.pineSourceStatusEnabled&&this._createActiveStrategyStatus(),this._options.pineSourceStatusEnabled&&this._createPineEditorStatus(),this._createCustomMarketStatus()}_createSymbolInvalidStatus(){const e=this._source.isSymbolInvalid();null!==e&&(this._symbolInvalidViewModel=new ie.BooleanStatusViewModel(e,{tooltipMap:ue,iconMap:re,classNameMap:ne,titleMap:de,titleColorMap:ce,htmlMap:he,actionMap:pe,size:this._size}),this._addStatusViewModelsInfos({visible:this._symbolInvalidViewModel.visible().spawn(),model:this._symbolInvalidViewModel}))}_createMarketStatus(){const e=this._source.marketStatusModel();this._marketStatusViewModel=new kt.MarketStatusViewModel(e,this._size);const t={visible:(0,i.combine)(((e,t,s)=>e&&t&&!(0,a.isEconomicSymbol)(s)&&!(0,a.isSpreadSymbolWithManyLegs)(s)),this._marketStatusCanBeShown.weakReference(),this._marketStatusViewModel.visible().weakReference(),this._source.symbolInfo().weakReference()),model:this._marketStatusViewModel};null!==e&&(this._sessionWidget=new l.FullSessionScheduleWidget(this._source),t.additionalWidgets=[this._sessionWidget]),this._addStatusViewModelsInfos(t)}_createDataUpdatedModeStatus(){
const e=this._source.dataUpdatedModeModel(),t={...this._options.dataUpdateMode,marketStatus:this._source.marketStatusModel()?.status().spawnOwnership()};this._dataUpdatedModeViewModel=new U(e,this._size,t);const s=(0,i.combine)(((e,t,s)=>e&&t&&!(0,a.isEconomicSymbol)(s)),this._dataUpdatedModeCanBeShown.weakReference(),this._dataUpdatedModeViewModel.visible().weakReference(),this._source.symbolInfo().weakReference());this._addStatusViewModelsInfos({visible:s,model:this._dataUpdatedModeViewModel})}_createDataProblemStatus(){const e=this._source.dataProblemModel();this._dataProblemViewModel=new oe(e,this._size),this._isDataProblemCritical=this._dataProblemViewModel.isDataProblemCritical().spawn();const t=(0,i.combine)(((e,t)=>e&&t),this._dataProblemCanBeShown.weakReference(),this._dataProblemViewModel.visible().weakReference());this._addStatusViewModelsInfos({visible:t,model:this._dataProblemViewModel})}_createScriptUpdate(){this._undoModel.model().isSnapshot()||this._undoModel.model().readOnly()||(0,rt.onWidget)()||(0,me.isFeatureEnabled)("disable_update_availability_status")||(this._updateAvailableViewModel=new qe(this._source,this._size),this._updateAvailableWidget=new Je(this._source,this._undoModel),this._dataUpdatedAvailableVisible=(0,i.combine)(((e,t,s)=>e&&t&&!s),this._updateAvailableCanBeShown.weakReference(),this._updateAvailableViewModel.visible().weakReference(),this._source.hidden().weakReference()),this._addStatusViewModelsInfos({visible:this._dataUpdatedAvailableVisible,model:this._updateAvailableViewModel,additionalWidgets:[this._updateAvailableWidget],preliminaryJob:this._source.pineSourceCodeModel().then((e=>e?Promise.all([e.requestScriptInfo(),(0,Ze.showAboutTheStudyHandler)(e)]):Promise.resolve())),iconDatasetName:"legend-source-item-status-icon-update",iconDatasetEntityId:this._updateAvailableViewModel.entityId()}))}_createAlertAlertStatus(){this._alertStatusViewModel=new Tt(this._source,this._size);const e=this._alertStatusViewModel.visible().spawn();this._addStatusViewModelsInfos({visible:e,model:this._alertStatusViewModel})}_createErrorStatus(){this._dataSourceErrorStatusViewModel=new K(this._source,this._size,this._options.sourceStatuses),this._dataSourceHasErrorVisible=(0,i.combine)(((e,t,s)=>e&&t&&!s),this._dataSourceErrorCanBeShown.weakReference(),this._dataSourceErrorStatusViewModel.visible().weakReference(),this._source.hidden().weakReference());const e=[];this._errorWidget=new We(this._source),e.push(this._errorWidget),this._addStatusViewModelsInfos({visible:this._dataSourceHasErrorVisible,model:this._dataSourceErrorStatusViewModel,additionalWidgets:e})}_createActiveStrategyStatus(){const e=(0,i.combine)((e=>null!==e&&this._source.entityId?.()===e.id()),this._undoModel.model().activeStrategySource().weakReference());this._activeStrategySourceViewModel=new vt(this._source,e,this._size);const t=this._activeStrategySourceViewModel.visible().spawn();this._addStatusViewModelsInfos({visible:t,model:this._activeStrategySourceViewModel})}_createPineEditorStatus(){
const e=this._source.pineSourceCodeModel();this._pineEditorStateViewModel=new lt(e,this._size);const t=this._pineEditorStateViewModel.visible().spawn();this._addStatusViewModelsInfos({visible:t,model:this._pineEditorStateViewModel})}_createCustomMarketStatus(){}_addSubscriptionForSymbolInvalid(){const e=this._source.isSymbolInvalid();this._options.sourceStatusesEnabled&&null!==e&&(e.subscribe(this._updateStatusWidgetsVisibilities.bind(this)),e.subscribe(this._updateIsSymbolInvalidStatusShown.bind(this),{callWithLast:!0}))}_updateErrorWidgetIsShown(){const e=this._dataSourceHasErrorVisible?.value()??!1;this.dataSourceErrorStatusShown.setValue(e)}_updateDataUpdatedWidgetIsShown(){const e=this._dataUpdatedAvailableVisible?.value()??!1;this.dataUpdatedModeShown.setValue(e)}_updateIsSymbolInvalidStatusShown(){const e=this._source.isSymbolInvalid()?.value()??!1;this.isSymbolInvalidStatusShown.setValue(e)}}},62538:(e,t,s)=>{"use strict";s.d(t,{MainDataSourceStatusesWidgetState:()=>Ce});var o=s(650151),i=s(158942),a=s(519073),l=s(124943),r=s(790188),n=s(444372),u=s(786220),d=s(74733),c=s(199241);const h=n.t(null,void 0,s(454252)),p=n.t(null,void 0,s(732021)),m=n.t(null,void 0,s(803296)),_=n.t(null,void 0,s(798961)),S=n.t(null,void 0,s(372477)),f=n.t(null,void 0,s(476966)),w=new Map([[3,new Map([["small",d],["medium",d],["large",d]])],[1,new Map([["small",d],["medium",d],["large",d]])],[2,new Map([["small",d],["medium",d],["large",d]])]]),v=new Map([[2,c.replayModeAutoPlay],[3,c.replayModePause],[1,c.replayModePointSelect]]),y=new Map([[2,p],[3,p],[1,p]]),b=new Map([[2,p],[3,m],[1,h]]),g=new Map([[2,(0,r.getHexColorByName)("color-replay-mode")],[3,(0,r.getHexColorByName)("color-replay-mode")],[1,(0,r.getHexColorByName)("color-replay-mode-point-select")]]),M=new Map([[2,[S]],[3,[f]],[1,[_]]]);class I extends u.StatusViewModel{constructor(e,t){super({iconMap:w,classNameMap:v,tooltipMap:b,titleMap:y,titleColorMap:g,htmlMap:M,size:t}),this._replayStatus=e,this._replayStatus.subscribe(this._updateStatus.bind(this),{callWithLast:!0})}destroy(){this._replayStatus.release(),super.destroy()}_updateStatus(e){this._status.setValue(0!==e?e:null),this.isBlinkingMode.setValue(2===e)}}var C=s(856539),E=s(825957),V=s(734410),x=s(175819),P=s(932881);class T extends u.StatusViewModel{constructor(e,t){super(t),this._simpleStatus=e,this._simpleStatus.subscribe(this._updateStatus.bind(this),{callWithLast:!0})}destroy(){this._simpleStatus.release(),super.destroy()}_updateStatus(e){this._status.setValue(e)}}var k,A=s(435585);!function(e){e.Stock="HalalStock",e.Bond="HalalBond"}(k||(k={}));const D=new Map([[k.Bond,x.halalTitle],[k.Stock,x.halalTitle]]),R=new Map([[k.Bond,P.colorHalalMode],[k.Stock,P.colorHalalMode]]),W=new Map([[k.Bond,new Map([["small",C],["medium",C]])],[k.Stock,new Map([["small",C],["medium",C]])]]),B=new Map([[k.Bond,A.halalStatus],[k.Stock,A.halalStatus]]),O=new Map([[k.Bond,[x.halalBondHtml]],[k.Stock,[x.halalHtml]]]),N=new Map([[k.Bond,{text:n.t(null,void 0,s(327741)),onClick:()=>(0,E.showSupportDialog)({
solutionId:V.HALAL_SOLUTION_ID})}],[k.Stock,{text:n.t(null,void 0,s(327741)),onClick:()=>(0,E.showSupportDialog)({solutionId:V.HALAL_SOLUTION_ID})}]]);class H extends T{constructor(e,t){super(e,{iconMap:W,tooltipMap:D,titleMap:D,titleColorMap:R,size:t,classNameMap:B,htmlMap:O,actionMap:N})}}var F=s(103931),L=s(554103);const U=new Map([[!0,x.tvCalculatedPairTooltip]]),z=new Map([[!0,P.colorTVCalculatedPairMode]]),G=new Map([[!0,F.tvCalculatedPairIconsMap]]),q=new Map([[!0,L.tvCalculatedPair]]),$=new Map([[!0,[x.tvCalculatedPairHtml]]]),j=new Map([[!0,{text:n.t(null,void 0,s(327741)),onClick:()=>(0,E.showSupportDialog)({solutionId:V.TV_CALCULATED_PAIR_SOLUTION_ID})}]]);class Q extends T{constructor(e,t){super(e,{iconMap:G,tooltipMap:U,titleMap:U,titleColorMap:z,size:t,classNameMap:q,htmlMap:$,actionMap:j})}}var Z=s(878764);const X=new Map([[!0,x.HKEXDataTitle]]),K=new Map([[!0,P.colorNotAccurateMode]]),J=new Map([[!0,F.problemIconsMap]]),Y=new Map([[!0,Z.hkexComment]]),ee=new Map([[!0,[x.HKEXDataComment]]]);class te extends T{constructor(e,t){super(e,{iconMap:J,tooltipMap:X,titleMap:X,titleColorMap:K,size:t,classNameMap:Y,htmlMap:ee})}}var se=s(366669);const oe=new Map([[!0,x.defaultedTitle]]),ie=new Map([[!0,P.colorDefaulted]]),ae=new Map([[!0,F.defaultedIconsMap]]),le=new Map([[!0,se.defaultedStatus]]),re=new Map([[!0,[x.defaultedHtml]]]);class ne extends T{constructor(e,t){super(e,{iconMap:ae,tooltipMap:oe,titleMap:oe,titleColorMap:ie,size:t,classNameMap:le,htmlMap:re})}}var ue=s(44049),de=s(820028),ce=s(319703),he=s(502661);const pe=(0,r.getHexColorByName)("color-sky-blue-a700"),me=new Map([[!1,x.letItSnowTitle],[!0,x.letItSnowTitle]]),_e=new Map([[!1,pe],[!0,pe]]),Se=new Map([[!0,new Map([["small",ce],["medium",ce]])]]),fe=new Map([[!1,he.letItSnowStatus],[!0,he.letItSnowStatus]]),we=new Map([[!1,[x.letItSnowHtml]],[!0,[x.letItSnowHtml]]]),ve=new de.WatchedValue(!1);let ye=null;ve.subscribe((e=>{null===ye&&(ye=new ue.AsyncResourceWrapper(s.e(20465).then(s.bind(s,782178)))),ye.callFunction((t=>{t.snow(e)}))}));const be=new Set(["en","uk","de_DE","fr","es","it","pl","ja","ca","ru"]);class ge extends T{constructor(e){super(ve.weakReference(),{iconMap:Se,tooltipMap:me,titleMap:me,titleColorMap:_e,size:e,classNameMap:fe,htmlMap:we,actionMap:new Map([[!1,{text:x.letItSnowStart,onClick:()=>ve.setValue(!0)}],[!0,{text:x.letItSnowStop,onClick:()=>ve.setValue(!1)}]])})}async _updateFullTooltip(){await super._updateFullTooltip();const e=this._fullTooltip.value();null!==e&&this._fullTooltip.setValue([{...e[0],icon:ce}])}}var Me=s(125226),Ie=s(68777);class Ce extends l.DataSourceStatusesWidgetState{constructor(e,t,s){super(e,t,s),this._isInReplay=new i.WatchedValue(!1).readonly().spawn(),this._isInReplayCanBeShown=null,this._inited=!1,this._halalCanBeShown=new i.WatchedValue(!1),this._tvCalculatedPairCanBeShown=new i.WatchedValue(!1),this._hkexCommentCanBeShown=new i.WatchedValue(!1),this._defaultedBondCanBeShown=new i.WatchedValue(!1);const o=t.model();if(this._options.sourceStatusesEnabled){this._crateHalalStatus(),
this._createTVCalculatedPairStatus(),this._createHKEXCommentStatus(),this._createDefaultedBondStatus(),this._createLetItSnowStatus();{this._isInReplayCanBeShown=new i.WatchedValue(!1);const e=(0,Ie.combine)(((e,t)=>t||1===e||4===e?e:0),o.replayStatus().weakReference(),o.mainSeries().isInReplay().weakReference());this._isInReplay=(0,Ie.combine)((e=>0!==e&&4!==e),e.weakReference());const t=new I(e.ownership(),this._size),s=(0,Ie.combine)(((e,t)=>e&&t),this._isInReplayCanBeShown.weakReference(),t.visible().weakReference());this._addStatusViewModelsInfos({visible:s,model:t}),s.subscribe(this._updateStatusWidgetsVisibilities.bind(this)),this._isInReplay.subscribe(this._updateStatusWidgetsVisibilities.bind(this),{callWithLast:!0})}this._inited=!0,this._updateStatusWidgetsVisibilities()}}destroy(){this._options.sourceStatusesEnabled&&this._isInReplay.destroy(),super.destroy()}_updateStatusWidgetsVisibilities(){if(super._updateStatusWidgetsVisibilities(),this._inited&&this._options.sourceStatusesEnabled){const e=this._isForceStatusActive();this._halalCanBeShown.setValue(!e),this._tvCalculatedPairCanBeShown.setValue(!e),this._hkexCommentCanBeShown.setValue(!e),this._defaultedBondCanBeShown.setValue(!e),(0,o.ensureNotNull)(this._isInReplayCanBeShown).setValue(!super._isPrimaryWidgetShown()&&this._isInReplay.value())}}_isPrimaryWidgetShown(){return super._isPrimaryWidgetShown()||this._inited&&this._isInReplay.value()}_crateHalalStatus(){const e=new H(this._createHalalTypeReleasable(),this._size),t={visible:e.visible().spawn(),model:e};this._addStatusViewModelsInfos(t)}_createDefaultedBondStatus(){const e=new ne(this._createDefaultedBondReleasable(),this._size),t={visible:e.visible().spawn(),model:e};this._addStatusViewModelsInfos(t)}_createTVCalculatedPairStatus(){const e=new Q(this._createTvCalculatedPairReleasable(),this._size),t={visible:e.visible().spawn(),model:e};this._addStatusViewModelsInfos(t)}_createHKEXCommentStatus(){const e=new te(this._createHkexCommentReleasable(),this._size),t={visible:e.visible().spawn(),model:e};this._addStatusViewModelsInfos(t)}_createLetItSnowStatus(){if(!be.has(window.locale)||!(0,Me.isFeatureEnabled)("special_chart_series_status"))return;const e=new ge(this._size),t={visible:e.visible().spawn(),model:e};this._addStatusViewModelsInfos(t)}_createHalalTypeReleasable(){return(0,Ie.combine)(((e,t,s,o)=>null!==o&&t&&!s&&e?.["is-shariah-compliant"]?(0,a.isBond)(o.type)?k.Bond:k.Stock:null),(this._source.quotesData?.()||new i.WatchedValue(null).readonly()).weakReference(),this._halalCanBeShown.weakReference(),(this._source.isSymbolInvalid()||new i.WatchedValue(!1).readonly()).weakReference(),this._source.symbolInfo().weakReference()).ownership()}_createDefaultedBondReleasable(){return(0,
Ie.combine)(((e,t,s,o)=>!(null===o||!t||s||"defaulted"!==e?.issue_status)||null),(this._source.quotesData?.()||new i.WatchedValue(null).readonly()).weakReference(),this._defaultedBondCanBeShown.weakReference(),(this._source.isSymbolInvalid()||new i.WatchedValue(!1).readonly()).weakReference(),this._source.symbolInfo().weakReference()).ownership()}_createTvCalculatedPairReleasable(){return(0,Ie.combine)(((e,t,s)=>!(null===s||!e||t||!s.typespecs?.includes("tv-calculated-pair"))||null),this._tvCalculatedPairCanBeShown.weakReference(),(this._source.isSymbolInvalid()||new i.WatchedValue(!1).readonly()).weakReference(),this._source.symbolInfo().weakReference()).ownership()}_createHkexCommentReleasable(){return(0,Ie.combine)(((e,t,s)=>!(null===s||!e||t||"HKEX"!==s.listed_exchange)||null),this._tvCalculatedPairCanBeShown.weakReference(),(this._source.isSymbolInvalid()||new i.WatchedValue(!1).readonly()).weakReference(),this._source.symbolInfo().weakReference()).ownership()}}},950115:(e,t,s)=>{"use strict";s.d(t,{FullTooltipsPopup:()=>C});var o=s(50959),i=s(222463),a=s(935878),l=s(481040),r=s(945239),n=s(522386),u=s(102469),d=s(497754),c=s(650151),h=s(79205),p=s(915812),m=s(25e3),_=s(536794),S=s(631078),f=s(900608),w=s(337350),v=s(330213),y=s(199241),b=s(404254);const g=new WeakMap,M=new WeakMap;function I(e){const t=(0,S.useWatchedValueReadonly)({watchedValue:e.info}),s=(0,w.usePromise)((()=>e.preliminaryJob??Promise.resolve()));if(null===t||null===s)return null;const i=t.map((t=>{const{title:s,titleColor:i,icon:a,iconClassName:l,html:r,action:n,size:u,solutionId:S}=t,w=n?.color||"gray",I=["gray","green","red","blue"].includes(w)?m.LightButton:p.SquareButton;g.has(t)||g.set(t,(0,f.randomHash)());let C=[];return void 0!==e.additionalWidgets&&(C=e.additionalWidgets.map((t=>(M.has(t)||M.set(t,(0,f.randomHash)()),t.renderer((0,c.ensureDefined)(M.get(t)),b.additionalWidget,e.onClose))))),o.createElement("div",{key:g.get(t),className:d(b.popupWidget,b[u],e.isMobile&&b.mobile),"data-qa-id":t.dataQaId,tabIndex:0,ref:e=>{e?.focus()}},o.createElement(h.Icon,{className:d(b.icon,l,y[u],b[u]),style:{"--custom-status-color":i||void 0},icon:a||void 0}),o.createElement("div",{className:b.desc},o.createElement("span",{style:{color:i||void 0},className:d(b.title,b[u])},o.createElement("span",null,s),S&&o.createElement(v.HintButton,{solutionId:S})),r&&o.createElement("p",{className:d(b.text,b[u])},r.map(((e,t)=>{let s,i;return(0,_.isObject)(e)?(s=e.text,i=e.bold):s=e,o.createElement("span",{key:`html_item_${t}`,className:d(b.item,i&&b.boldItem),dangerouslySetInnerHTML:{__html:s}})}))),n&&o.createElement(I,{className:d(b.actionBtn,n.className),onClick:()=>{e.onClose(),n?.onClick()},color:w,size:"xsmall",tooltipText:n.tooltip},n.text),C))}));return o.createElement(o.Fragment,null,i)}function C(e){const{anchored:t,offsetPosition:s,statuses:d,isOpen:c,onClose:h,ifNonePlacementRuleMatched:p,mobileBreakpoint:m="all and (max-width: 440px)"}=e,_=(0,u.useWatchedValueReadonly)({watchedValue:d}),S=(0,o.useRef)(null),f=(0,n.usePopoverCloseBehavior)({
isOpen:c,onClose:h,excludeArea:t.at,closeOnEscape:!0,closeOnClickAway:!0,closeOnScrollOutside:!0,closeOnResizeWindow:!0,closeOnTab:!0,refToContentWrapperElement:S}),w=(0,i.useMatchMedia)(m);return o.createElement(a.Popover,{isOpen:c,onClose:h,anchored:t,width:{by:"content"},height:{by:"content"},placementRules:[{...r.PLACEMENT_BOTTOM_ALIGN_LEFT,offset:s}],ifNonePlacementRuleMatched:p??{pickRule:{by:"smallest-overlap",criteria:"area"},vertical:"cropSlideToFit",horizontal:"slideToFit"},mobileBreakpoint:m,mobilePositionerStretch:!1,anchorPositionerCardAppearanceClassname:b.popupWidgetWrapper,mobilePositionerCardAppearanceClassname:b.popupWidgetWrapper,"data-qa-id":"chart-statuses-popup",...f},o.createElement(l.PopoverContentVertical,null,_.map(((e,t)=>o.createElement(I,{key:`FullTooltipWidget${t}`,info:e.model.fullInfo(),additionalWidgets:e.additionalWidgets,preliminaryJob:e.preliminaryJob,onClose:()=>h(!1),isMobile:w})))))}},308541:(e,t,s)=>{"use strict";s.d(t,{StatusIcon:()=>u});var o=s(50959),i=s(497754),a=s.n(i),l=s(79205),r=s(631078),n=s(199241);function u(e){const{visible:t,icon:s,className:i,size:u="small",isBlinking:d,turnOffBlinking:c,customColor:h,datasetName:p,datasetEntityId:m}=e,_=(0,r.useWatchedValueReadonly)({watchedValue:t}),S=(0,r.useWatchedValueReadonly)({watchedValue:s}),f=(0,r.useWatchedValueReadonly)({watchedValue:i}),w=((0,r.useWatchedValueReadonly)({watchedValue:h}),!!d&&(0,r.useWatchedValueReadonly)({watchedValue:d})),v=m?(0,r.useWatchedValueReadonly)({watchedValue:m}):void 0;if(!_||!S)return null;const y={...p?{"data-name":p}:{},...v?{"data-entity-id":v}:{}};return o.createElement(l.Icon,{className:a()(n.statusItem,n[u],f,{[n.blinking]:w}),onClick:c,style:void 0,...y,icon:S})}},567035:(e,t,s)=>{"use strict";s.d(t,{StatusesWidgetStateBase:()=>r});var o=s(536794),i=s(158942),a=s(68777),l=s(479443);class r{constructor(e){this._size=l.trackingModeIsAvailable?"medium":"small",this._statusViewModelsInfosWV=new i.WatchedValue([]),this._visibility=new i.WatchedValue(!1),this._options=e;const t=(0,a.combine)((e=>e.map((e=>(0,a.combine)(((e,t,s)=>e&&t&&Boolean(s)),e.visible.weakReference(),e.model.visible().weakReference(),e.model.icon().weakReference()).ownership()))),this._statusViewModelsInfosWV.weakReference());this._visibleModels=(0,a.accumulate)(((e,t)=>t?this._statusViewModelsInfosWV.value().filter(((t,s)=>e[s]&&t||null)).filter(o.notNull).slice(0,3):[]),t.ownership(),this._visibility.weakReference(),this._statusViewModelsInfosWV.weakReference()),this._visibleModels.subscribe((()=>this._updateVisibility())),this._tooltip=(0,a.accumulate)((e=>e.filter(o.notNull).join(" Â· ")),(0,a.combine)((e=>e.map((e=>e.model.tooltip().weakReference()))),this._visibleModels.weakReference()).ownership())}destroy(){this._visibility.unsubscribe();for(const e of this._statusViewModelsInfosWV.value()){if(e.additionalWidgets)for(const t of e.additionalWidgets)t.destroy();e.model.destroy(),e.visible.destroy()}this._visibleModels.destroy(),this._tooltip.destroy()}visibility(){return this._visibility.readonly()}
visibleModels(){return this._visibleModels}tooltip(){return this._tooltip}_addStatusViewModelsInfos(e){this._statusViewModelsInfosWV.setValue([...this._statusViewModelsInfosWV.value(),e])}}},933214:(e,t,s)=>{"use strict";s.d(t,{BooleanStatusViewModel:()=>a});var o=s(820028),i=s(786220);class a extends i.StatusViewModel{constructor(e,t){super(t),this._booleanStatus=new o.WatchedValue(!1).spawn(),this.updateStatus(e)}destroy(){this._booleanStatus.destroy(),super.destroy()}updateStatus(e){this._booleanStatus.destroy(),this._booleanStatus=e.spawn(),this._booleanStatus.subscribe(this._updateStatus.bind(this),{callWithLast:!0})}_updateStatus(e){e?this._status.setValue(!0):this._status.setValue(null)}}},479443:(e,t,s)=>{"use strict";s.d(t,{trackingModeIsAvailable:()=>o});const o=s(638456).CheckMobile.any()},203723:(e,t,s)=>{"use strict";s.d(t,{financialPeriodToShortString:()=>l,financialPeriodToString:()=>a});var o=s(650151),i=s(444372);function a(e){switch(e){case"FQ":return i.t(null,void 0,s(934673));case"FY":return i.t(null,void 0,s(984847));case"FH":return i.t(null,void 0,s(228727));case"TTM":return i.t(null,void 0,s(284634))}(0,o.ensureNever)(e)}function l(e){switch(e){case"FQ":return i.t(null,void 0,s(505581));case"FY":return i.t(null,void 0,s(560729));case"FH":return i.t(null,void 0,s(422740));case"TTM":return i.t(null,void 0,s(284634))}(0,o.ensureNever)(e)}},895334:(e,t,s)=>{"use strict";s.d(t,{PineSourceCodeModelBase:()=>ie,bottomWidgetBar:()=>te,updatesInfoSupported:()=>oe});var o=s(650151),i=s(444372),a=s(345848),l=s(735566),r=s(520533),n=s(820028),u=s(886338),d=s(395866),c=s(87347),h=s(418450),p=s(179658),m=s(650279),_=s(925049),S=s(807958),f=s(507733),w=s(422063),v=s(113885),y=s(939478),b=s(479483),g=s(128090),M=s(438009),I=s(250026),C=s(400331),E=s(19674),V=s(316485);const x={asObject:!0,onlyAtomValues:!0,valuesAsIsFromProperties:!0,skipHiddenInputs:!0,doNotSkipHiddenWithMigrate:!0,skipBooleanInputs:!1,skipTextareaInputs:!1,useNameAndGroupAsKey:!0},P=new Map,T=new Set;function k(e,t,s,i,a){const l=e.id(),r=T.has(l);let n=r?(0,o.ensureDefined)(P.get(l)):function(e){const t=e.metaInfo();return{inputsInfoList:t.inputs,inputDefaults:t.defaults.inputs,inputValues:e.inputs(x)}}(e);0===Object.keys(n.inputValues).length&&(n=P.get(l)??n),r||P.set(l,n),a?.length?T.add(l):T.delete(l);const u={zorder:e.zorder(),paneId:s.pane.id()};let d;if(s.priceScale&&s.priceScale===e.priceScale()){d=i.model().insertStudyStub("");const t=(0,o.ensureNotNull)(i.paneForSource(e)),s=i.model().panes().indexOf(t);new I.MergeToTargetPane(i.model(),d,s,null,!0).redo();new C.MoveToExistingPriceScaleUndoCommand(i.model(),d,t,(0,o.ensureNotNull)(e.priceScale()),null).redo()}(0,y.removeAllSourcesWithDependencies)(i.model(),[e]);const c=function(e,t,s,o,i){const a=s.inputValues,l=s.inputDefaults,r=t.defaults.inputs,n={};for(const e of t.inputs){if(e.isHidden&&!e.migrate)continue;const t=(0,M.getStudyInputName)(e)||e.id,o=s.inputsInfoList.find((e=>((0,M.getStudyInputName)(e)||e.id)===t));if(void 0===o||o.isHidden&&!o.migrate)continue;const i=a[t]
;if(void 0===i)continue;if(o.type!==e.type)continue;if((l&&l[o.id])===(r&&r[e.id])){if((0,b.isStudyInputOptionsInfo)(e)){if(!(0,b.isStudyInputOptionsInfo)(o))continue;if(-1===e.options.indexOf(i))continue}if("integer"===e.type||"float"===e.type||"price"===e.type||"time"===e.type){if(void 0!==e.max&&i>e.max)continue;if(void 0!==e.min&&i<e.min)continue}n[e.id]=i}}const u=new E.InsertStudyCommand({chartModel:e.model(),studyMetaInfo:t,inputs:n,props:{},addAsOverlay:!1,parentSources:[],targetZOrder:o,studyId:i});u.redo();const d=u.insertedStudy();return d.study.then((t=>{V.DeferredStudies.instance(e.model()).add(i,t)})),d}(i,t,n,u,e.id());return c.study.then((e=>{if(e.setZorder(u.zorder),!t.linkedToSeries){const t=i.model().panes().indexOf(s.pane);if(new I.MergeToTargetPane(i.model(),e,t,null,!0).redo(),null!==s.priceScale){new C.MoveToExistingPriceScaleUndoCommand(i.model(),e,s.pane,s.priceScale,null).redo()}else{new C.MoveToNewPriceScaleUndoCommand(i.model(),e,s.pane,"overlay",null).redo()}}e.setErrorCompilation(a?.length?a:null),d&&i.model().removeSource(d)})),c}var A=s(63358),D=s(660439);function R(e,t,s,o){const i=[],a=t.dataSources();for(let t=a.length-1;t>=0;t--){const l=a[t];if(o&&l.id()!==o)continue;if(!(0,g.isStudy)(l))continue;const r=l.metaInfo();r.pine&&(r.scriptIdPart===e&&("all"===s||s&&r.pine.version===s.toString())&&i.push(l))}return i}const W=new h.TranslatedString("update {title} script",i.t(null,void 0,s(268792)));function B(e,t){if(null===e)return null;const s=t.priceScalePosition(e);return{id:e.id(),position:s,priceScaleIndex:t.priceScaleIndex(e,s)}}const O=new Map,N=/^description$/,H=/^shortDescription$/,F=/^bands\.\d+\.name$/,L=/^filledAreas\.\d+\.title$/,U=/^styles\.plot_\d+\.title$/,z=/^ohlcPlots\.plotbar_\d+\.title$/,G=/^ohlcPlots\.plotcandle_\d+\.title$/;function q(e){return[N,H,F,L,U,z,G].some((t=>t.test(e)))}function $(e,t){const s=(0,p.default)(t,e);delete s.pine,delete s.defaults?.inputs,delete s.inputs,(0,D.removeEmptyObjectsFromRecordInplace)(s);return(0,D.collectAllPaths)(s).every(q)}class j extends w.UndoCommand{constructor(e,t,s,o){const i=s.state();if(super(W.format({title:i.shortDescription||i.description||""})),this._startUndoPromise=(0,_.createDeferredPromise)(),this._startRedoPromise=(0,_.createDeferredPromise)(),this._updatedStudiesIds=[],this._prevScriptsStates=[],this._newScriptsStates=[],this._childStudesSourcesInputs=new Map,this._chartModel=e,this._compileErrors=o,this._newMetaInfo=s,"scriptIdPart"in t){const e=R(t.scriptIdPart,this._chartModel,t.scriptVersionToUpdate);this._updatedStudiesIds=e.map((e=>e.id()))}else this._updatedStudiesIds=[t.study.id()]}updateScriptsIds(){return this._updatedStudiesIds}async redo(){this._startRedoPromise.resolve(),this._startUndoPromise=(0,_.createDeferredPromise)();const e=this._detachLineTools();try{if(0===this._newScriptsStates.length){if(!await this._replaceSourcesAndSaveStates())return}else{for(const[,e]of this._childStudesSourcesInputs)this._resetChildInputsSourceToDefault(e)
;if(!await Promise.race([this._restoreStates(this._newScriptsStates),this._startUndoPromise.promise]))return}for(const[,e]of this._childStudesSourcesInputs)for(const{entityId:t}of e){const e=this._chartModel.dataSourceForId(t);e?.start(!0,!1,2)}}finally{this._attachLineTools(e)}}async undo(){this._startUndoPromise.resolve(),this._startRedoPromise=(0,_.createDeferredPromise)();const e=this._detachLineTools();try{if(!await Promise.race([Promise.all(this._restoreStates(this._prevScriptsStates)),this._startRedoPromise.promise]))return;for(const[,e]of this._childStudesSourcesInputs)for(const t of e){const e=this._chartModel.dataSourceForId(t.entityId);if(null!==e)for(const[s,o]of t.inputs)e.properties().childs().inputs.childs()[s].setValue(o)}}finally{this._attachLineTools(e)}}async _replaceSourcesAndSaveStates(){const e=this._updatedStudiesIds.map((e=>this._chartModel.dataSourceForId(e)));this._prevScriptsStates=this._getScriptsStates(e);const t=[];for(let s=e.length-1;s>=0;s--){const i=e[s],a=i.id(),l=(0,o.ensureNotNull)(this._chartModel.paneForSource(i)),r=l.isOverlay(i)?null:i.priceScale(),n=i.metaInfo().state(),u=this._newMetaInfo.state();this._saveChildSourceInputsBeforeRecompilate(a,n,u);const d=this._childStudesSourcesInputs.get(a);d&&this._resetChildInputsSourceToDefault(d);const c=k(i,this._newMetaInfo,{pane:l,priceScale:r},this._chartModel.undoModel(),this._compileErrors);if(t.push(c.study),$(n,u)){const e=i.properties().state();delete e.inputs,c.study.then((t=>{t.properties().mergeAndFire(e)}))}}Promise.all(t).then((e=>{this._newScriptsStates=this._getScriptsStates(e)}));const s=await Promise.race([Promise.all(t),this._startUndoPromise.promise]);return s||null}_restoreStates(e){const t=[];for(const s of e)this._restoreScriptAfterRecompilation(s),t.push(this._chartModel.waitForStudy(s.entityId));return t}_getScriptsStates(e){const t=[],s=this._chartModel.panes().map(((e,t)=>({state:e.state({includeSources:!1}),index:t,id:e.id()})));for(let i=e.length-1;i>=0;i--){const a=e[i],l=(0,o.ensureNotNull)(this._chartModel.paneForSource(a)),r=this._chartModel.panes().indexOf(l),n=B(a.priceScale(),l),u=a.state(!1);t.push({entityId:a.id(),state:u,paneState:s[r],priceScalePositionIds:n})}return t.sort(((e,t)=>e.paneState.index-t.paneState.index)),t}_restoreScriptAfterRecompilation(e){const{entityId:t,paneState:s,state:i,priceScalePositionIds:a}=e;if(null===i||(0,f.isStudyStubDescriptor)(i))return;const l=(0,o.ensureNotNull)(this._chartModel.dataSourceForId(t)),r=(0,o.ensureNotNull)(this._chartModel.paneForSource(l)),n=new v.RemoveSourcesUndoCommand(this._chartModel,[l],new h.TranslatedString("",""));n.redo(),n.removedIds().forEach((e=>this._chartModel.resetWaitForStudy(e)));const u={zorder:l.zorder(),paneId:r.id()};let d;if(null===this._chartModel.paneForId(s.id))this._chartModel.createPane(s.index,void 0,s.id),this._chartModel.paneForId(s.id)?.restoreState({state:{...s.state,sources:[i]},withData:!1,version:this._chartModel.version()}),d=(0,o.ensureNotNull)(this._chartModel.dataSourceForId(t));else{
const e=this._chartModel.panes().indexOf((0,o.ensureNotNull)(this._chartModel.paneForId(s.id)));d=(0,o.ensureNotNull)(this._chartModel.restoreSource(!1,e,null,i,a)),d.setZorder(u.zorder)}O.has(t)&&O.set(d.id(),(0,o.ensureDefined)(O.get(t)))}_saveChildSourceInputsBeforeRecompilate(e,t,s){const i=t.plots.filter((e=>S.StudyMetaInfo.canPlotBeSourceOfChildStudy(e.type))),a=s.plots.filter((e=>S.StudyMetaInfo.canPlotBeSourceOfChildStudy(e.type)));if(!(0,m.default)(i,a)){const t=(0,o.ensureNotNull)(this._chartModel.dataSourceForId(e)),s=(0,y.closeSourcesSet)(this._chartModel,[t],!0);for(const e of i)a.find((t=>t===e))||s.filter(g.isStudy).forEach((e=>{const s=e.inputs(),o=S.StudyMetaInfo.getSourceInputIds(e.metaInfo()),i={entityId:e.id(),inputs:new Map};for(const e of o){const o=s[e];if((0,b.isExtendedInput)(o)&&(0,b.isExtendedInputSource)(o)){const s=(0,b.getInputValue)(o);-1!==s.indexOf(t.id())&&i.inputs.set(e,s)}}if(i.inputs.size){let e=this._childStudesSourcesInputs.get(t.id());e||(e=[],this._childStudesSourcesInputs.set(t.id(),e)),e.push(i)}}))}}_resetChildInputsSourceToDefault(e){for(const t of e){const e=(0,o.ensureNotNull)(this._chartModel.dataSourceForId(t.entityId));e.stop(!1,2);for(const[s]of t.inputs){const t=(0,o.ensureDefined)(e.metaInfo().defaults.inputs?.[s]);e.properties().childs().inputs.childs()[s].setValue(t)}}}_detachLineTools(){return this._updatedStudiesIds.reduce(((e,t)=>{const s=(0,o.ensureNotNull)(this._chartModel.dataSourceForId(t)),i=(0,o.ensureNotNull)(this._chartModel.paneForSource(s)),a=i.dataSources().filter(A.isLineTool).filter((e=>e.ownerSource()?.id()===s.id()));return e.set(s.id(),a),a.forEach((e=>i.removeDataSource(e))),e}),new Map)}_attachLineTools(e){const t=new Set;e.forEach(((e,s)=>{const i=this._chartModel.dataSourceForId(s);if(null===i)return void t.add(s);const a=(0,o.ensureNotNull)(this._chartModel.paneForSource(i));e.forEach((e=>{e.setOwnerSource(i),a.addDataSource(e,i.priceScale(),!0)}))})),t.forEach((t=>{const s=e.get(t);s&&s.forEach((e=>{e.destroy?.()}))}))}}var Q=s(111332),Z=s(816433),X=s(640263),K=s(361809),J=s(48692);const Y=new h.TranslatedString("update indicator to latest version",i.t(null,void 0,s(475006))),ee=(0,l.getLogger)("Chart.PineSourceCode");function te(){return window.TradingView.bottomWidgetBar}const se=new X.FeatureToggleWatchedValue("update_availability_for_std",!1);function oe(e){return S.StudyMetaInfo.hasPubSuffix(e)||se.value()&&S.StudyMetaInfo.hasStdSuffix(e)}class ie{constructor(e){this._isAbleShowSourceCode=new n.WatchedValue(!1),this._pineSourceEditorStatus=new n.WatchedValue(0),this._destroyed=!1,this._pineEditorWidgetBar=(0,J.createPineEditorWidgetBar)(),this._updateAbilityShowSourceCode=async()=>{if(!this._pineEditorWidgetBar.isAvailable())return;const e=this._getSourceCodeData("last");if(null===e)return;const{scriptIdPart:t,pineVersion:s}=e;try{const e=await(0,r.isAuthToGetPineSourceCode)(t,s);if(this._destroyed)return;this._isAbleShowSourceCode.setValue(e&&this._pineEditorWidgetBar.isVisible())}catch(e){
ee.logError("Failed isAuthToGetPineSourceCode, reason: "+e)}},this._pineScript=e,this._pineEditorWidgetBar.visible()?.subscribe(this._updateAbilityShowSourceCode,{callWithLast:!0}),this._isAbleShowSourceCode.subscribe(this._updatePineSourceEditorStatus.bind(this)),this._initOpenedScripts()}destroy(){this._pineEditorWidgetBar.visible()?.unsubscribe(this._updateAbilityShowSourceCode),this._pineSourceEditorStatus.destroy(),this._openedScripts?.destroy(),this._destroyed=!0}isAbleShowSourceCode(){return this._isAbleShowSourceCode.readonly()}script(){return this._pineScript}title(){return this._pineScript.title(Z.TitleDisplayTarget.StatusLine)}metaInfo(){return this._pineScript.metaInfo()}scriptIdPart(){const e=this._getSourceCodeData("");return e?.scriptIdPart??null}async showPineSourceCode(e){if((0,o.assert)(this._isAbleShowSourceCode.value(),"Source code not available! (Check ability show source code before - call canShowSourceCode())"),!this._pineEditorWidgetBar.isAvailable())return;const t=this._getSourceCodeData("");null!==t&&await(0,K.activatePineEditor)({script:{scriptIdPart:t.scriptIdPart,version:t.pineVersion},params:e},"chart_legend")}async requestUpdateInformation(){if(!window.is_authenticated)return null;const e=this._getSourceCodeData("");if(!e)return null;try{const{scriptIdPart:t,pineVersion:s}=e;if(!oe(t))return null;const o=await(0,r.getLastVersion)(t);return o?{currentVersion:u.Version.parse(s),lastVersion:u.Version.parse(o.version)}:null}catch{return null}}async requestScriptInfo(){if(!window.is_authenticated)return null;const e=this.scriptIdPart();if(!e)return null;if(!S.StudyMetaInfo.hasPubSuffix(e))return null;if(ie._pinePubScriptInfoCache.has(e))return ie._pinePubScriptInfoCache.get(e)??null;const t=await(0,Q.requestScriptInfo)(e);return ie._pinePubScriptInfoCache.set(e,t),t}async updateToVersion(e,t,s){const o=this._getSourceCodeData("");if(!o)return;(0,a.trackEvent)("GUI","Update study version");const i=await(0,c.studyMetaInfoRepository)().findById({type:"pine",pineId:o.scriptIdPart,pineVersion:t.toString()});if(!this._destroyed){const t=s?e.allUndoModels():[e],o=s?{scriptIdPart:i.scriptIdPart,scriptVersionToUpdate:"all"}:{study:this._pineScript},a=t.map((e=>new j(e.model(),o,i))).filter((e=>e.updateScriptsIds().length>0)),l=t[0].undoHistory();if(a.length){l.beginUndoMacro(Y);for(const e of a)l.pushUndoCommand(e);l.endUndoMacro()}}}pineSourceEditorStatus(){return this._pineSourceEditorStatus}async _initOpenedScripts(){const e=await Promise.resolve().then(s.bind(s,395866));this._destroyed||(this._openedScripts=e.openedPineScripts.scripts().spawn(),this._openedScripts.subscribe(this._updatePineSourceEditorStatus.bind(this),{callWithLast:!0}))}_updatePineSourceEditorStatus(){const e=this._pineScript.metaInfo();if(!this._isAbleShowSourceCode.value()||null===e||void 0===this._openedScripts)return void this._pineSourceEditorStatus.setValue(0);const t=(0,d.getOpenedScriptInfo)({scriptIdPart:e.scriptIdPart,scriptVersion:e.pine?.version});let s=0
;null!==t&&t.inplaceCount>0?s=1:null!==t&&t.detachCount>0&&(s=2),this._pineSourceEditorStatus.setValue(s)}}ie._pinePubScriptInfoCache=new Map},438009:(e,t,s)=>{"use strict";function o(e){const{name:t,group:s}=e;return t.length>0?`${s?`${s}.`:""}${t}`:void 0}s.d(t,{getStudyInputName:()=>o})},48692:(e,t,s)=>{"use strict";s.d(t,{createPineEditorWidgetBar:()=>a});var o=s(342042);function i(){return window.TradingView.bottomWidgetBar}function a(){return(0,o.shouldUseVerticalEditor)()?{visible:()=>window.widgetbar?.visible(),isAvailable:()=>Boolean(window.widgetbar),isVisible:()=>Boolean(window.widgetbar?.isVisible())}:{visible:()=>i()?.isVisible(),isAvailable:()=>Boolean(i()),isVisible:()=>Boolean(i()?.isVisible().value())}}},395866:(e,t,s)=>{"use strict";s.r(t),s.d(t,{getOpenedScriptInfo:()=>l,openedPineScripts:()=>a});var o=s(751094);class i{constructor(){this._state=new o.WatchedObject({})}setScripts(e){let t=this._state.value();e.forEach((e=>{t=this._add(e,t)})),this._state.setValue(t)}addScript(e){const t=this._add(e,this._state.value());this._state.setValue(t)}removeScript(e){const t=this._remove(e,this._state.value());this._state.setValue(t)}replaceScript(e,t){const s=this._add(t,this._remove(e,this._state.value()));this._state.setValue(s)}scripts(){return this._state.readonly()}static getScriptKey(e){return`${e.scriptIdPart}[${e.scriptVersion}]`}_add(e,t){const s=i.getScriptKey(e),o={...t},a=o[s]||{detachCount:0,inplaceCount:0},l=e.isDetach?1:0,r=e.isDetach?0:1,n={detachCount:a.detachCount+l,inplaceCount:a.inplaceCount+r};return o[s]=n,o}_remove(e,t){const s={...t};if(void 0===e.scriptIdPart||void 0===e.scriptVersion)return t;const o=i.getScriptKey(e);if(!t[o])return t;const a=s[o],l=e.isDetach?1:0,r=e.isDetach?0:1,n={detachCount:a.detachCount-l,inplaceCount:a.inplaceCount-r};return n.detachCount<=0&&n.inplaceCount<=0?delete s[o]:s[o]=n,s}}const a=new i,l=e=>{const t=i.getScriptKey(e);return a.scripts().value()[t]??null}},823856:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" d="M9 4a6 6 0 1 1 0 12A6 6 0 0 1 9 4m0 3v3H7v1h3V7zM5.434 2.697 2.217 6.001 1.5 5.303 4.717 2zm11.061 2.606L15.78 6l-3.217-3.304.716-.697z"/></svg>'},535529:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" d="M9 5a5 5 0 1 1 0 10A5 5 0 0 1 9 5m-.5 2v2.5h-2V11H10V7zM6.995 3.154l-4.037 3.35L2 5.35 6.038 2zm9 2.196-.957 1.154L11 3.154 11.958 2z"/></svg>'},669058:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" d="m12 4 3 4-6 6-6-6 3-4zm-3 7.879 4.02-4.02L11.25 5.5H9z"/></svg>'},207755:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" d="m19 6 5 6-10 10L4 12l5-6zm-5 2v11.172l7.294-7.295L18.064 8z"/></svg>'},79304:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9 2.5c-1.06 0-1.88.93-1.75 1.98l.63 5.03a1.13 1.13 0 0 0 2.25 0l.62-5.03A1.77 1.77 0 0 0 9 2.5zm0 10a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/></svg>'},838373:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>'},986365:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M6 8a1 1 0 0 0 0 2h.23c.35 0 .69-.15.92-.42L7.67 9l-.52-.58A1.23 1.23 0 0 0 6.23 8H6Zm3-.51-.35-.4-.75.66.75-.66C8.04 6.4 7.15 6 6.23 6H6a3 3 0 0 0 0 6h.23c.93 0 1.8-.4 2.42-1.1l.35-.39.35.4.75-.66-.75.66c.61.7 1.5 1.09 2.42 1.09H12a3 3 0 1 0 0-6h-.23c-.93 0-1.8.4-2.42 1.1L9 7.48ZM10.33 9l.52.58c.23.27.57.42.92.42H12a1 1 0 1 0 0-2h-.23c-.35 0-.69.15-.92.42l-.52.58Z"/></svg>'},378849:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M9 12a2 2 0 1 0 0 4h.27c.66 0 1.29-.29 1.72-.8l1.03-1.2L11 12.8c-.43-.51-1.06-.8-1.72-.8H9Zm5-.3-.73-.86a5.27 5.27 0 0 0-4-1.84H9a5 5 0 0 0 0 10h.27c1.53 0 3-.67 4-1.84l.73-.86.73.86a5.27 5.27 0 0 0 4 1.84H19a5 5 0 0 0 0-10h-.27c-1.53 0-3 .67-4 1.84l-.73.86Zm1.98 2.3L17 15.2c.43.51 1.06.8 1.72.8H19a2 2 0 1 0 0-4h-.27c-.66 0-1.29.29-1.72.8L15.98 14Z"/></svg>'},189771:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M6 3.5h1.5V5h3V3.5H12V5h1a1 1 0 0 1 1 1v1H4V6a1 1 0 0 1 1-1h1V3.5ZM14 8.5H4V13a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V8.5Z"/></svg>'},441614:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M9 5h2v2h6V5h2v2h1.5c.83 0 1.5.67 1.5 1.5V10H6V8.5C6 7.67 6.67 7 7.5 7H9V5ZM22 12H6v8.5c0 .83.67 1.5 1.5 1.5h13c.83 0 1.5-.67 1.5-1.5V12Z"/></svg>'},931233:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.57 14.8H5.03V3.36c1.62-.05 2.64-.08 3.06-.08 1.66 0 2.98.49 3.96 1.47a5.23 5.23 0 0 1 1.47 3.88c0 4.11-1.99 6.17-5.95 6.17zm-.5-9.66v7.8c.32.04.67.06 1.05.06 1.03 0 1.83-.38 2.41-1.12.58-.75.88-1.79.88-3.13 0-2.44-1.14-3.67-3.42-3.67-.22 0-.53.02-.93.06z"/></svg>'},512646:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.84 13.7H5.78V4.4l2.48-.06c1.35 0 2.42.4 3.22 1.2.8.78 1.19 1.83 1.19 3.15 0 3.34-1.61 5.01-4.83 5.01zm-.41-7.85v6.35c.26.02.55.03.86.03.83 0 1.48-.3 1.95-.9.48-.6.72-1.46.72-2.54 0-2-.93-2.99-2.78-2.99-.18 0-.43.02-.75.05z"/></svg>'},492315:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 14A5 5 0 1 0 9 4a5 5 0 0 0 0 10Zm3-4H6V8h6v2Z"/></svg>'},469410:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.65 5.16v2.68h3.78v1.73H7.65V13h5.19v1.8H5.62V3.35h7.3v1.8H7.65z"/></svg>'},55593:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.9 5.87v2.17h3.07v1.4H7.9v2.8h4.22v1.46H6.25V4.4h5.94v1.47H7.9z"/></svg>'},856539:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.2 7.34c0-1.4.73-2.64 1.82-3.34A5.03 5.03 0 0 0 4 9c0 2.76 2.26 5 5.05 5A5.04 5.04 0 0 0 14 10c-.71.8-1.74 1.29-2.89 1.29A3.93 3.93 0 0 1 7.2 7.34Z"/><path fill="currentColor" d="M11.67 6.33 11 5l-.67 1.33-1.33.2.98 1.03L9.76 9 11 8.34l1.24.66-.22-1.44.98-1.03-1.33-.2Z"/></svg>'},323683:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.2 7.34c0-1.4.73-2.64 1.82-3.34A5.03 5.03 0 0 0 4 9c0 2.76 2.26 5 5.05 5A5.04 5.04 0 0 0 14 10c-.71.8-1.74 1.29-2.89 1.29A3.93 3.93 0 0 1 7.2 7.34Z"/><path fill="currentColor" d="M11.67 6.33 11 5l-.67 1.33-1.33.2.98 1.03L9.76 9 11 8.34l1.24.66-.22-1.44.98-1.03-1.33-.2Z"/></svg>'},672844:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M11 11.39c0-2.27 1.19-4.25 3-5.39-4.43.07-8 3.63-8 8 0 4.42 3.64 8 8.13 8A8.1 8.1 0 0 0 22 16a6.55 6.55 0 0 1-11-4.61Z"/><path fill="currentColor" d="m18 10-1-2-1 2-2 .3 1.47 1.54-.32 2.16L17 13l1.85 1-.32-2.16L20 10.29 18 10Z"/></svg>'},991665:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M14.48 5.1c-.52 2.03-1.46 3.04-2.82 3.04-.64 0-1.55-.19-2.74-.56-1.17-.38-1.99-.57-2.46-.57-.69 0-1.22.37-1.58 1.13H3.55A4.3 4.3 0 0 1 4.5 6c.5-.6 1.08-.9 1.74-.9.7 0 1.65.2 2.84.58 1.2.37 2.04.55 2.52.55.8 0 1.32-.37 1.59-1.13h1.29zm0 4.84c-.52 2.02-1.46 3.03-2.82 3.03-.64 0-1.55-.19-2.74-.56-1.17-.38-1.99-.57-2.46-.57-.69 0-1.22.38-1.58 1.13H3.55a4.3 4.3 0 0 1 .95-2.14c.5-.6 1.08-.9 1.74-.9.7 0 1.65.2 2.84.58 1.2.37 2.04.56 2.52.56.8 0 1.32-.38 1.59-1.13h1.29z"/></svg>'},552828:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M13.4 5.9c-.41 1.62-1.16 2.43-2.25 2.43-.52 0-1.25-.15-2.2-.45-.93-.3-1.58-.45-1.96-.45-.55 0-.98.3-1.27.9H4.66c.1-.67.36-1.24.76-1.71.4-.48.86-.72 1.4-.72.56 0 1.31.16 2.27.46.95.3 1.62.45 2.01.45.64 0 1.06-.3 1.27-.9h1.03zm0 3.87c-.41 1.62-1.16 2.43-2.25 2.43-.52 0-1.25-.15-2.2-.45-.93-.3-1.58-.46-1.96-.46-.55 0-.98.3-1.27.9H4.66c.1-.67.36-1.24.76-1.7.4-.48.86-.72 1.4-.72.56 0 1.31.15 2.27.46.95.3 1.62.44 2.01.44.64 0 1.06-.3 1.27-.9h1.03z"/></svg>'},839379:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M4 6.5 6 8l3-3 3 3 2-1.5V10H4V6.5ZM14 13v-2H4v2h10Z"/></svg>'},74733:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M13 12.78V5.22a.3.3 0 0 0-.51-.2L8.7 8.78a.3.3 0 0 0 0 .42L12.5 13a.3.3 0 0 0 .51-.21zM8 12.78V5.22a.3.3 0 0 0-.51-.2L3.7 8.78a.3.3 0 0 0 0 .42L7.5 13a.3.3 0 0 0 .51-.21z"/></svg>'},319703:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 2.05c.37 0 .67.3.67.67v.88l.64-.33a.67.67 0 0 1 .61 1.19l-1.25.64v1.12c.58.14 1.1.46 1.48.89l1.18-.67V5c0-.36.3-.66.67-.65.37 0 .67.3.67.66v.68l.72-.4a.67.67 0 1 1 .65 1.15l-.72.42.6.37c.3.2.4.6.2.92-.2.3-.61.4-.92.2L13 7.6l-1.22.7a2.8 2.8 0 0 1-.04 1.48l1.27.7 1.18-.77c.31-.2.73-.12.93.19.2.3.11.72-.2.92l-.6.39.72.4a.67.67 0 0 1-.65 1.17l-.72-.4V13a.67.67 0 0 1-1.34 0v-1.38l-1.26-.7c-.38.38-.86.66-1.4.8v1.18l1.25.64a.67.67 0 1 1-.6 1.19l-.65-.33v.88a.67.67 0 0 1-1.34 0v-.88l-.64.33a.67.67 0 1 1-.61-1.19l1.25-.64V11.7a2.86 2.86 0 0 1-1.4-.8l-1.26.7v1.4c0 .36-.3.66-.67.65a.67.67 0 0 1-.67-.66v-.64l-.7.39a.68.68 0 0 1-.92-.26.66.66 0 0 1 .26-.9l.7-.4-.59-.38a.66.66 0 0 1-.2-.92c.2-.3.62-.4.93-.2l1.18.78 1.27-.7a2.8 2.8 0 0 1-.04-1.47L4.97 7.6l-1.2.75c-.3.2-.72.1-.92-.2-.2-.31-.1-.72.21-.92l.6-.38-.7-.4a.66.66 0 0 1-.24-.9c.18-.32.6-.43.91-.25l.7.4V5a.67.67 0 0 1 1.34 0v1.45l1.17.67c.38-.44.9-.76 1.5-.9V5.1l-1.26-.64a.67.67 0 0 1 .61-1.19l.64.33v-.88c0-.37.3-.67.67-.67Zm0 8.4a1.5 1.5 0 0 0 1.52-1.48c0-.81-.66-1.5-1.52-1.5a1.5 1.5 0 0 0-1.52 1.5c0 .8.66 1.49 1.52 1.49Z"/></svg>'},494417:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M8 4.75H6.66c-.37 0-.59.27-.59.5v.95c0 1.16-.67 2.15-1.54 2.8a3.59 3.59 0 0 1 1.54 2.8v.95c0 .23.22.5.6.5H8v1.5H6.66c-1.1 0-2.09-.85-2.09-2v-.95c0-.72-.6-1.51-1.49-1.93l-.2-.1a.85.85 0 0 1 0-1.54l.2-.1c.9-.42 1.5-1.21 1.5-1.93v-.95c0-1.15.98-2 2.08-2H8v1.5ZM10 4.75h1.34c.37 0 .59.27.59.5v.95c0 1.16.67 2.15 1.54 2.8a3.59 3.59 0 0 0-1.54 2.8v.95c0 .23-.22.5-.6.5H10v1.5h1.34c1.1 0 2.09-.85 2.09-2v-.95c0-.72.6-1.51 1.49-1.93l.2-.1a.85.85 0 0 0 0-1.54l-.2-.1c-.9-.42-1.5-1.21-1.5-1.93v-.95c0-1.15-.98-2-2.08-2H10v1.5Z"/></svg>'},225128:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M12.34 6.99a2 2 0 1 0-2.72-1.57l-3.76 2.2-.23-.16a2 2 0 1 0 .23 3.31l3.72 2.15a2 2 0 1 0 2.74-1.58L12.34 7ZM6.6 9.47l3.72 2.15a2 2 0 0 1 .49-.28l.02-4.36a2.03 2.03 0 0 1-.47-.27l-3.76 2.2a2 2 0 0 1 0 .56Z"/></svg>'},930545:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M19 10.66a3.5 3.5 0 1 0-4.94-2.52L8.3 11.5a3.5 3.5 0 1 0 .72 5.42l5.04 2.94A3.5 3.5 0 1 0 19 17.34v-6.68Zm-9.06 4.48 5.03 2.94A3.5 3.5 0 0 1 17 17.04v-6.08a3.5 3.5 0 0 1-2.03-1.04l-5.3 3.1a3.49 3.49 0 0 1 .27 2.12Z"/></svg>'},257979:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 3.9a5.13 5.13 0 0 0-4.89 3.63l-1.33-.41A6.53 6.53 0 0 1 9 2.5a6.52 6.52 0 0 1 6.18 4.47l.77-.99 1.1.87-1.7 2.17-.34.43-.5-.21-2.57-1.11.55-1.29 1.36.59A5.13 5.13 0 0 0 9 3.9ZM2.93 8.66l.46.13 2.58.7-.37 1.35-1.52-.41a5.12 5.12 0 0 0 9.8.1l1.35.4a6.52 6.52 0 0 1-12.4.2l-.77 1.06-1.13-.83 1.71-2.31.29-.39Z"/></svg>'},302588:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 4.6c-1.94 0-3.6 1.3-4.14 3.08l-1.34-.41a5.75 5.75 0 0 1 10.87-.3l.56-.72 1.1.87L14.58 9l-.34.42-.5-.21-2.23-.96.55-1.29.99.42A4.35 4.35 0 0 0 9 4.6ZM3.7 8.53l.46.12 2.24.61-.37 1.35-1.15-.31a4.34 4.34 0 0 0 8.27-.08l1.34.41a5.74 5.74 0 0 1-10.86.35l-.57.76-1.12-.83 1.48-2 .28-.38Z"/></svg>'},763362:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M4.5 1h2v4H10L5.5 9 1 5h3.5zm7 12v4h2v-4H17l-4.5-4L8 13z"/></svg>'},818547:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M5.74 3h1.5v3H10L6.5 9 3 6h2.74zM10.74 15h1.5v-3H15l-3.5-3L8 12h2.74z"/></svg>'},179658:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});const o=e=>e instanceof Date,i=e=>null!=e&&"object"==typeof e,a=(e,...t)=>Object.prototype.hasOwnProperty.call(e,...t),l=e=>i(e)&&(e=>0===Object.keys(e).length)(e),r=(e,t)=>{if(e===t)return{};if(!i(e)||!i(t))return t;const s=Object.keys(e).reduce(((e,s)=>(a(t,s)||(e[s]=void 0),e)),Object.create(null));return o(e)||o(t)?e.valueOf()==t.valueOf()?{}:t:Object.keys(t).reduce(((s,i)=>{if(!a(e,i))return s[i]=t[i],s;const n=r(e[i],t[i]);return!l(n)||o(n)||!l(e[i])&&l(t[i])?(s[i]=n,s):s}),s)},n=r}}]);