"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[88003],{560770:(t,e,n)=>{var i,o;n.d(e,{HorizontalAlign:()=>i,VerticalAlign:()=>o}),function(t){t.Left="left",t.Right="right",t.Center="center"}(i||(i={})),function(t){t.Top="top",t.Bottom="bottom",t.Middle="middle"}(o||(o={}))},951827:(t,e,n)=>{n.d(e,{getNumericFormatter:()=>u,getPercentageFormatter:()=>h,getPipFormatter:()=>f,getVolumeFormatter:()=>d});var i=n(808708),o=n(722652),r=n(291066),a=n(89831);class s extends a.PriceFormatter{constructor(t){const{priceScale:e,minMove:n=1,type:i,typespecs:o,minMove2:a,ignoreLocaleNumberFormat:s}=t;("forex"===i||(0,r.isCFDSymbol)(i,o))&&a?(super({priceScale:a,ignoreLocaleNumberFormat:s}),this._isForex=!0):(super({priceScale:1,ignoreLocaleNumberFormat:s}),this._isForex=!1),this._pipPriceScale=e,this._pipMinMove=n,this._pipMinMove2=a}format(t,e={}){const{signPositive:n,tailSize:i,ignoreLocaleNumberFormat:o,noExponentialForm:r}=e;let a=this._isForex?this._pipMinMove2:this._pipMinMove;return void 0===a&&(a=NaN),super.format(t*this._pipPriceScale/a,{signPositive:n,tailSize:i,ignoreLocaleNumberFormat:o,noExponentialForm:r})}}var l=n(51196),c=n(909456);const u=(0,c.numDependencyFormatter)((t=>new i.NumericFormatter({precision:t}))),h=(0,c.numDependencyFormatter)((t=>new o.PercentageFormatter({priceScale:Math.pow(10,t??2),minMove:1}))),d=(0,c.numDependencyFormatter)((t=>new l.VolumeFormatter({precision:t}))),m=new WeakMap;function f(t){let e=m.get(t);return e||(e=new s({priceScale:t.pricescale,minMove:t.minmov,minMove2:t.minmove2,type:t.type,typespecs:t.typespecs}),m.set(t,e)),e}},65840:(t,e,n)=>{n.d(e,{coordinateIsValid:()=>x,extendAndClipLineSegment:()=>u,fillScaledRadius:()=>M,getArrowPoints:()=>h,interactionTolerance:()=>g,optimalBarWidth:()=>d,optimalCandlestickWidth:()=>m,optimalHiLoWidth:()=>f,roundToMax:()=>y,setValidLineStyle:()=>p,strokeScaledRadius:()=>b});var i=n(536794),o=n(610555),r=n(648892),a=n(822961),s=n(338242);const l={common:13,line:13,tradingLine:16,minDistanceBetweenPoints:10,series:14,curve:10,anchor:13,esd:4},c={common:3,line:3,tradingLine:3,minDistanceBetweenPoints:5,series:2,curve:3,anchor:2,esd:0};function u(t,e,n,i,a,s){if((0,o.equalPoints)(t,e))return null;const l=new o.Point(0,0),c=new o.Point(n,i);if(a){if(s){const n=(0,r.intersectLineAndBox)((0,o.lineThroughPoints)(t,e),(0,o.box)(l,c));return Array.isArray(n)?n:null}{const n=(0,r.intersectRayAndBox)(e,t,(0,o.box)(l,c));return null===n||(0,o.equalPoints)(e,n)?null:(0,o.lineSegment)(e,n)}}if(s){const n=(0,r.intersectRayAndBox)(t,e,(0,o.box)(l,c));return null===n||(0,o.equalPoints)(t,n)?null:(0,o.lineSegment)(t,n)}{const n=(0,r.intersectLineSegmentAndBox)((0,o.lineSegment)(t,e),(0,o.box)(l,c));return Array.isArray(n)?n:null}}function h(t,e,n,i,o){const r=.5*n,a=Math.sqrt(2),s=e.subtract(t),l=s.normalized();let c=5*n;i&&(c=Math.min(c,.35*s.length()));const u=1*r;if(c*a*.2<=u)return[]
;const h=l.scaled(c),d=e.subtract(h),m=l.transposed(),f=1*c,g=m.scaled(f),x=d.add(g),p=d.subtract(g),M=x.subtract(e).normalized().scaled(u),b=p.subtract(e).normalized().scaled(u),y=o?e:e.add(M),v=o?e:e.add(b),S=r*(a-1),R=m.scaled(S),P=Math.min(c-1*r/a,r*a*1),B=l.scaled(P),F=e.subtract(R),w=e.add(R),H=e.subtract(B);return[[x,y],[v,p],[F,H.subtract(R)],[w,H.add(R)]]}function d(t,e){return e=e||1,Math.floor(.3*t*e)}function m(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);const n=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),i=Math.floor(t*n*e),o=Math.floor(t*e),r=Math.min(i,o);return Math.max(Math.floor(e),r)}function f(t){return.4*t}function g(){return(0,a.lastMouseOrTouchEventInfo)().isTouch?l:c}function x(t){return null!=t&&!(0,i.isNaN)(t)}function p(t,e){void 0!==e&&(0,s.setLineStyle)(t,e)}function M(t,e){const n=Math.max(1,Math.floor(e))%2?.5:0;return Math.round(t*e)+n}function b(t,e,n){const i=Math.max(1,Math.floor(e))%2?.5:0;return Math.round(t*e)+(i!==n%2?.5:0)}function y(t){return Math.max(Math.floor(t),1)}},687080:(t,e,n)=>{n.d(e,{HHistRenderer:()=>m,fontSizeToStartTextHiding:()=>h,range:()=>u,suggestFontSize:()=>x});var i=n(610555),o=n(724377),r=n(688857),a=n(731974),s=n(951827),l=n(910282),c=n(60266);function u(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}const h=7.5,d=(0,s.getVolumeFormatter)();class m{constructor(t){this._data=t}hitTest(t,e){const n=this._data;for(const i of n.histograms){if(i.yRange.min>=t.y||t.y>=i.yRange.max)continue;let o=null;for(const r of i.bars){const s=n.styles[r.styleId];if(!s.visible)continue;if(s.location===c.HHistLocation.Absolute&&(i.xRange.min>=t.x||t.x>=i.xRange.max))continue;null===o&&(o=0,i.bars.forEach((t=>{const e=t.subBarValues.reduce(((t,e)=>t+e));o=Math.max(o,e)})));const l=f(i.xRange,s,e.mediaSize.width),{xBasePoint:u,sign:h,xRangeWidth:d}=l,m=Math.max(s.percentWidth*d/100-r.subBarValues.length,0);let g=u;for(let e=0;e<r.subBarValues.length;e++){const n=r.y,i=r.y+r.height,s=g,l=s+h*(m*r.subBarValues[e]/o);if(g=l,(t.x>=s&&t.x<=l||t.x>=l&&t.x<=s)&&t.y>=n&&t.y<=i)return new a.HitTestResult(a.HitTarget.Regular)}}}return null}draw(t,e){const n=this._data,{horizontalPixelRatio:i,verticalPixelRatio:r}=e;t.save(),n.histograms.forEach((a=>{if(n.histBoxBgColor){t.beginPath(),t.fillStyle=n.histBoxBgColor;const e=Math.round(a.xRange.min*i),o=Math.round(a.yRange.min*r),s=Math.round(a.xRange.max*i)-e,l=Math.round(a.yRange.max*r)-o;t.rect(e,o,s,l),t.fill()}const s=[];let l=0,c=0;a.bars.forEach((t=>{const e=t.subBarValues.reduce(((t,e)=>t+e));l=Math.max(l,e),c+=t.height}));const u=c/a.bars.length,d=function(t,e){const n=Math.floor(t*e);return n>=1*e?Math.floor(e):0}(u,i),m=[];if(a.bars.forEach((o=>{const c=n.styles[o.styleId];if(!c.visible)return;if(c.showValues&&c.addToTotalValue)for(let t=0;t<o.subBarValues.length;t++)s[t]=(s[t]||0)+o.subBarValues[t];const u=f(a.xRange,c,e.mediaSize.width),{xBasePoint:h,sign:x,xRangeWidth:M}=u;if(o.y>e.mediaSize.height||o.y+o.height<0)return;const b=Math.max(c.percentWidth*M/100-o.subBarValues.length,0);let y=h
;for(let e=0;e<o.subBarValues.length;e++){const n=o.y,a=o.y+o.height,s=y,u=s+x*(b*o.subBarValues[e]/l);if(Math.abs(u-s)<.5)continue;y=u,t.beginPath(),t.fillStyle=c.colors[e];const h=Math.round(s*i),m=Math.round(n*r),f=Math.round(u*i)-h,g=Math.max(Math.round(a*r)-m-d,1);t.rect(h,m,f,g),t.fill()}if(!c.showValues)return;const v=g(o.displayedValues,c.direction),S=p(M,o.y,o.height,u,c,v);m.push(S)})),s.length>0){const t=n.styles[a.bars[0].styleId],i=f(a.xRange,t,e.mediaSize.width),r=g(s,t.direction),l=a.bars[a.bars.length-1],c=p(i.xRangeWidth,l.y+l.height,u,i,t,r);c.color=(0,o.shiftColor)(c.color,1.5),m.push(c)}const x=Math.min(...m.map((t=>t.fontSize)));if(x>=h)for(const n of m)n.fontSize=x,M(t,e,n)})),t.restore()}}function f(t,e,n){const i=e.location===c.HHistLocation.Absolute,o=e.location===c.HHistLocation.Relative,r=e.direction===c.HHistDirection.LeftToRight,a=e.direction===c.HHistDirection.RightToLeft;let s,l;if(i&&r)s=t.min,l=1;else if(i&&a)s=t.max,l=-1;else if(o&&r)s=0,l=1;else{if(!o||!a)throw new Error(`Unknown location/direction values: ${e.location}/${e.direction}`);s=n,l=-1}var u;return{xBasePoint:s,sign:l,xRangeWidth:o?n:(u=t).max-u.min}}function g(t,e){return e===c.HHistDirection.RightToLeft&&(t=t.slice()).reverse(),t.map((t=>d.format(t))).join("x")}function x(t,e,n){return{fontSize:Math.min(Math.round(1.7*t/n.length),Math.round(.6*e)),verticalOffset:.7*e}}function p(t,e,n,o,r,a){const{fontSize:s,verticalOffset:l}=x(t,n,a),u=r.direction===c.HHistDirection.LeftToRight?"left":"right",{xBasePoint:h,sign:d}=o,m=h+3*d,f=e+l;return{text:a,color:r.valuesColor,fontSize:s,align:u,point:new i.Point(m,f)}}function M(t,e,n){const{text:i,color:o,fontSize:a,align:s,point:c}=n;t.font=`${a}px ${l.CHART_FONT_FAMILY}`,t.fillStyle=o,t.textAlign=s,(0,r.drawScaled)(t,e.horizontalPixelRatio,e.verticalPixelRatio,(()=>t.fillText(i,c.x,c.y)))}},837462:(t,e,n)=>{function i(t,e,n,i){return`${i?i+" ":""}${n?n+" ":""}${t}px ${e}`}n.d(e,{makeFont:()=>i,parseFont:()=>r});const o=/(bold )?(italic )?(\d+)(px|pt) (.*)$/;function r(t){const e=o.exec(t);return null===e?null:{family:e[5],size:parseInt(e[3])*("pt"===e[4]?.75:1),bold:Boolean(e[1]),italic:Boolean(e[2])}}}}]);